"use strict";(self.webpackChunkopen_catalogi_docs=self.webpackChunkopen_catalogi_docs||[]).push([[7371],{28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var t=i(96540);const r={},o=t.createContext(r);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(o.Provider,{value:n},e.children)}},52183:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"technical/entity-relationships-corrected","title":"Entity Relationships Correction","description":"Issue Identified","source":"@site/docs/technical/entity-relationships-corrected.md","sourceDirName":"technical","slug":"/technical/entity-relationships-corrected","permalink":"/docs/technical/entity-relationships-corrected","draft":false,"unlisted":false,"editUrl":"https://github.com/conductionnl/openregister/tree/main/website/docs/technical/entity-relationships-corrected.md","tags":[],"version":"current","sidebarPosition":123,"frontMatter":{"title":"Entity Relationships Correction","sidebar_position":123},"sidebar":"tutorialSidebar","previous":{"title":"Entity Relationships Addition","permalink":"/docs/technical/entity-relationships-addition"},"next":{"title":"Text Extraction Quick Start","permalink":"/docs/technical/text-extraction-readme"}}');var r=i(74848),o=i(28453);const s={title:"Entity Relationships Correction",sidebar_position:123},l="Entity Relationships Correction Summary",a={},c=[{value:"Issue Identified",id:"issue-identified",level:2},{value:"Correct Scope",id:"correct-scope",level:2},{value:"\u2705 Correct Relationships",id:"-correct-relationships",level:3},{value:"\u274c Incorrect Relationships (Removed)",id:"-incorrect-relationships-removed",level:3},{value:"Reasoning",id:"reasoning",level:2},{value:"Updated Relationship Types",id:"updated-relationship-types",level:2},{value:"belongs_to (Primary)",id:"belongs_to-primary",level:3},{value:"associated_with",id:"associated_with",level:3},{value:"primary_contact / alternate_contact",id:"primary_contact--alternate_contact",level:3},{value:"Documentation Files Corrected",id:"documentation-files-corrected",level:2},{value:"Benefits of Correct Scope",id:"benefits-of-correct-scope",level:2},{value:"1. Simpler Implementation",id:"1-simpler-implementation",level:3},{value:"2. Better GDPR Compliance",id:"2-better-gdpr-compliance",level:3},{value:"3. Cleaner Data Model",id:"3-cleaner-data-model",level:3},{value:"4. Easier Anonymization",id:"4-easier-anonymization",level:3},{value:"Example: Corrected GDPR Profile",id:"example-corrected-gdpr-profile",level:2},{value:"Implementation Impact",id:"implementation-impact",level:2},{value:"Database Schema",id:"database-schema",level:3},{value:"Detection Logic",id:"detection-logic",level:3},{value:"API Endpoints",id:"api-endpoints",level:3},{value:"Migration from Incorrect Documentation",id:"migration-from-incorrect-documentation",level:2},{value:"Correct Use Cases",id:"correct-use-cases",level:2},{value:"1. Complete Contact Profile",id:"1-complete-contact-profile",level:3},{value:"2. Entity Deduplication",id:"2-entity-deduplication",level:3},{value:"3. Anonymization Planning",id:"3-anonymization-planning",level:3},{value:"4. Organization Contact Directory",id:"4-organization-contact-directory",level:3},{value:"Questions Answered",id:"questions-answered",level:2},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={a:"a",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"entity-relationships-correction-summary",children:"Entity Relationships Correction Summary"})}),"\n",(0,r.jsx)(n.h2,{id:"issue-identified",children:"Issue Identified"}),"\n",(0,r.jsx)(n.p,{children:"The original documentation incorrectly included person-to-person and person-to-organization relationships (family, employment, reporting structure), which are not part of the requirements."}),"\n",(0,r.jsx)(n.h2,{id:"correct-scope",children:"Correct Scope"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"EntityLink is ONLY for contact information ownership"}),":"]}),"\n",(0,r.jsx)(n.h3,{id:"-correct-relationships",children:"\u2705 Correct Relationships"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Contact Info \u2192 Person/Organization"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Phone(+31612345678) \u2192 belongs_to \u2192 Person(John Doe)"}),"\n",(0,r.jsxs)(n.li,{children:["Email(",(0,r.jsx)(n.a,{href:"mailto:info@acme.com",children:"info@acme.com"}),") \u2192 belongs_to \u2192 Organization(Acme Corp)"]}),"\n",(0,r.jsx)(n.li,{children:"Address(123 Main St) \u2192 belongs_to \u2192 Person(John Doe)"}),"\n",(0,r.jsx)(n.li,{children:"Phone(+31201234567) \u2192 belongs_to \u2192 Organization(Acme Corp)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-incorrect-relationships-removed",children:"\u274c Incorrect Relationships (Removed)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Person \u2192 Person"})," (NOT supported):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.del,{children:"Person \u2192 related_to \u2192 Person (family)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.del,{children:"Person \u2192 reports_to \u2192 Person (manager)"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Person \u2192 Organization"})," (NOT supported):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.del,{children:"Person \u2192 works_for \u2192 Organization"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.del,{children:"Person \u2192 manages \u2192 Organization"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Organization \u2192 Organization"})," (NOT supported):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.del,{children:"Organization \u2192 part_of \u2192 Organization"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"reasoning",children:"Reasoning"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GDPR Focus"}),": The primary purpose is tracking which contact information belongs to which data subject"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Attribute-like Relationships"}),": Phone, email, and address are attributes that would normally be properties on a Person or Organization entity"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data Structure"}),": Employment and family relationships should be handled through the object data model, not the entity link system"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"updated-relationship-types",children:"Updated Relationship Types"}),"\n",(0,r.jsx)(n.h3,{id:"belongs_to-primary",children:"belongs_to (Primary)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Links contact info to person or organization"}),"\n",(0,r.jsx)(n.li,{children:"Source: Phone/Email/Address entity"}),"\n",(0,r.jsx)(n.li,{children:"Target: Person/Organization entity"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"associated_with",children:"associated_with"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Generic association for uncertain relationships"}),"\n",(0,r.jsx)(n.li,{children:"Example: Shared mailbox to organization"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"primary_contact--alternate_contact",children:"primary_contact / alternate_contact"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Marks contact priority"}),"\n",(0,r.jsx)(n.li,{children:"Helps identify which contact method is preferred"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"documentation-files-corrected",children:"Documentation Files Corrected"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/technical/text-extraction-entities",children:"Text Extraction Database Entities"})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Removed person-to-person relationships"}),"\n",(0,r.jsx)(n.li,{children:"Removed person-to-organization relationships"}),"\n",(0,r.jsx)(n.li,{children:"Updated relationship types constants"}),"\n",(0,r.jsx)(n.li,{children:"Updated use case examples"}),"\n",(0,r.jsx)(n.li,{children:"Updated knowledge graph queries"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/features/text-extraction-enhanced",children:"Enhanced Text Extraction"})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Updated relationship types"}),"\n",(0,r.jsx)(n.li,{children:"Updated example relationships"}),"\n",(0,r.jsx)(n.li,{children:"Updated GDPR use case output"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/technical/entity-relationships-addition",children:"Entity Relationships Addition"})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Updated relationship types section"}),"\n",(0,r.jsx)(n.li,{children:"Updated use case examples"}),"\n",(0,r.jsx)(n.li,{children:"Updated entity graph example"}),"\n",(0,r.jsx)(n.li,{children:"Updated detection example"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"benefits-of-correct-scope",children:"Benefits of Correct Scope"}),"\n",(0,r.jsx)(n.h3,{id:"1-simpler-implementation",children:"1. Simpler Implementation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Focus on contact info detection"}),"\n",(0,r.jsx)(n.li,{children:"Clear ownership model"}),"\n",(0,r.jsx)(n.li,{children:"No complex social graph logic"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-better-gdpr-compliance",children:"2. Better GDPR Compliance"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Complete contact info inventory per person"}),"\n",(0,r.jsx)(n.li,{children:"All phone numbers/emails/addresses tracked"}),"\n",(0,r.jsx)(n.li,{children:"Clear data subject access reports"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3-cleaner-data-model",children:"3. Cleaner Data Model"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Contact info as entity attributes"}),"\n",(0,r.jsx)(n.li,{children:"Employment/family in object data"}),"\n",(0,r.jsx)(n.li,{children:"No overlap or confusion"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"4-easier-anonymization",children:"4. Easier Anonymization"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Anonymize all contact info for a person"}),"\n",(0,r.jsx)(n.li,{children:"Update all entity links"}),"\n",(0,r.jsx)(n.li,{children:"Maintain data structure"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-corrected-gdpr-profile",children:"Example: Corrected GDPR Profile"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Data Subject Request: John Doe\n\nContact Information Owned:\n- Phone: +31612345678 (primary)\n- Phone: +31687654321 (alternate)\n- Email: john.doe@example.com (primary)\n- Email: j.doe@company.com (alternate)\n- Address: 123 Main St, Amsterdam\n\nFound in Documents:\n- contract-2024.pdf (5 mentions)\n- email-thread.eml (12 mentions)\n- meeting-notes.docx (3 mentions)\n\nTotal: 5 phone numbers, emails, addresses linked to this person\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Not included"})," (handled elsewhere):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Employment information"}),"\n",(0,r.jsx)(n.li,{children:"Family relationships"}),"\n",(0,r.jsx)(n.li,{children:"Organizational hierarchy"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"implementation-impact",children:"Implementation Impact"}),"\n",(0,r.jsx)(n.h3,{id:"database-schema",children:"Database Schema"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 No changes needed to table structure"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Relationship type constants updated"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Simpler than originally designed"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"detection-logic",children:"Detection Logic"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Focus on proximity detection (contact info near person/org name)"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Pattern matching for contact blocks"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 LLM for context-aware detection"}),"\n",(0,r.jsx)(n.li,{children:"\u274c Removed: Employment pattern detection"}),"\n",(0,r.jsx)(n.li,{children:"\u274c Removed: Family relationship detection"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"api-endpoints",children:"API Endpoints"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 All endpoints still valid"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Simplified use cases"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Clearer purpose"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"migration-from-incorrect-documentation",children:"Migration from Incorrect Documentation"}),"\n",(0,r.jsx)(n.p,{children:"If any code was written based on the incorrect documentation:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Remove"})," relationship types: ",(0,r.jsx)(n.code,{children:"works_for"}),", ",(0,r.jsx)(n.code,{children:"part_of"}),", ",(0,r.jsx)(n.code,{children:"related_to"}),", ",(0,r.jsx)(n.code,{children:"reports_to"}),", ",(0,r.jsx)(n.code,{children:"manages"}),", ",(0,r.jsx)(n.code,{children:"owned_by"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Keep"})," relationship types: ",(0,r.jsx)(n.code,{children:"belongs_to"}),", ",(0,r.jsx)(n.code,{children:"associated_with"}),", ",(0,r.jsx)(n.code,{children:"primary_contact"}),", ",(0,r.jsx)(n.code,{children:"alternate_contact"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Update"})," detection logic to focus on contact info proximity"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Simplify"})," use cases to contact info ownership only"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"correct-use-cases",children:"Correct Use Cases"}),"\n",(0,r.jsx)(n.h3,{id:"1-complete-contact-profile",children:"1. Complete Contact Profile"}),"\n",(0,r.jsx)(n.p,{children:"Find all contact methods for a person:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Person(John Doe) has:\n- 2 phone numbers\n- 3 email addresses\n- 1 physical address\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-entity-deduplication",children:"2. Entity Deduplication"}),"\n",(0,r.jsx)(n.p,{children:"Merge persons based on shared contact info:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Person(John Doe) and Person(J. Doe) share:\n- Same phone: +31612345678\n- Same email: john.doe@example.com\n\u2192 Likely same person, merge entities\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-anonymization-planning",children:"3. Anonymization Planning"}),"\n",(0,r.jsx)(n.p,{children:"Before anonymizing, gather all contact info:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"To anonymize Person(John Doe):\n- Find all linked phones\n- Find all linked emails\n- Find all linked addresses\n- Anonymize all together\n"})}),"\n",(0,r.jsx)(n.h3,{id:"4-organization-contact-directory",children:"4. Organization Contact Directory"}),"\n",(0,r.jsx)(n.p,{children:"Get all contact methods for an organization:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Organization(Acme Corp) has:\n- 2 phone numbers (main + support)\n- 5 email addresses (info, sales, support, etc.)\n- 2 addresses (HQ + warehouse)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"questions-answered",children:"Questions Answered"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: Can we track employment relationships?"}),"\nA: Not through EntityLink. Use object data (e.g., Employee object with organization property)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: Can we track family relationships?"}),"\nA: Not through EntityLink. Use object data if needed (e.g., Relationship object)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: Can we track organizational hierarchy?"}),"\nA: Not through EntityLink. Use object data (e.g., Organization object with parent property)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: What IS EntityLink for?"}),"\nA: Tracking which phone numbers, email addresses, and physical addresses belong to which persons or organizations."]}),"\n",(0,r.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,r.jsxs)(n.p,{children:["The corrected documentation now accurately reflects that ",(0,r.jsx)(n.strong,{children:"EntityLink is specifically for tracking contact information ownership"}),", not for social/organizational graphs. This makes the system:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Simpler to implement"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 More focused on GDPR use case"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Cleaner data model"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Easier to understand and maintain"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"All documentation has been updated to reflect this correct scope."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status"}),": \u2705 Documentation corrected and consistent across all files"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);