"use strict";(self.webpackChunkopen_catalogi_docs=self.webpackChunkopen_catalogi_docs||[]).push([[8714],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var a=t(96540);const r={},i=a.createContext(r);function s(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),a.createElement(i.Provider,{value:n},e.children)}},54339:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"technical/solr-dashboard-management","title":"SOLR Dashboard Management - Technical Implementation","description":"Overview","source":"@site/docs/technical/solr-dashboard-management.md","sourceDirName":"technical","slug":"/technical/solr-dashboard-management","permalink":"/docs/technical/solr-dashboard-management","draft":false,"unlisted":false,"editUrl":"https://github.com/conductionnl/openregister/tree/main/website/docs/technical/solr-dashboard-management.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Schema-Based Faceting","permalink":"/docs/technical/schema-based-facets"},"next":{"title":"SOLR Guzzle Migration Progress","permalink":"/docs/technical/solr-guzzle-migration"}}');var r=t(74848),i=t(28453);const s={},o="SOLR Dashboard Management - Technical Implementation",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Architecture Components",id:"architecture-components",level:2},{value:"Frontend Implementation",id:"frontend-implementation",level:3},{value:"SolrDashboard.vue Component",id:"solrdashboardvue-component",level:4},{value:"Backend Implementation",id:"backend-implementation",level:3},{value:"API Endpoints",id:"api-endpoints",level:4},{value:"Service Layer Architecture",id:"service-layer-architecture",level:4},{value:"SolrService Enhancements",id:"solrservice-enhancements",level:4},{value:"Data Flow Architecture",id:"data-flow-architecture",level:3},{value:"Statistics Collection Flow",id:"statistics-collection-flow",level:4},{value:"Management Operation Flow",id:"management-operation-flow",level:4},{value:"Performance Optimizations",id:"performance-optimizations",level:2},{value:"Lazy Loading Implementation",id:"lazy-loading-implementation",level:3},{value:"Parallel Statistics Collection",id:"parallel-statistics-collection",level:3},{value:"Frontend Optimization Strategies",id:"frontend-optimization-strategies",level:3},{value:"Auto-Refresh Management",id:"auto-refresh-management",level:4},{value:"Error Handling with Graceful Fallbacks",id:"error-handling-with-graceful-fallbacks",level:4},{value:"Error Handling &amp; Resilience",id:"error-handling--resilience",level:2},{value:"Service Layer Error Handling",id:"service-layer-error-handling",level:3},{value:"Frontend Error States",id:"frontend-error-states",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"API Endpoint Protection",id:"api-endpoint-protection",level:3},{value:"Tenant Isolation",id:"tenant-isolation",level:3},{value:"Testing Strategy",id:"testing-strategy",level:2},{value:"Unit Testing",id:"unit-testing",level:3},{value:"Integration Testing",id:"integration-testing",level:3},{value:"Frontend Testing",id:"frontend-testing",level:3},{value:"Deployment &amp; Configuration",id:"deployment--configuration",level:2},{value:"Environment Requirements",id:"environment-requirements",level:3},{value:"Configuration Settings",id:"configuration-settings",level:3},{value:"Monitoring Setup",id:"monitoring-setup",level:3},{value:"Best Practices &amp; Recommendations",id:"best-practices--recommendations",level:2},{value:"Development Guidelines",id:"development-guidelines",level:3},{value:"Production Deployment",id:"production-deployment",level:3},{value:"Maintenance Tasks",id:"maintenance-tasks",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"solr-dashboard-management---technical-implementation",children:"SOLR Dashboard Management - Technical Implementation"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The SOLR Dashboard Management system provides comprehensive monitoring and management capabilities for Apache SOLR search infrastructure in OpenRegister. It offers real-time statistics, health monitoring, and administrative operations through a unified web interface."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:'graph TB\n    subgraph "Frontend Layer"\n        A[SolrDashboard.vue] --\x3e B[Dashboard Components]\n        A --\x3e C[Management Controls]\n    end\n    \n    subgraph "API Layer"\n        D[SettingsController] --\x3e E[Dashboard Endpoints]\n        D --\x3e F[Management Endpoints]\n    end\n    \n    subgraph "Service Layer"\n        G[SettingsService] --\x3e H[SolrService Integration]\n        I[ObjectCacheService] --\x3e J[SOLR Operations]\n        K[SolrService] --\x3e L[Statistics Collection]\n        K --\x3e M[Management Operations]\n    end\n    \n    subgraph "SOLR Infrastructure"\n        N[Apache SOLR] --\x3e O[Core Management]\n        N --\x3e P[Query Processing]\n        N --\x3e Q[Index Operations]\n    end\n    \n    A --\x3e D\n    D --\x3e G\n    G --\x3e I\n    I --\x3e K\n    K --\x3e N\n    \n    style A fill:#e3f2fd\n    style D fill:#f3e5f5\n    style G fill:#e8f5e8\n    style K fill:#fff3e0\n    style N fill:#fce4ec\n'})}),"\n",(0,r.jsx)(n.h2,{id:"architecture-components",children:"Architecture Components"}),"\n",(0,r.jsx)(n.h3,{id:"frontend-implementation",children:"Frontend Implementation"}),"\n",(0,r.jsx)(n.h4,{id:"solrdashboardvue-component",children:"SolrDashboard.vue Component"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Location"}),": ",(0,r.jsx)(n.code,{children:"src/views/settings/SolrDashboard.vue"})]}),"\n",(0,r.jsx)(n.p,{children:"The main dashboard component providing comprehensive SOLR monitoring and management interface."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Real-time statistics display with auto-refresh (30s intervals)"}),"\n",(0,r.jsx)(n.li,{children:"Interactive management controls (warmup, commit, optimize, clear)"}),"\n",(0,r.jsx)(n.li,{children:"Responsive design with Nextcloud UI components"}),"\n",(0,r.jsx)(n.li,{children:"Error handling with graceful fallbacks"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Component Structure:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-vue",children:'<template>\n  \x3c!-- Overview Cards --\x3e\n  <div class="solr-overview-cards">\n    \x3c!-- Connection, Documents, Index Size, Performance --\x3e\n  </div>\n  \n  \x3c!-- Core Information --\x3e\n  <div class="solr-cores-grid">\n    \x3c!-- Active core details, tenant info --\x3e\n  </div>\n  \n  \x3c!-- Performance Metrics --\x3e\n  <div class="performance-grid">\n    \x3c!-- Search/Index operations, error rates --\x3e\n  </div>\n  \n  \x3c!-- Health & Resources --\x3e\n  <div class="health-grid">\n    \x3c!-- System status, memory/disk usage --\x3e\n  </div>\n  \n  \x3c!-- Operations Management --\x3e\n  <div class="operations-grid">\n    \x3c!-- Recent activity, queue status, commit settings --\x3e\n  </div>\n</template>\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Data Structure:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"data() {\n  return {\n    solrStats: {\n      overview: {\n        available: false,\n        connection_status: 'unknown',\n        response_time_ms: 0,\n        total_documents: 0,\n        index_size: '0 B',\n        last_commit: null,\n      },\n      cores: {\n        active_core: 'unknown',\n        core_status: 'inactive',\n        tenant_id: 'unknown',\n        endpoint_url: 'N/A',\n      },\n      performance: {\n        total_searches: 0,\n        total_indexes: 0,\n        total_deletes: 0,\n        avg_search_time_ms: 0,\n        avg_index_time_ms: 0,\n        operations_per_sec: 0,\n        error_rate: 0,\n      },\n      health: {\n        status: 'unknown',\n        uptime: 'N/A',\n        memory_usage: { used: 'N/A', max: 'N/A', percentage: 0 },\n        disk_usage: { used: 'N/A', available: 'N/A', percentage: 0 },\n        warnings: [],\n        last_optimization: null,\n      },\n      operations: {\n        recent_activity: [],\n        queue_status: { pending_operations: 0, processing: false },\n        commit_frequency: { auto_commit: false, commit_within: 0 },\n        optimization_needed: false,\n      }\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"backend-implementation",children:"Backend Implementation"}),"\n",(0,r.jsx)(n.h4,{id:"api-endpoints",children:"API Endpoints"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Dashboard Statistics Endpoint"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"/**\n * GET /api/solr/dashboard/stats\n * \n * Returns comprehensive SOLR dashboard statistics including:\n * - Connection status and performance\n * - Core information and configuration\n * - Performance metrics and error rates\n * - Health indicators and resource usage\n * - Recent operations and queue status\n */\npublic function getSolrDashboardStats(): JSONResponse\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Management Operations Endpoint"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"/**\n * POST /api/solr/manage/{operation}\n * \n * Performs SOLR management operations:\n * - commit: Force index commit\n * - optimize: Index optimization\n * - clear: Clear entire index\n * - warmup: Index warmup operations\n */\npublic function manageSolr(string $operation): JSONResponse\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Connection Testing Endpoint"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"/**\n * GET /api/solr/test\n * \n * Tests SOLR connectivity and returns detailed status\n */\npublic function testSolrConnection(): JSONResponse\n"})}),"\n",(0,r.jsx)(n.h4,{id:"service-layer-architecture",children:"Service Layer Architecture"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant Dashboard as SolrDashboard.vue\n    participant Controller as SettingsController\n    participant Settings as SettingsService\n    participant Cache as ObjectCacheService\n    participant Solr as SolrService\n    participant SOLR as Apache SOLR\n    \n    Dashboard->>Controller: GET /api/solr/dashboard/stats\n    Controller->>Settings: getSolrDashboardStats()\n    Settings->>Cache: getSolrDashboardStats()\n    Cache->>Solr: getDashboardStats()\n    \n    Solr->>SOLR: testConnection()\n    Solr->>SOLR: getDocumentCount()\n    Solr->>SOLR: getStats()\n    \n    SOLR--\x3e>Solr: Statistics Data\n    Solr--\x3e>Cache: Dashboard Statistics\n    Cache--\x3e>Settings: Formatted Data\n    Settings--\x3e>Controller: Complete Statistics\n    Controller--\x3e>Dashboard: JSON Response\n    \n    Dashboard->>Dashboard: updateDisplay()\n    Dashboard->>Dashboard: scheduleNextRefresh()\n"})}),"\n",(0,r.jsx)(n.h4,{id:"solrservice-enhancements",children:"SolrService Enhancements"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"New Methods Added:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"/**\n * Get comprehensive dashboard statistics\n * \n * @return array Complete dashboard metrics\n */\npublic function getDashboardStats(): array\n{\n    return [\n        'overview' => $this->getOverviewStats(),\n        'cores' => $this->getCoreInformation(),\n        'performance' => $this->getPerformanceMetrics(),\n        'health' => $this->getHealthIndicators(),\n        'operations' => $this->getOperationsStatus(),\n        'generated_at' => date('c'),\n    ];\n}\n\n/**\n * Get document count from SOLR core\n */\npublic function getDocumentCount(): int\n\n/**\n * Get approximate index size\n */\npublic function getIndexSize(): string\n\n/**\n * Warm up SOLR index with sample operations\n */\npublic function warmupIndex(): array\n\n/**\n * Calculate operations per second\n */\nprivate function calculateOperationsPerSecond(): float\n\n/**\n * Calculate error rate percentage\n */\nprivate function calculateErrorRate(): float\n\n/**\n * Get overall health status\n */\nprivate function getHealthStatus(): string\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Statistics Collection:"})}),"\n",(0,r.jsx)(n.p,{children:"The service collects comprehensive metrics through various methods:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"graph LR\n    A[SolrService Statistics] --\x3e B[Connection Metrics]\n    A --\x3e C[Performance Data]\n    A --\x3e D[Health Indicators]\n    A --\x3e E[Operation Tracking]\n    \n    B --\x3e B1[Response Times]\n    B --\x3e B2[Availability Status]\n    B --\x3e B3[Connection Success Rate]\n    \n    C --\x3e C1[Search Operations Count]\n    C --\x3e C2[Index Operations Count]\n    C --\x3e C3[Average Response Times]\n    C --\x3e C4[Throughput Metrics]\n    \n    D --\x3e D1[System Status]\n    D --\x3e D2[Resource Usage]\n    D --\x3e D3[Error Rates]\n    D --\x3e D4[Optimization Status]\n    \n    E --\x3e E1[Recent Activity Log]\n    E --\x3e E2[Queue Status]\n    E --\x3e E3[Commit Frequency]\n    E --\x3e E4[Operation History]\n    \n    style A fill:#e3f2fd\n    style B fill:#f3e5f5\n    style C fill:#e8f5e8\n    style D fill:#fff3e0\n    style E fill:#fce4ec\n"})}),"\n",(0,r.jsx)(n.h3,{id:"data-flow-architecture",children:"Data Flow Architecture"}),"\n",(0,r.jsx)(n.h4,{id:"statistics-collection-flow",children:"Statistics Collection Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant Timer as Auto-Refresh Timer\n    participant Vue as SolrDashboard.vue\n    participant API as Dashboard API\n    participant Service as SolrService\n    participant SOLR as Apache SOLR\n    \n    Timer->>Vue: Trigger Refresh (30s)\n    Vue->>API: GET /api/solr/dashboard/stats\n    \n    API->>Service: getDashboardStats()\n    \n    parallel\n        Service->>SOLR: testConnection()\n        and Service->>SOLR: getDocumentCount()\n        and Service->>Service: getStats()\n        and Service->>Service: calculateMetrics()\n    end\n    \n    Service->>API: Compiled Statistics\n    API->>Vue: JSON Response\n    Vue->>Vue: updateDisplay()\n    Vue->>Vue: scheduleNextRefresh()\n    \n    Note over Vue,SOLR: Real-time updates every 30 seconds\n    Note over Service,SOLR: Multiple parallel queries for efficiency\n"})}),"\n",(0,r.jsx)(n.h4,{id:"management-operation-flow",children:"Management Operation Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant User as Dashboard User\n    participant Vue as SolrDashboard.vue\n    participant API as Management API\n    participant Service as SolrService\n    participant SOLR as Apache SOLR\n    \n    User->>Vue: Click Management Button\n    Vue->>Vue: showConfirmation() [if destructive]\n    \n    alt User Confirms Operation\n        Vue->>API: POST /api/solr/manage/{operation}\n        API->>Service: performOperation()\n        \n        alt Commit Operation\n            Service->>SOLR: commit()\n        else Optimize Operation\n            Service->>SOLR: optimize()\n        else Clear Operation\n            Service->>SOLR: clearIndex()\n        else Warmup Operation\n            Service->>SOLR: warmupQueries()\n        end\n        \n        SOLR--\x3e>Service: Operation Result\n        Service--\x3e>API: Formatted Response\n        API--\x3e>Vue: Success/Error Status\n        \n        Vue->>Vue: showNotification()\n        Vue->>API: Refresh Dashboard Stats\n        Vue->>Vue: updateDisplay()\n    end\n"})}),"\n",(0,r.jsx)(n.h2,{id:"performance-optimizations",children:"Performance Optimizations"}),"\n",(0,r.jsx)(n.h3,{id:"lazy-loading-implementation",children:"Lazy Loading Implementation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"/**\n * SolrService implements lazy initialization to prevent\n * performance bottlenecks during application startup\n */\nclass SolrService\n{\n    private bool $clientInitialized = false;\n    \n    private function ensureClientInitialized(): void\n    {\n        if (!$this->clientInitialized) {\n            $this->initializeClient();\n            $this->clientInitialized = true;\n        }\n    }\n    \n    public function getDashboardStats(): array\n    {\n        $this->ensureClientInitialized();\n        // ... statistics collection\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"parallel-statistics-collection",children:"Parallel Statistics Collection"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"/**\n * Dashboard statistics are collected in parallel\n * to minimize response times\n */\npublic function getDashboardStats(): array\n{\n    $this->ensureClientInitialized();\n    \n    // Collect base statistics\n    $baseStats = $this->getStats();\n    $connection = $this->testConnection();\n    \n    // Parallel collection of different metric types\n    return [\n        'overview' => $this->buildOverviewStats($baseStats, $connection),\n        'cores' => $this->buildCoreStats($connection),\n        'performance' => $this->buildPerformanceStats($baseStats),\n        'health' => $this->buildHealthStats($baseStats, $connection),\n        'operations' => $this->buildOperationsStats($baseStats),\n        'generated_at' => date('c'),\n    ];\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"frontend-optimization-strategies",children:"Frontend Optimization Strategies"}),"\n",(0,r.jsx)(n.h4,{id:"auto-refresh-management",children:"Auto-Refresh Management"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Intelligent refresh scheduling\nmounted() {\n  this.loadSolrStats()\n  this.refreshInterval = setInterval(() => {\n    // Only refresh when not performing operations\n    if (!this.loading && !this.operating && !this.warmingUp) {\n      this.loadSolrStats()\n    }\n  }, 30000)\n},\n\nbeforeDestroy() {\n  if (this.refreshInterval) {\n    clearInterval(this.refreshInterval)\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"error-handling-with-graceful-fallbacks",children:"Error Handling with Graceful Fallbacks"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"async loadSolrStats() {\n  this.loadingStats = true\n  \n  try {\n    const response = await fetch('/index.php/apps/openregister/api/solr/dashboard/stats')\n    const data = await response.json()\n    \n    if (data.error) {\n      console.error('Failed to load SOLR stats:', data.error)\n      // Dashboard shows unavailable state\n      return\n    }\n    \n    this.solrStats = { ...this.solrStats, ...data }\n    \n  } catch (error) {\n    console.error('Failed to load SOLR stats:', error)\n    // Graceful degradation to offline state\n  } finally {\n    this.loadingStats = false\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"error-handling--resilience",children:"Error Handling & Resilience"}),"\n",(0,r.jsx)(n.h3,{id:"service-layer-error-handling",children:"Service Layer Error Handling"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"/**\n * Comprehensive error handling with graceful degradation\n */\npublic function getSolrDashboardStats(): array\n{\n    try {\n        $objectCacheService = $this->container->get(ObjectCacheService::class);\n        return $objectCacheService->getSolrDashboardStats();\n    } catch (\\Exception $e) {\n        // Return safe default structure when SOLR unavailable\n        return [\n            'overview' => [\n                'available' => false,\n                'connection_status' => 'unavailable',\n                // ... safe defaults\n            ],\n            // ... complete fallback structure\n            'error' => $e->getMessage()\n        ];\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"frontend-error-states",children:"Frontend Error States"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-vue",children:'\x3c!-- Loading State --\x3e\n<div v-if="loadingStats" class="loading-container">\n  <NcLoadingIcon :size="64" />\n  <p>Loading SOLR statistics...</p>\n</div>\n\n\x3c!-- Error State --\x3e\n<div v-else-if="solrStats.error" class="error-container">\n  <div class="error-message">\n    <h3>SOLR Unavailable</h3>\n    <p>{{ solrStats.error }}</p>\n    <NcButton @click="loadSolrStats">Retry</NcButton>\n  </div>\n</div>\n\n\x3c!-- Normal State --\x3e\n<div v-else class="solr-content">\n  \x3c!-- Dashboard content --\x3e\n</div>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"api-endpoint-protection",children:"API Endpoint Protection"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"/**\n * All dashboard endpoints require admin privileges\n * \n * @NoAdminRequired - NOT used for management operations\n * @NoCSRFRequired - Used for read-only operations only\n */\nclass SettingsController extends Controller\n{\n    public function getSolrDashboardStats(): JSONResponse\n    {\n        // Admin-only access enforced by Nextcloud\n    }\n    \n    public function manageSolr(string $operation): JSONResponse\n    {\n        // Restricted operations with validation\n        if (!in_array($operation, ['commit', 'optimize', 'clear', 'warmup'])) {\n            return new JSONResponse(['error' => 'Invalid operation'], 400);\n        }\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"tenant-isolation",children:"Tenant Isolation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"/**\n * All SOLR operations are tenant-aware\n */\nclass SolrService\n{\n    private function buildQueryString(array $searchParams): string\n    {\n        // Always enforce tenant isolation\n        $tenantFilter = sprintf('tenant_id:%s', $this->escapeSolrValue($this->tenantId));\n        \n        // Combine with user query\n        return sprintf('(%s) AND %s', $userQuery, $tenantFilter);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"testing-strategy",children:"Testing Strategy"}),"\n",(0,r.jsx)(n.h3,{id:"unit-testing",children:"Unit Testing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"/**\n * Test dashboard statistics collection\n */\nclass SolrDashboardTest extends TestCase\n{\n    public function testGetDashboardStatsWithAvailableSolr()\n    {\n        $solrService = $this->createMock(SolrService::class);\n        $solrService->method('getDashboardStats')->willReturn([\n            'overview' => ['available' => true],\n            // ... complete test data\n        ]);\n        \n        $result = $this->settingsService->getSolrDashboardStats();\n        $this->assertTrue($result['overview']['available']);\n    }\n    \n    public function testGetDashboardStatsWithUnavailableSolr()\n    {\n        $solrService = $this->createMock(SolrService::class);\n        $solrService->method('getDashboardStats')->willThrowException(\n            new \\RuntimeException('SOLR unavailable')\n        );\n        \n        $result = $this->settingsService->getSolrDashboardStats();\n        $this->assertFalse($result['overview']['available']);\n        $this->assertArrayHasKey('error', $result);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"integration-testing",children:"Integration Testing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\n# Test SOLR dashboard endpoints\n\necho \"Testing SOLR Dashboard Integration...\"\n\n# Test dashboard stats endpoint\necho \"1. Testing dashboard statistics...\"\ndocker exec -u 33 master-nextcloud-1 curl -s -u 'admin:admin' \\\n  -H 'Content-Type: application/json' \\\n  'http://localhost/index.php/apps/openregister/api/solr/dashboard/stats' | jq .overview.available\n\n# Test connection testing endpoint\necho \"2. Testing connection test...\"\ndocker exec -u 33 master-nextcloud-1 curl -s -u 'admin:admin' \\\n  'http://localhost/index.php/apps/openregister/api/solr/test' | jq .connection.success\n\n# Test management operations\necho \"3. Testing warmup operation...\"\ndocker exec -u 33 master-nextcloud-1 curl -s -u 'admin:admin' \\\n  -X POST -H 'Content-Type: application/json' \\\n  'http://localhost/index.php/apps/openregister/api/solr/manage/warmup' | jq .success\n\necho \"SOLR Dashboard Integration Tests Complete!\"\n"})}),"\n",(0,r.jsx)(n.h3,{id:"frontend-testing",children:"Frontend Testing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"/**\n * Vue component testing with Vue Test Utils\n */\nimport { mount } from '@vue/test-utils'\nimport SolrDashboard from '@/views/settings/SolrDashboard.vue'\n\ndescribe('SolrDashboard.vue', () => {\n  test('displays loading state initially', () => {\n    const wrapper = mount(SolrDashboard)\n    expect(wrapper.find('.loading-container').exists()).toBe(true)\n  })\n  \n  test('displays dashboard when data loaded', async () => {\n    const wrapper = mount(SolrDashboard)\n    \n    // Mock API response\n    wrapper.vm.solrStats = mockSolrStats\n    wrapper.vm.loadingStats = false\n    await wrapper.vm.$nextTick()\n    \n    expect(wrapper.find('.solr-content').exists()).toBe(true)\n  })\n  \n  test('handles management operations', async () => {\n    const wrapper = mount(SolrDashboard)\n    \n    // Mock successful warmup\n    wrapper.vm.warmupIndex = jest.fn().mockResolvedValue()\n    \n    await wrapper.find('.warmup-button').trigger('click')\n    expect(wrapper.vm.warmupIndex).toHaveBeenCalled()\n  })\n})\n"})}),"\n",(0,r.jsx)(n.h2,{id:"deployment--configuration",children:"Deployment & Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"environment-requirements",children:"Environment Requirements"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# docker-compose.yml additions\nservices:\n  solr:\n    image: solr:9-slim\n    container_name: openregister-solr\n    restart: always\n    ports:\n      - \"8983:8983\"\n    volumes:\n      - solr:/var/solr\n    environment:\n      - SOLR_HEAP=512m\n      - SOLR_LOG_LEVEL=WARN\n    healthcheck:\n      test: ['CMD-SHELL', 'curl -f http://localhost:8983/solr/openregister/admin/ping || exit 1']\n      interval: 30s\n      timeout: 10s\n      retries: 3\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-settings",children:"Configuration Settings"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"/**\n * Default SOLR dashboard configuration\n */\nprivate function getDefaultSolrSettings(): array\n{\n    return [\n        'enabled' => false,  // Disabled by default for safety\n        'host' => 'solr',\n        'port' => 8983,\n        'scheme' => 'http',\n        'path' => '/solr',\n        'core' => 'openregister',\n        'timeout' => 30,\n        'autoCommit' => true,\n        'commitWithin' => 1000,\n        'enableLogging' => false,\n        'dashboard_refresh_interval' => 30,\n    ];\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"monitoring-setup",children:"Monitoring Setup"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\n# SOLR Dashboard monitoring script\n\n# Check dashboard health\ncheck_dashboard_health() {\n    local response=$(docker exec -u 33 master-nextcloud-1 curl -s -u 'admin:admin' \\\n        'http://localhost/index.php/apps/openregister/api/solr/dashboard/stats' | jq -r '.overview.connection_status')\n    \n    if [ \"$response\" != \"healthy\" ]; then\n        echo \"ALERT: SOLR Dashboard reports unhealthy status: $response\"\n        # Send alert notification\n    else\n        echo \"OK: SOLR Dashboard healthy\"\n    fi\n}\n\n# Monitor performance metrics\ncheck_performance() {\n    local error_rate=$(docker exec -u 33 master-nextcloud-1 curl -s -u 'admin:admin' \\\n        'http://localhost/index.php/apps/openregister/api/solr/dashboard/stats' | jq -r '.performance.error_rate')\n    \n    if (( $(echo \"$error_rate > 5.0\" | bc -l) )); then\n        echo \"ALERT: High SOLR error rate: $error_rate%\"\n    fi\n}\n\n# Run monitoring checks\ncheck_dashboard_health\ncheck_performance\n"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices--recommendations",children:"Best Practices & Recommendations"}),"\n",(0,r.jsx)(n.h3,{id:"development-guidelines",children:"Development Guidelines"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Component Structure"}),": Keep dashboard components modular and focused"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error Handling"}),": Always provide graceful fallbacks for SOLR unavailability"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Performance"}),": Use lazy loading and parallel operations where possible"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security"}),": Ensure all management operations require proper authentication"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Testing"}),": Comprehensive unit and integration testing for all operations"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"production-deployment",children:"Production Deployment"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitoring"}),": Set up alerting for SOLR availability and performance"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Resource Management"}),": Monitor memory and disk usage trends"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security"}),": Restrict dashboard access to authorized administrators only"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Backup"}),": Regular backup of SOLR cores and configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scaling"}),": Monitor query performance and optimize as needed"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"maintenance-tasks",children:"Maintenance Tasks"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Weekly maintenance script\n#!/bin/bash\n\n# Check SOLR optimization status\noptimization_needed=$(docker exec -u 33 master-nextcloud-1 curl -s -u 'admin:admin' \\\n    'http://localhost/index.php/apps/openregister/api/solr/dashboard/stats' | \\\n    jq -r '.operations.optimization_needed')\n\nif [ \"$optimization_needed\" = \"true\" ]; then\n    echo \"Running SOLR optimization...\"\n    docker exec -u 33 master-nextcloud-1 curl -s -u 'admin:admin' \\\n        -X POST 'http://localhost/index.php/apps/openregister/api/solr/manage/optimize'\nfi\n\n# Generate weekly performance report\necho \"Generating SOLR performance report...\"\ndocker exec -u 33 master-nextcloud-1 curl -s -u 'admin:admin' \\\n    'http://localhost/index.php/apps/openregister/api/solr/dashboard/stats' | \\\n    jq '.performance' > \"solr_performance_$(date +%Y%m%d).json\"\n"})}),"\n",(0,r.jsx)(n.p,{children:"The SOLR Dashboard Management system provides a robust, scalable solution for monitoring and managing SOLR search infrastructure with enterprise-grade features and comprehensive error handling."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);