"use strict";(self.webpackChunkopen_catalogi_docs=self.webpackChunkopen_catalogi_docs||[]).push([[9449],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var r=i(96540);const s={},t=r.createContext(s);function o(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:n},e.children)}},90359:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Features/configurations","title":"Configurations","description":"Configurations in OpenRegister allow you to package and manage related registers, schemas, and objects together as a coherent unit. This feature is particularly useful for multi-tenancy, application packaging, and organizing complex data structures.","source":"@site/docs/Features/configurations.md","sourceDirName":"Features","slug":"/Features/configurations","permalink":"/docs/Features/configurations","draft":false,"unlisted":false,"editUrl":"https://github.com/conductionnl/openregister/tree/main/website/docs/Features/configurations.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Archiving & Metadata Feature Summary","permalink":"/docs/Features/archiving-and-metadata-feature-summary"},"next":{"title":"Comprehensive Faceting System","permalink":"/docs/Features/faceting"}}');var s=i(74848),t=i(28453);const o={},l="Configurations",a={},c=[{value:"Overview",id:"overview",level:2},{value:"Key Concepts",id:"key-concepts",level:2},{value:"Configuration Properties",id:"configuration-properties",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"Application Packaging",id:"application-packaging",level:3},{value:"Multi-Tenancy",id:"multi-tenancy",level:3},{value:"Module Organization",id:"module-organization",level:3},{value:"Creating a Configuration",id:"creating-a-configuration",level:2},{value:"Step 1: Navigate to Configurations",id:"step-1-navigate-to-configurations",level:3},{value:"Step 2: Add New Configuration",id:"step-2-add-new-configuration",level:3},{value:"Step 3: Select Registers and Schemas",id:"step-3-select-registers-and-schemas",level:3},{value:"Step 4: Save the Configuration",id:"step-4-save-the-configuration",level:3},{value:"Editing a Configuration",id:"editing-a-configuration",level:2},{value:"Modifying Configuration Details",id:"modifying-configuration-details",level:3},{value:"Managing Associations",id:"managing-associations",level:3},{value:"Viewing Configurations",id:"viewing-configurations",level:2},{value:"Card View",id:"card-view",level:3},{value:"Table View",id:"table-view",level:3},{value:"Exporting and Importing Configurations",id:"exporting-and-importing-configurations",level:2},{value:"Exporting",id:"exporting",level:3},{value:"Importing",id:"importing",level:3},{value:"Local vs External Configurations",id:"local-vs-external-configurations",level:2},{value:"Local Configurations",id:"local-configurations",level:3},{value:"External Configurations",id:"external-configurations",level:3},{value:"Sync Status Indicators",id:"sync-status-indicators",level:3},{value:"Discovering and Importing Configurations",id:"discovering-and-importing-configurations",level:2},{value:"Discovery from GitHub/GitLab",id:"discovery-from-githubgitlab",level:3},{value:"Import from Specific Repository",id:"import-from-specific-repository",level:3},{value:"Import from Direct URL",id:"import-from-direct-url",level:3},{value:"File Naming Conventions for Discoverability",id:"file-naming-conventions-for-discoverability",level:2},{value:"Recommended File Names",id:"recommended-file-names",level:3},{value:"Examples",id:"examples",level:3},{value:"File Location",id:"file-location",level:3},{value:"Metadata for Discovery",id:"metadata-for-discovery",level:3},{value:"Making Configurations Discoverable",id:"making-configurations-discoverable",level:3},{value:"1. File Structure",id:"1-file-structure",level:4},{value:"2. File Naming Convention for Discovery",id:"2-file-naming-convention-for-discovery",level:4},{value:"3. Required Fields",id:"3-required-fields",level:4},{value:"3. File Naming Conventions",id:"3-file-naming-conventions",level:4},{value:"4. Complete Example",id:"4-complete-example",level:4},{value:"5. Testing Discoverability",id:"5-testing-discoverability",level:4},{value:"6. API Tokens for Private Repositories",id:"6-api-tokens-for-private-repositories",level:4},{value:"7. Publishing Updates",id:"7-publishing-updates",level:4},{value:"OpenRegister Version Requirements",id:"openregister-version-requirements",level:2},{value:"Version Constraint Format",id:"version-constraint-format",level:3},{value:"Supported Constraint Formats",id:"supported-constraint-formats",level:3},{value:"Examples",id:"examples-1",level:3},{value:"Automatic Synchronization",id:"automatic-synchronization",level:2},{value:"Configuring Auto-Sync",id:"configuring-auto-sync",level:3},{value:"Sync Behavior",id:"sync-behavior",level:3},{value:"Manual Sync",id:"manual-sync",level:3},{value:"Sync Frequency",id:"sync-frequency",level:3},{value:"Publishing Local Configurations",id:"publishing-local-configurations",level:2},{value:"Publishing to GitHub",id:"publishing-to-github",level:3},{value:"Private Repositories",id:"private-repositories",level:3},{value:"Updating Published Configurations",id:"updating-published-configurations",level:3},{value:"Publishing to Feature Branches for CI/CD",id:"publishing-to-feature-branches-for-cicd",level:3},{value:"Publishing Status",id:"publishing-status",level:3},{value:"Alternative: Manual Upload to GitHub",id:"alternative-manual-upload-to-github",level:3},{value:"Option 2: Upload to GitLab",id:"option-2-upload-to-gitlab",level:3},{value:"Option 3: Host on Your Server",id:"option-3-host-on-your-server",level:3},{value:"Best Practices for Sharing",id:"best-practices-for-sharing",level:3},{value:"Programmatic Configuration Import for Apps",id:"programmatic-configuration-import-for-apps",level:2},{value:"Method 1: Import from File Path (Recommended)",id:"method-1-import-from-file-path-recommended",level:3},{value:"Method 2: Import from Data Array",id:"method-2-import-from-data-array",level:3},{value:"How It Works",id:"how-it-works",level:3},{value:"Example: App Installation Hook",id:"example-app-installation-hook",level:3},{value:"Example: Version-Based Updates",id:"example-version-based-updates",level:3},{value:"Configuration Data Format",id:"configuration-data-format",level:3},{value:"x-openregister Extension",id:"x-openregister-extension",level:4},{value:"Best Practices",id:"best-practices",level:3},{value:"Configuration Files",id:"configuration-files",level:4},{value:"Version Management",id:"version-management",level:4},{value:"Error Handling",id:"error-handling",level:4},{value:"Testing",id:"testing",level:4},{value:"Configuration API",id:"configuration-api",level:2},{value:"List Configurations",id:"list-configurations",level:3},{value:"Get Single Configuration",id:"get-single-configuration",level:3},{value:"Create Configuration",id:"create-configuration",level:3},{value:"Update Configuration",id:"update-configuration",level:3},{value:"Delete Configuration",id:"delete-configuration",level:3},{value:"Data Structure",id:"data-structure",level:2},{value:"Configuration Entity",id:"configuration-entity",level:3},{value:"Database Schema",id:"database-schema",level:3},{value:"Best Practices",id:"best-practices-1",level:2},{value:"Naming Conventions",id:"naming-conventions",level:3},{value:"Organization",id:"organization",level:3},{value:"Version Management",id:"version-management-1",level:3},{value:"Multi-Tenancy",id:"multi-tenancy-1",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Cannot Save Configuration",id:"cannot-save-configuration",level:3},{value:"Registers/Schemas Not Showing in Dropdown",id:"registersschemas-not-showing-in-dropdown",level:3},{value:"Changes Not Persisting",id:"changes-not-persisting",level:3},{value:"Import Fails",id:"import-fails",level:3},{value:"Related Features",id:"related-features",level:2},{value:"Configuration Management System",id:"configuration-management-system",level:2},{value:"Overview",id:"overview-1",level:3},{value:"Source Types",id:"source-types",level:3},{value:"Local Source",id:"local-source",level:4},{value:"GitHub Source",id:"github-source",level:4},{value:"GitLab Source",id:"gitlab-source",level:4},{value:"URL Source",id:"url-source",level:4},{value:"Version Tracking",id:"version-tracking",level:3},{value:"Local Version",id:"local-version",level:4},{value:"Remote Version",id:"remote-version",level:4},{value:"Previewing Configuration Changes",id:"previewing-configuration-changes",level:3},{value:"Preview Modal Features",id:"preview-modal-features",level:4},{value:"Selective Import",id:"selective-import",level:4},{value:"Auto-Update Functionality",id:"auto-update-functionality",level:3},{value:"Enabling Auto-Update",id:"enabling-auto-update",level:4},{value:"Notification System",id:"notification-system",level:3},{value:"Notification Groups",id:"notification-groups",level:4},{value:"Notification Behavior",id:"notification-behavior",level:4},{value:"Managed Entities",id:"managed-entities",level:3},{value:"Restrictions on Managed Entities",id:"restrictions-on-managed-entities",level:4},{value:"Identifying Managed Entities",id:"identifying-managed-entities",level:4},{value:"GitHub Integration",id:"github-integration",level:3},{value:"Push to GitHub",id:"push-to-github",level:4},{value:"Create Pull Request",id:"create-pull-request",level:4},{value:"Configuration Management Tab",id:"configuration-management-tab",level:3},{value:"Source Settings",id:"source-settings",level:4},{value:"Version Settings",id:"version-settings",level:4},{value:"Update Settings",id:"update-settings",level:4},{value:"GitHub Settings (when Source Type is GitHub)",id:"github-settings-when-source-type-is-github",level:4},{value:"API Endpoints",id:"api-endpoints",level:3},{value:"Check Remote Version",id:"check-remote-version",level:4},{value:"Preview Configuration Changes",id:"preview-configuration-changes",level:4},{value:"Import with Selection",id:"import-with-selection",level:4},{value:"Export Configuration",id:"export-configuration",level:4},{value:"Background Jobs",id:"background-jobs",level:3},{value:"Configuration Check Job",id:"configuration-check-job",level:4},{value:"Best Practices",id:"best-practices-2",level:3},{value:"Version Management",id:"version-management-2",level:4},{value:"Source Selection",id:"source-selection",level:4},{value:"Auto-Update Usage",id:"auto-update-usage",level:4},{value:"Notification Strategy",id:"notification-strategy",level:4},{value:"Troubleshooting",id:"troubleshooting-1",level:3},{value:"Remote Version Not Updating",id:"remote-version-not-updating",level:4},{value:"Preview Shows No Changes",id:"preview-shows-no-changes",level:4},{value:"Import Fails with Selection",id:"import-fails-with-selection",level:4},{value:"Managed Entity Cannot Be Edited",id:"managed-entity-cannot-be-edited",level:4},{value:"LLM Configuration Settings",id:"llm-configuration-settings",level:2},{value:"Database Status Tile",id:"database-status-tile",level:3},{value:"What It Shows",id:"what-it-shows",level:4},{value:"Database Detection",id:"database-detection",level:4},{value:"Vector Support Check",id:"vector-support-check",level:4},{value:"Performance Recommendations",id:"performance-recommendations",level:4},{value:"Visual Indicators",id:"visual-indicators",level:4},{value:"API Endpoint",id:"api-endpoint",level:4},{value:"Benefits",id:"benefits",level:4},{value:"Accessing the Database Tile",id:"accessing-the-database-tile",level:4},{value:"Changelog",id:"changelog",level:2},{value:"Version 0.2.10 (2025-01-16)",id:"version-0210-2025-01-16",level:3},{value:"Version 0.2.9 (2025-01-16)",id:"version-029-2025-01-16",level:3},{value:"Version 0.2.8 (2025-01-15)",id:"version-028-2025-01-15",level:3},{value:"Version 0.2.7 (2025-01-01)",id:"version-027-2025-01-01",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"configurations",children:"Configurations"})}),"\n",(0,s.jsx)(n.p,{children:"Configurations in OpenRegister allow you to package and manage related registers, schemas, and objects together as a coherent unit. This feature is particularly useful for multi-tenancy, application packaging, and organizing complex data structures."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"A Configuration is a container that groups together:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Registers"}),": Collections of objects that share similar characteristics"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Schemas"}),": Data structure definitions that define object properties"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Objects"}),": Individual data items (optional)"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    A[Configuration] --\x3e B[Registers]\n    A --\x3e C[Schemas]\n    A --\x3e D[Objects]\n    \n    B --\x3e B1[Register 1]\n    B --\x3e B2[Register 2]\n    B --\x3e B3[Register N]\n    \n    C --\x3e C1[Schema 1]\n    C --\x3e C2[Schema 2]\n    C --\x3e C3[Schema N]\n    \n    D --\x3e D1[Object 1]\n    D --\x3e D2[Object 2]\n    D --\x3e D3[Object N]\n    \n    style A fill:#e3f2fd\n    style B fill:#fff3e0\n    style C fill:#ffe0b2\n    style D fill:#c8e6c9\n"})}),"\n",(0,s.jsx)(n.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,s.jsx)(n.h3,{id:"configuration-properties",children:"Configuration Properties"}),"\n",(0,s.jsx)(n.p,{children:"Each configuration has the following properties:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Title"}),": A human-readable name for the configuration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Detailed description of what the configuration contains"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": The type or category of the configuration (e.g., 'application', 'tenant', 'module')"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Owner/App"}),": The application or owner identifier"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Registers"}),": Array of register IDs that are part of this configuration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Schemas"}),": Array of schema IDs that are part of this configuration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Objects"}),": Array of object IDs that are part of this configuration (optional)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Version"}),": Configuration version for tracking changes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Created/Updated"}),": Timestamps for auditing"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,s.jsx)(n.h3,{id:"application-packaging",children:"Application Packaging"}),"\n",(0,s.jsx)(n.p,{children:"Package all registers and schemas for a specific application:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph LR\n    A[App Configuration] --\x3e B[User Register]\n    A --\x3e C[Product Register]\n    A --\x3e D[User Schema]\n    A --\x3e E[Product Schema]\n    \n    style A fill:#e3f2fd\n    style B fill:#fff3e0\n    style C fill:#fff3e0\n    style D fill:#ffe0b2\n    style E fill:#ffe0b2\n"})}),"\n",(0,s.jsx)(n.h3,{id:"multi-tenancy",children:"Multi-Tenancy"}),"\n",(0,s.jsx)(n.p,{children:"Create separate configurations for different tenants:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    A[System] --\x3e B[Tenant A Config]\n    A --\x3e C[Tenant B Config]\n    \n    B --\x3e B1[Tenant A Registers]\n    B --\x3e B2[Tenant A Schemas]\n    \n    C --\x3e C1[Tenant B Registers]\n    C --\x3e C2[Tenant B Schemas]\n    \n    style A fill:#e3f2fd\n    style B fill:#c8e6c9\n    style C fill:#c8e6c9\n"})}),"\n",(0,s.jsx)(n.h3,{id:"module-organization",children:"Module Organization"}),"\n",(0,s.jsx)(n.p,{children:"Group related functionality into logical modules:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Core Module"}),": Base registers and schemas"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Customer Module"}),": Customer-related data structures"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Product Module"}),": Product catalog structures"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Order Module"}),": Order processing structures"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"creating-a-configuration",children:"Creating a Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"step-1-navigate-to-configurations",children:"Step 1: Navigate to Configurations"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Log in to your Nextcloud instance"}),"\n",(0,s.jsx)(n.li,{children:"Navigate to the OpenRegister app"}),"\n",(0,s.jsxs)(n.li,{children:["Click on ",(0,s.jsx)(n.strong,{children:"Configurations"})," in the left sidebar"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-2-add-new-configuration",children:"Step 2: Add New Configuration"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Add Configuration"})," button"]}),"\n",(0,s.jsxs)(n.li,{children:["Fill in the configuration details:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Title"}),": Give your configuration a meaningful name"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Describe what this configuration contains"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": Specify the configuration type (e.g., 'application', 'tenant')"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-3-select-registers-and-schemas",children:"Step 3: Select Registers and Schemas"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Select Registers"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Click on the Registers dropdown"}),"\n",(0,s.jsx)(n.li,{children:"Select multiple registers that should be part of this configuration"}),"\n",(0,s.jsx)(n.li,{children:"The count of selected registers is displayed below the selector"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Select Schemas"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Click on the Schemas dropdown"}),"\n",(0,s.jsx)(n.li,{children:"Select multiple schemas that should be part of this configuration"}),"\n",(0,s.jsx)(n.li,{children:"The count of selected schemas is displayed below the selector"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant User\n    participant UI as Configuration Modal\n    participant API as OpenRegister API\n    participant DB as Database\n    \n    User->>UI: Click 'Add Configuration'\n    UI->>API: Fetch available registers\n    UI->>API: Fetch available schemas\n    API--\x3e>UI: Return register list\n    API--\x3e>UI: Return schema list\n    \n    User->>UI: Enter title, description, type\n    User->>UI: Select registers\n    User->>UI: Select schemas\n    User->>UI: Click 'Save'\n    \n    UI->>API: POST /configurations\n    API->>DB: Save configuration\n    DB--\x3e>API: Configuration saved\n    API--\x3e>UI: Return saved configuration\n    UI--\x3e>User: Show success message\n"})}),"\n",(0,s.jsx)(n.h3,{id:"step-4-save-the-configuration",children:"Step 4: Save the Configuration"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Review your selections"}),"\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Save"})," button"]}),"\n",(0,s.jsx)(n.li,{children:"The configuration is created and added to the list"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"editing-a-configuration",children:"Editing a Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"modifying-configuration-details",children:"Modifying Configuration Details"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Navigate to the Configurations page"}),"\n",(0,s.jsx)(n.li,{children:"Find the configuration you want to edit"}),"\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Actions"})," menu (three dots)"]}),"\n",(0,s.jsxs)(n.li,{children:["Select ",(0,s.jsx)(n.strong,{children:"Edit"})]}),"\n",(0,s.jsxs)(n.li,{children:["Modify the fields as needed:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Update title, description, or type"}),"\n",(0,s.jsx)(n.li,{children:"Add or remove registers"}),"\n",(0,s.jsx)(n.li,{children:"Add or remove schemas"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Save"})," to apply changes"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"managing-associations",children:"Managing Associations"}),"\n",(0,s.jsx)(n.p,{children:"You can dynamically manage which registers and schemas are associated with a configuration:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Add new associations"}),": Select additional items from the dropdowns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Remove associations"}),": Deselect items from the dropdowns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"View current associations"}),": The modal shows all currently selected items"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"viewing-configurations",children:"Viewing Configurations"}),"\n",(0,s.jsx)(n.h3,{id:"card-view",children:"Card View"}),"\n",(0,s.jsx)(n.p,{children:"The card view displays configurations as cards showing:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Configuration title"}),"\n",(0,s.jsx)(n.li,{children:"Description"}),"\n",(0,s.jsx)(n.li,{children:"Type"}),"\n",(0,s.jsx)(n.li,{children:"Owner/App"}),"\n",(0,s.jsx)(n.li,{children:"Count of associated items (registers, schemas, objects)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"table-view",children:"Table View"}),"\n",(0,s.jsx)(n.p,{children:"The table view shows configurations in a tabular format with columns:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Title"}),"\n",(0,s.jsx)(n.li,{children:"Type"}),"\n",(0,s.jsx)(n.li,{children:"Owner"}),"\n",(0,s.jsx)(n.li,{children:"Config Keys count"}),"\n",(0,s.jsx)(n.li,{children:"Created date"}),"\n",(0,s.jsx)(n.li,{children:"Updated date"}),"\n",(0,s.jsx)(n.li,{children:"Actions"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Switch between views using the ",(0,s.jsx)(n.strong,{children:"Cards"})," / ",(0,s.jsx)(n.strong,{children:"Table"})," toggle buttons."]}),"\n",(0,s.jsx)(n.h2,{id:"exporting-and-importing-configurations",children:"Exporting and Importing Configurations"}),"\n",(0,s.jsx)(n.h3,{id:"exporting",children:"Exporting"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Select a configuration"}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Actions"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Export"})]}),"\n",(0,s.jsx)(n.li,{children:"The configuration (including its registers, schemas, and optionally objects) is exported as JSON"}),"\n",(0,s.jsxs)(n.li,{children:["Use this for:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Backup and restore"}),"\n",(0,s.jsx)(n.li,{children:"Moving configurations between environments"}),"\n",(0,s.jsx)(n.li,{children:"Sharing configurations with other installations"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"importing",children:"Importing"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Import Configuration"})]}),"\n",(0,s.jsx)(n.li,{children:"Select a configuration JSON file"}),"\n",(0,s.jsx)(n.li,{children:"Choose whether to include objects"}),"\n",(0,s.jsx)(n.li,{children:"The configuration and its associated items are imported"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph LR\n    A[Source System] --\x3e B[Export Configuration]\n    B --\x3e C[JSON File]\n    C --\x3e D[Import Configuration]\n    D --\x3e E[Target System]\n    \n    style A fill:#e3f2fd\n    style C fill:#fff3e0\n    style E fill:#c8e6c9\n"})}),"\n",(0,s.jsx)(n.h2,{id:"local-vs-external-configurations",children:"Local vs External Configurations"}),"\n",(0,s.jsx)(n.p,{children:"OpenRegister distinguishes between two types of configurations:"}),"\n",(0,s.jsx)(n.h3,{id:"local-configurations",children:"Local Configurations"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Local configurations"})," are created and maintained within your Nextcloud installation. These are configurations you own and control."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Characteristics:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Created using the 'Create Configuration' button"}),"\n",(0,s.jsx)(n.li,{children:"Maintained and updated within your installation"}),"\n",(0,s.jsx)(n.li,{children:"Marked with a green 'Local' pill in the UI"}),"\n",(0,s.jsx)(n.li,{children:"Can be exported to share with others"}),"\n",(0,s.jsx)(n.li,{children:"Version is managed by you"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph LR\n    A[Create Configuration] --\x3e B[Local Config]\n    B --\x3e C[Edit & Manage]\n    B --\x3e D[Export to Share]\n    D --\x3e E[Other Installations]\n    \n    style B fill:#d4edda,color:#155724\n"})}),"\n",(0,s.jsx)(n.h3,{id:"external-configurations",children:"External Configurations"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"External configurations"})," are imported from external sources and kept in sync with their origin. These are configurations created by others that you import and use."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Characteristics:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Imported from GitHub, GitLab, or URLs"}),"\n",(0,s.jsx)(n.li,{children:"Marked with a blue 'External' pill in the UI"}),"\n",(0,s.jsx)(n.li,{children:"Can be automatically synchronized"}),"\n",(0,s.jsx)(n.li,{children:"Read-only (modifications would be overwritten on sync)"}),"\n",(0,s.jsx)(n.li,{children:"Version controlled by the source"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph LR\n    A[External Source] --\x3e B[Import Config]\n    B --\x3e C[External Config]\n    C --\x3e D[Auto-Sync]\n    D --\x3e A\n    \n    style C fill:#d1ecf1,color:#0c5460\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sync-status-indicators",children:"Sync Status Indicators"}),"\n",(0,s.jsx)(n.p,{children:"External configurations display sync status badges showing:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Synced just now"}),": Recently synchronized"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Synced 2h ago"}),": Time since last sync"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sync failed"}),": Last sync attempt failed"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Never synced"}),": No sync performed yet"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"discovering-and-importing-configurations",children:"Discovering and Importing Configurations"}),"\n",(0,s.jsx)(n.p,{children:"OpenRegister provides multiple ways to discover and import configurations from external sources:"}),"\n",(0,s.jsx)(n.h3,{id:"discovery-from-githubgitlab",children:"Discovery from GitHub/GitLab"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"OpenRegister uses a two-phase discovery approach"})," for optimal global discovery and content validation:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Phase 1: Organization Discovery (Path-based)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Searches globally for ",(0,s.jsx)(n.strong,{children:"ANY files"})," containing 'openregister' in the filename or path"]}),"\n",(0,s.jsx)(n.li,{children:"Identifies all organizations/users that have OpenRegister-related files"}),"\n",(0,s.jsxs)(n.li,{children:["No organization restrictions - searches ",(0,s.jsx)(n.strong,{children:"all public repositories"})]}),"\n",(0,s.jsxs)(n.li,{children:["Discovers via configuration files (",(0,s.jsx)(n.code,{children:"*_openregister.json"}),") OR documentation files (",(0,s.jsx)(n.code,{children:"openregister.md"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"Processes up to 500 files (first 5 pages \xd7 100 results)"}),"\n",(0,s.jsx)(n.li,{children:"Limits to top 50 organizations for scalability"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Phase 2: Content Validation (Batched)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Searches within discovered organizations for JSON files containing 'x-openregister'"}),"\n",(0,s.jsx)(n.li,{children:"Validates that files are actual OpenRegister configurations"}),"\n",(0,s.jsx)(n.li,{children:"Uses batched searches (10 organizations per batch) to handle query length limits"}),"\n",(0,s.jsx)(n.li,{children:"Filters out false positives automatically"}),"\n",(0,s.jsx)(n.li,{children:"Results sorted by repository popularity (stars)"}),"\n",(0,s.jsx)(n.li,{children:"Proper pagination support"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 Truly global discovery - automatically finds new organizations"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Content validation - ensures files are real OpenRegister configs"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 No hardcoded lists - organizations are dynamically discovered"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Very flexible - discovers via config files OR documentation files"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Scalable - handles hundreds of organizations via batching"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Performant - optimized pagination and result sorting"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Rich metadata - provides organization info, raw URLs, and actual configuration details"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Automatic enrichment - cards load instantly and enrich details in the background"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Zero API rate limit impact - uses raw.githubusercontent.com for enrichment"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Card Display:"})}),"\n",(0,s.jsx)(n.p,{children:"Each discovered configuration is displayed as a card with:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Title"}),": From ",(0,s.jsx)(n.code,{children:"info.title"})," in the configuration file (or filename as fallback)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Loading State"}),": Shows 'Obtaining additional information...' with loading icon"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": From ",(0,s.jsx)(n.code,{children:"info.description"})," in the configuration file"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Repository Link"}),": Clickable link to the GitHub repository"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Organization Link"}),": Clickable link to the organization/owner page"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Stars"}),": Repository popularity indicator"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Actions"}),": Import and View Source buttons"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The card automatically fetches full configuration details when displayed, showing a loading state initially and updating with real data once retrieved."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Steps:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Import Configuration"})]}),"\n",(0,s.jsxs)(n.li,{children:["Select the ",(0,s.jsx)(n.strong,{children:"Discover"})," tab"]}),"\n",(0,s.jsx)(n.li,{children:"Enter search terms (optional) - searches in filename, repository, title, description"}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Search GitHub"})," or ",(0,s.jsx)(n.strong,{children:"Search GitLab"})]}),"\n",(0,s.jsx)(n.li,{children:"Browse discovered configurations from across GitHub/GitLab"}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Import"})," on any configuration"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"How to make your configuration discoverable:"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Option 1: Configuration File (Preferred)"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Filename"}),": Include 'openregister' in your JSON filename (e.g., ",(0,s.jsx)(n.code,{children:"myapp_openregister.json"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Content"}),": Ensure your JSON file contains the 'x-openregister' property"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Public repository"}),": File must be in a public GitHub/GitLab repository"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Option 2: Documentation File"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Add"})," an ",(0,s.jsx)(n.code,{children:"openregister.md"})," file to your repository"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Still include"})," your configuration JSON file (e.g., ",(0,s.jsx)(n.code,{children:"myapp_openregister.json"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"openregister.md"})," helps discovery, but the JSON file is what gets imported"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Note on naming:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Configuration files: We recommend ",(0,s.jsx)(n.code,{children:"*_openregister.json"})," pattern (e.g., ",(0,s.jsx)(n.code,{children:"myapp_openregister.json"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Documentation files: Use ",(0,s.jsx)(n.code,{children:"openregister.md"})," to make your repository more discoverable"]}),"\n",(0,s.jsx)(n.li,{children:"Any file with 'openregister' in the path will trigger organization discovery"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Alternative import methods:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Import from GitHub tab"}),": Browse any repository directly and select any JSON file"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Import from URL tab"}),": Use the raw GitHub URL (e.g., ",(0,s.jsx)(n.code,{children:"https://raw.githubusercontent.com/owner/repo/branch/path/to/file.json"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant User\n    participant UI as Import Modal\n    participant Card as Config Card\n    participant API as OpenRegister API\n    participant GitHub as GitHub API\n    participant Raw as raw.githubusercontent.com\n    \n    User->>UI: Click 'Import Configuration'\n    User->>UI: Select 'Discover' tab\n    User->>UI: Enter search query\n    User->>UI: Click 'Search GitHub'\n    UI->>API: /api/configurations/discover?source=github&_search=...\n    \n    Note over API: Phase 1: Organization Discovery\n    loop Pages 1-5 (max 500 files)\n        API->>GitHub: Search: openregister in:path\n        GitHub--\x3e>API: Return files with 'openregister' in path\n        API->>API: Extract unique organizations\n        Note over API: Stop at 50 orgs for scalability\n    end\n    \n    Note over API: Phase 2: Content Validation (Batched)\n    loop For each batch of 10 orgs\n        API->>GitHub: Search: x-openregister extension:json org:Org1 ... org:Org10\n        Note over GitHub: Content search validates x-openregister\n        GitHub--\x3e>API: Return validated configurations\n        API->>API: Collect results + metadata + raw URLs + org info\n    end\n    \n    API->>API: Sort by stars, apply pagination\n    API--\x3e>UI: Return filtered & paginated results\n    UI--\x3e>User: Display configuration cards instantly\n    Note over UI,Card: Cards show loading state\n    \n    Note over Card,Raw: Phase 3: Automatic Enrichment\n    loop For each visible card\n        Card->>API: /api/configurations/enrich (auto-triggered)\n        API->>Raw: Fetch raw JSON file (no API rate limit!)\n        Raw--\x3e>API: Return configuration JSON\n        API->>API: Extract title, description, version, app, type\n        API--\x3e>Card: Return enriched details\n        Card->>Card: Update display with real data\n    end\n    \n    User->>UI: Click 'Import'\n    UI->>API: /api/configurations/import/github\n    API--\x3e>UI: Configuration imported\n"})}),"\n",(0,s.jsx)(n.h3,{id:"import-from-specific-repository",children:"Import from Specific Repository"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Import Configuration"})]}),"\n",(0,s.jsxs)(n.li,{children:["Select the ",(0,s.jsx)(n.strong,{children:"GitHub / GitLab"})," tab"]}),"\n",(0,s.jsx)(n.li,{children:"Select source platform (GitHub or GitLab)"}),"\n",(0,s.jsxs)(n.li,{children:["Enter repository details:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"For GitHub: Owner and Repository name"}),"\n",(0,s.jsx)(n.li,{children:"For GitLab: Namespace and Project name"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Load Branches"})]}),"\n",(0,s.jsx)(n.li,{children:"Select a branch"}),"\n",(0,s.jsx)(n.li,{children:"Choose a configuration file from the list"}),"\n",(0,s.jsx)(n.li,{children:"Configure sync settings"}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Import"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"import-from-direct-url",children:"Import from Direct URL"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Import Configuration"})]}),"\n",(0,s.jsxs)(n.li,{children:["Select the ",(0,s.jsx)(n.strong,{children:"Import from URL"})," tab"]}),"\n",(0,s.jsx)(n.li,{children:"Enter the direct URL to a JSON configuration file"}),"\n",(0,s.jsxs)(n.li,{children:["Configure sync settings:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Enable automatic synchronization"}),"\n",(0,s.jsx)(n.li,{children:"Set sync interval (in hours)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Import"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Getting the raw URL from GitHub:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Navigate to your file on GitHub"}),"\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Raw"})," button (top right of the file viewer)"]}),"\n",(0,s.jsx)(n.li,{children:"Copy the URL from your browser's address bar"}),"\n",(0,s.jsxs)(n.li,{children:["Example format: ",(0,s.jsx)(n.code,{children:"https://raw.githubusercontent.com/owner/repo/branch/path/to/file.json"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Tip:"})," This method works immediately after pushing - no need to wait for GitHub's search index!"]}),"\n",(0,s.jsx)(n.h2,{id:"file-naming-conventions-for-discoverability",children:"File Naming Conventions for Discoverability"}),"\n",(0,s.jsx)(n.p,{children:"To make your configurations discoverable by others, include 'openregister' in your JSON filename:"}),"\n",(0,s.jsx)(n.h3,{id:"recommended-file-names",children:"Recommended File Names"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Preferred format"}),": ",(0,s.jsx)(n.code,{children:"{app}_openregister.json"})," (e.g., ",(0,s.jsx)(n.code,{children:"myapp_openregister.json"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Alternative formats"}),": ",(0,s.jsx)(n.code,{children:"{app}.openregister.json"}),", ",(0,s.jsx)(n.code,{children:"openregister.{app}.json"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Simple format"}),": ",(0,s.jsx)(n.code,{children:"openregister.json"})," (works but less specific)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"# Preferred (with underscore)\nsoftwarecatalogus_openregister.json\npublication_openregister.json\ncustomer_management_openregister.json\n\n# Also works (without underscore)\nopencatalogi.openregister.json\npublication-register.openregister.json\ncustomer-management.openregister.json\nopenregister.json\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Why the underscore (",(0,s.jsx)(n.code,{children:"_"}),") is preferred:"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"More explicit pattern for OpenRegister configurations"}),"\n",(0,s.jsx)(n.li,{children:"Avoids confusion with legacy OpenAPI specification files"}),"\n",(0,s.jsx)(n.li,{children:"Consistent convention across all apps"}),"\n",(0,s.jsx)(n.li,{children:"Recommended but not required - all patterns above work!"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"file-location",children:"File Location"}),"\n",(0,s.jsx)(n.p,{children:"Place configuration files in a logical location within your repository:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"my-app/\n\u251c\u2500\u2500 lib/\n\u2502   \u2514\u2500\u2500 Settings/\n\u2502       \u2514\u2500\u2500 my-app.openregister.json\n\u251c\u2500\u2500 config/\n\u2502   \u2514\u2500\u2500 openregister.json\n\u2514\u2500\u2500 README.md\n"})}),"\n",(0,s.jsx)(n.h3,{id:"metadata-for-discovery",children:"Metadata for Discovery"}),"\n",(0,s.jsx)(n.p,{children:"Ensure your configuration includes proper metadata in the 'x-openregister' section:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:"{\n    'openapi': '3.0.0',\n    'info': {\n        'title': 'My App Configuration',\n        'description': 'Configuration for my awesome application',\n        'version': '1.0.0'\n    },\n    'x-openregister': {\n        'type': 'application',\n        'app': 'myapp',\n        'sourceType': 'github',\n        'sourceUrl': 'https://github.com/MyOrg/myapp/blob/main/lib/Settings/myapp_openregister.json',\n        'openregister': '^v0.2.10',\n        'github': {\n            'repo': 'MyOrg/myapp',\n            'branch': 'main',\n            'path': 'lib/Settings/myapp_openregister.json'\n        }\n    },\n    'components': {\n        'registers': {},\n        'schemas': {}\n    }\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Key requirements for discoverability:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Filename"}),": Must contain 'openregister' (e.g., ",(0,s.jsx)(n.code,{children:"myapp_openregister.json"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"x-openregister property"}),": Must be present in the JSON file (triggers Phase 2 validation)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Public repository"}),": File must be accessible in a public GitHub/GitLab repository"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Valid JSON"}),": File must be valid JSON and follow the OpenAPI 3.0 structure"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"making-configurations-discoverable",children:"Making Configurations Discoverable"}),"\n",(0,s.jsx)(n.p,{children:"For your configuration to be discoverable via GitHub/GitLab search in OpenRegister, follow these requirements:"}),"\n",(0,s.jsx)(n.h4,{id:"1-file-structure",children:"1. File Structure"}),"\n",(0,s.jsx)(n.p,{children:"Your configuration file MUST be a valid OpenAPI 3.0 document with an 'x-openregister' extension:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:"{\n    'openapi': '3.0.0',\n    'info': {\n        'title': 'Required: Configuration Title',\n        'description': 'Required: Detailed description',\n        'version': 'Required: Semantic version (e.g., 1.0.0)'\n    },\n    'x-openregister': {\n        'type': 'Required: Type of configuration (application/tenant/module)',\n        'app': 'Required: Application identifier',\n        'sourceType': 'Required: github or gitlab',\n        'sourceUrl': 'Required: Full URL to this file',\n        'openregister': 'Optional: Version constraint (e.g., ^v0.2.10)',\n        'github': {\n            'repo': 'Required: owner/repository',\n            'branch': 'Required: branch name',\n            'path': 'Required: path to file in repo'\n        }\n    },\n    'components': {\n        'registers': {},\n        'schemas': {}\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"2-file-naming-convention-for-discovery",children:"2. File Naming Convention for Discovery"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"How OpenRegister Discovery Works:"})}),"\n",(0,s.jsxs)(n.p,{children:["OpenRegister uses a ",(0,s.jsx)(n.strong,{children:"two-phase discovery approach"})," for reliable global configuration discovery:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Phase 1: Organization Discovery (Filename-based)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Searches for JSON files containing 'openregister' in the filename or path"}),"\n",(0,s.jsxs)(n.li,{children:["Works ",(0,s.jsx)(n.strong,{children:"globally"})," across all public repositories (no organization restrictions!)"]}),"\n",(0,s.jsx)(n.li,{children:"Discovers organizations/users that have potential OpenRegister files"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Phase 2: Content Validation"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Searches within discovered organizations for files containing 'x-openregister'"}),"\n",(0,s.jsx)(n.li,{children:"Validates that files are actual OpenRegister configurations"}),"\n",(0,s.jsx)(n.li,{children:"Filters out false positives automatically"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"File Naming Requirements:"})}),"\n",(0,s.jsxs)(n.p,{children:["Your configuration filename ",(0,s.jsx)(n.strong,{children:"MUST"})," contain 'openregister' to be discoverable:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Preferred"}),": ",(0,s.jsx)(n.code,{children:"*_openregister.json"})," (e.g., ",(0,s.jsx)(n.code,{children:"myapp_openregister.json"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Also works"}),": ",(0,s.jsx)(n.code,{children:"*.openregister.json"}),", ",(0,s.jsx)(n.code,{children:"openregister.*.json"}),", ",(0,s.jsx)(n.code,{children:"openregister.json"})]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"For discovery boost"}),": Add ",(0,s.jsx)(n.code,{children:"openregister.md"})," documentation file to your repository"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Why ",(0,s.jsx)(n.code,{children:"_openregister.json"})," is preferred:"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"More explicit pattern for OpenRegister configurations"}),"\n",(0,s.jsx)(n.li,{children:"Avoids confusion with legacy OpenAPI specification files"}),"\n",(0,s.jsx)(n.li,{children:"Consistent convention recommended across all apps"}),"\n",(0,s.jsxs)(n.li,{children:["But ",(0,s.jsx)(n.strong,{children:"any"})," filename containing 'openregister' works!"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Using ",(0,s.jsx)(n.code,{children:"openregister.md"})," for enhanced discovery:"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Adding an ",(0,s.jsx)(n.code,{children:"openregister.md"})," file makes your repository more discoverable"]}),"\n",(0,s.jsx)(n.li,{children:"Useful for documenting your OpenRegister configuration"}),"\n",(0,s.jsx)(n.li,{children:"Phase 1 will find your org via the .md file"}),"\n",(0,s.jsx)(n.li,{children:"Phase 2 still validates your .json configuration file"}),"\n",(0,s.jsx)(n.li,{children:"Both files working together = maximum discoverability!"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Content Requirements (Phase 2 Validation):"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Configuration file ",(0,s.jsx)(n.strong,{children:"MUST"})," contain an 'x-openregister' property in the JSON"]}),"\n",(0,s.jsx)(n.li,{children:"This is what validates your file as a real OpenRegister configuration"}),"\n",(0,s.jsx)(n.li,{children:"Files without 'x-openregister' will be filtered out even if the filename matches"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Discovery Indexing:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["New files are typically indexed within ",(0,s.jsx)(n.strong,{children:"minutes to hours"})," after pushing to GitHub"]}),"\n",(0,s.jsx)(n.li,{children:"Renamed files are re-indexed automatically"}),"\n",(0,s.jsx)(n.li,{children:"No waiting period or organization approval needed!"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Testing Discovery:"})}),"\n",(0,s.jsx)(n.p,{children:"After pushing your file, test it appears in OpenRegister:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Go to ",(0,s.jsx)(n.strong,{children:"Import Configuration"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Discover"})," tab"]}),"\n",(0,s.jsx)(n.li,{children:"Search for keywords from your filename, title, or description"}),"\n",(0,s.jsx)(n.li,{children:"Your configuration should appear in global results"}),"\n",(0,s.jsx)(n.li,{children:"If it doesn't appear immediately, wait a few hours for GitHub to index it"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"3-required-fields",children:"3. Required Fields"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"info section:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"'title': Short, descriptive name shown in discovery results"}),"\n",(0,s.jsx)(n.li,{children:"'description': Detailed explanation of what the configuration provides"}),"\n",(0,s.jsx)(n.li,{children:"'version': Semantic version number (1.0.0, 2.1.3, etc.)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"x-openregister section:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"'type': Configuration type ('application', 'tenant', 'module', etc.)"}),"\n",(0,s.jsx)(n.li,{children:"'app': Application identifier (lowercase, no spaces)"}),"\n",(0,s.jsx)(n.li,{children:"'sourceType': Must be 'github' or 'gitlab' for discovery"}),"\n",(0,s.jsx)(n.li,{children:"'sourceUrl': Complete HTTPS URL to the file on GitHub/GitLab"}),"\n",(0,s.jsx)(n.li,{children:"'github' or 'gitlab': Object with 'repo', 'branch', and 'path'"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Optional fields:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"'openregister': Minimum OpenRegister version required (Composer notation)"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"3-file-naming-conventions",children:"3. File Naming Conventions"}),"\n",(0,s.jsx)(n.p,{children:"For best discoverability, use one of these naming patterns:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"'*_openregister.json' (recommended): 'myapp_openregister.json'"}),"\n",(0,s.jsx)(n.li,{children:"'openregister.json': Generic name"}),"\n",(0,s.jsx)(n.li,{children:"'*.openregister.json': 'config.openregister.json'"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"4-complete-example",children:"4. Complete Example"}),"\n",(0,s.jsx)(n.p,{children:"Here's a complete, production-ready example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:"{\n    'openapi': '3.0.0',\n    'info': {\n        'title': 'VNG Software Catalog Register',\n        'description': 'Register containing AMEF and Voorzieningen schemas for the VNG Software Catalog application. This configuration includes schemas for modules, services, organizations, and compliance tracking.',\n        'version': '2.0.1'\n    },\n    'x-openregister': {\n        'type': 'application',\n        'app': 'softwarecatalog',\n        'sourceType': 'github',\n        'sourceUrl': 'https://github.com/ConductionNL/opencatalogi/blob/master/apps-extra/softwarecatalog/lib/Settings/softwarecatalogus_register.json',\n        'openregister': '^v0.2.10',\n        'github': {\n            'repo': 'ConductionNL/opencatalogi',\n            'branch': 'master',\n            'path': 'apps-extra/softwarecatalog/lib/Settings/softwarecatalogus_register.json'\n        }\n    },\n    'components': {\n        'registers': {\n            'products': {\n                'slug': 'products',\n                'title': 'Products',\n                'description': 'Product catalog register',\n                'schemas': ['product']\n            }\n        },\n        'schemas': {\n            'product': {\n                'title': 'Product',\n                'description': 'Product schema',\n                'properties': {\n                    'name': {'type': 'string'},\n                    'price': {'type': 'number'}\n                }\n            }\n        }\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"5-testing-discoverability",children:"5. Testing Discoverability"}),"\n",(0,s.jsx)(n.p,{children:"After publishing your configuration file to GitHub/GitLab:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify your filename"}),": Ensure your file ",(0,s.jsx)(n.strong,{children:"ends with"})," ",(0,s.jsx)(n.code,{children:"_openregister.json"})," (e.g., ",(0,s.jsx)(n.code,{children:"app_openregister.json"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Push to GitHub"}),": Commit and push your configuration file"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Wait for indexing"}),": GitHub typically indexes new files within minutes to a few hours"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Test discovery"}),": In OpenRegister, click ",(0,s.jsx)(n.strong,{children:"Import Configuration"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Discover"})," tab"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Search"}),": Enter keywords from your filename, title, or description"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify"}),": Your configuration should appear in the global results"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Troubleshooting:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Not appearing in discovery?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Check filename"}),": Does it ",(0,s.jsx)(n.strong,{children:"end with"})," ",(0,s.jsx)(n.code,{children:"_openregister.json"}),"? (e.g., ",(0,s.jsx)(n.code,{children:"myapp_openregister.json"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Wrong pattern"}),": Files named just ",(0,s.jsx)(n.code,{children:"openregister.json"})," (without prefix) won't be discovered"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Wait for indexing"}),": New files may take a few hours to appear in GitHub's search index"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Test file exists"}),": Visit your file URL directly on GitHub to confirm it's pushed"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use alternative import methods"}),": 'Import from URL' or 'Import from GitHub' (by repository) work immediately for any public repository"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Need immediate access?"})," Use the 'Import from GitHub' tab and browse your repository directly, or use 'Import from URL' with the raw file URL"]}),"\n",(0,s.jsx)(n.li,{children:"Validate your JSON structure"}),"\n",(0,s.jsx)(n.li,{children:"Ensure all required fields are present"}),"\n",(0,s.jsx)(n.li,{children:"Check that 'sourceUrl' is accessible publicly"}),"\n",(0,s.jsx)(n.li,{children:"Verify the 'x-openregister' extension is at the root level"}),"\n",(0,s.jsx)(n.li,{children:"Confirm the file is on a public repository (or you've configured API tokens)"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"6-api-tokens-for-private-repositories",children:"6. API Tokens for Private Repositories"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"You can use private repositories"})," for your configurations as long as your GitHub/GitLab Personal Access Token has access to them. This allows you to:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Publish configurations"})," to private repositories"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Import configurations"})," from private repositories"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Discover configurations"})," in private repositories (if your token has access)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Setting up API Tokens:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Navigate to ",(0,s.jsx)(n.strong,{children:"Settings"})," \u2192 ",(0,s.jsx)(n.strong,{children:"OpenRegister Settings"})]}),"\n",(0,s.jsxs)(n.li,{children:["Scroll to ",(0,s.jsx)(n.strong,{children:"API Token Configuration"})]}),"\n",(0,s.jsx)(n.li,{children:"Enter your GitHub or GitLab Personal Access Token"}),"\n",(0,s.jsxs)(n.li,{children:["Required scopes:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"GitHub"}),": 'repo' (for full access to public and private repositories)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"GitLab"}),": 'read_api' (discovery only) or 'api' (discovery + publishing)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"How Private Repositories Work:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Repository Access"}),": Your token must have access to the repository (you must be a collaborator or have access through organization membership)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Discovery"}),": Private repositories will appear in search/discovery results only if your token has access to them"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Publishing"}),": You can publish to any repository (public or private) that your token has write access to"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Importing"}),": You can import from any repository (public or private) that your token has read access to"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Token Scope"}),": The 'repo' scope for GitHub provides access to both public and private repositories you have access to"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note"}),": Each user must configure their own token. If you want to share a private repository configuration with others, they need to:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Have access to the repository on GitHub/GitLab"}),"\n",(0,s.jsx)(n.li,{children:"Configure their own API token with access to that repository"}),"\n",(0,s.jsx)(n.li,{children:"The repository will then appear in their discovery/search results"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"7-publishing-updates",children:"7. Publishing Updates"}),"\n",(0,s.jsx)(n.p,{children:"When you update your configuration:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Increment the 'version' in the 'info' section"}),"\n",(0,s.jsx)(n.li,{children:"Commit and push the changes"}),"\n",(0,s.jsx)(n.li,{children:"External installations with auto-sync will automatically receive updates"}),"\n",(0,s.jsx)(n.li,{children:"Manual imports will see an 'Update Available' badge"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"openregister-version-requirements",children:"OpenRegister Version Requirements"}),"\n",(0,s.jsx)(n.p,{children:"Configurations can specify which OpenRegister versions they are compatible with using Composer-style notation:"}),"\n",(0,s.jsx)(n.h3,{id:"version-constraint-format",children:"Version Constraint Format"}),"\n",(0,s.jsx)(n.p,{children:"Use the 'openregister' field in 'x-openregister':"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:"{\n    'x-openregister': {\n        'openregister': '^v0.2.10'\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"supported-constraint-formats",children:"Supported Constraint Formats"}),"\n",(0,s.jsx)(n.p,{children:"Following Composer notation:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Caret (^)"}),": '^v1.2.3' - Allow version 1.2.3 and up, but not 2.0.0"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Tilde (~)"}),": '~1.2.3' - Allow version 1.2.3 to 1.3.0 (excluding)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Exact"}),": 'v1.2.3' - Only version 1.2.3"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Greater/Less"}),": '>=1.2.0' - Version 1.2.0 or higher"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Range"}),": '>=1.0.0 <2.0.0' - Between 1.0.0 and 2.0.0"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"examples-1",children:"Examples"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:"// Require v0.2.10 or higher (but not v0.3.0)\n{'openregister': '^v0.2.10'}\n\n// Require at least v1.0.0\n{'openregister': '>=v1.0.0'}\n\n// Require between v1.0 and v2.0\n{'openregister': '>=v1.0.0 <v2.0.0'}\n\n// Exact version\n{'openregister': 'v1.5.0'}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"automatic-synchronization",children:"Automatic Synchronization"}),"\n",(0,s.jsx)(n.p,{children:"External configurations can be automatically synchronized with their source to keep them up-to-date."}),"\n",(0,s.jsx)(n.h3,{id:"configuring-auto-sync",children:"Configuring Auto-Sync"}),"\n",(0,s.jsx)(n.p,{children:"When importing a configuration from GitHub, GitLab, or URL:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Enable the ",(0,s.jsx)(n.strong,{children:"Enable automatic synchronization"})," toggle"]}),"\n",(0,s.jsxs)(n.li,{children:["Set the ",(0,s.jsx)(n.strong,{children:"Sync Interval"})," (in hours, 1-168)"]}),"\n",(0,s.jsx)(n.li,{children:"Complete the import"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"sync-behavior",children:"Sync Behavior"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Check Interval"}),": OpenRegister checks for updates based on the configured interval"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Version Comparison"}),": Compares local and remote versions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Automatic Update"}),": If a new version is available, automatically imports it"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Status Tracking"}),": Records sync status and timestamp"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Error Handling"}),": Failed syncs are logged and displayed in the UI"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant Cron as Background Job\n    participant Service as ConfigurationService\n    participant GitHub as External Source\n    participant DB as Database\n    \n    Cron->>Service: Check configurations due for sync\n    Service->>DB: Find syncEnabled=true configs\n    DB--\x3e>Service: Return configurations\n    \n    loop For each configuration\n        Service->>GitHub: Fetch current version\n        GitHub--\x3e>Service: Return configuration\n        Service->>Service: Compare versions\n        alt New version available\n            Service->>Service: Import updates\n            Service->>DB: Update configuration\n            Service->>DB: Set syncStatus='success'\n        else No update needed\n            Service->>DB: Update lastSyncDate\n        end\n    end\n"})}),"\n",(0,s.jsx)(n.h3,{id:"manual-sync",children:"Manual Sync"}),"\n",(0,s.jsx)(n.p,{children:"You can also manually trigger a sync:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Navigate to Configurations"}),"\n",(0,s.jsx)(n.li,{children:"Find the external configuration"}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Actions"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Check Version"})]}),"\n",(0,s.jsx)(n.li,{children:"If an update is available, you'll be notified"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"sync-frequency",children:"Sync Frequency"}),"\n",(0,s.jsx)(n.p,{children:"Recommended intervals based on use case:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Production"}),": 24-48 hours"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Development"}),": 1-6 hours"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Testing"}),": 1-2 hours"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"publishing-local-configurations",children:"Publishing Local Configurations"}),"\n",(0,s.jsx)(n.p,{children:"OpenRegister allows you to publish your local configurations directly to GitHub repositories. This makes it easy to share configurations with others and keep them synchronized across installations."}),"\n",(0,s.jsx)(n.h3,{id:"publishing-to-github",children:"Publishing to GitHub"}),"\n",(0,s.jsx)(n.p,{children:"You can publish local configurations directly to GitHub from within OpenRegister:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Navigate to ",(0,s.jsx)(n.strong,{children:"Configurations"})]}),"\n",(0,s.jsx)(n.li,{children:"Find the local configuration you want to publish"}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Actions"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Publish"})," (or ",(0,s.jsx)(n.strong,{children:"Update Published"})," if already published)"]}),"\n",(0,s.jsxs)(n.li,{children:["In the publish dialog:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Select Repository"}),": Choose from repositories your GitHub token has access to"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Select Branch"}),": Choose the branch to publish to (e.g., 'main', 'develop')"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"File Path"}),": Enter the path where the configuration file should be saved (e.g., ",(0,s.jsx)(n.code,{children:"lib/Settings/config.json"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Commit Message"}),": Enter a descriptive commit message"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Publish"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The configuration will be exported and committed to the selected repository. Once published, the configuration will show a red 'Published' badge."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"File structure example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"my-repository/\n\u251c\u2500\u2500 lib/\n\u2502   \u2514\u2500\u2500 Settings/\n\u2502       \u2514\u2500\u2500 myapp_openregister.json\n\u2514\u2500\u2500 README.md\n"})}),"\n",(0,s.jsx)(n.h3,{id:"private-repositories",children:"Private Repositories"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"You can publish to private repositories"})," as long as your GitHub Personal Access Token has access to them:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Configure GitHub Token"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Navigate to ",(0,s.jsx)(n.strong,{children:"Settings"})," \u2192 ",(0,s.jsx)(n.strong,{children:"OpenRegister Settings"})]}),"\n",(0,s.jsxs)(n.li,{children:["Scroll to ",(0,s.jsx)(n.strong,{children:"API Token Configuration"})]}),"\n",(0,s.jsx)(n.li,{children:"Enter your GitHub Personal Access Token with 'repo' scope"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Token Permissions"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The token must have 'repo' scope for full access (read and write)"}),"\n",(0,s.jsx)(n.li,{children:"This allows access to both public and private repositories you have access to"}),"\n",(0,s.jsx)(n.li,{children:"Private repositories will appear in the repository selector if your token has access"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Publishing to Private Repos"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Private repositories will appear in the repository dropdown"}),"\n",(0,s.jsx)(n.li,{children:"They are marked with '(Private)' in the list"}),"\n",(0,s.jsx)(n.li,{children:"Publishing works the same way as public repositories"}),"\n",(0,s.jsx)(n.li,{children:"Only users with access to the repository (via their token) can import from it"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note"}),": When importing from private repositories, users must also configure their GitHub token with access to that repository. The repository will only appear in discovery/search results if the user's token has access to it."]}),"\n",(0,s.jsx)(n.h3,{id:"updating-published-configurations",children:"Updating Published Configurations"}),"\n",(0,s.jsx)(n.p,{children:"If a configuration is already published:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Make your changes locally"}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Actions"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Update Published"})]}),"\n",(0,s.jsx)(n.li,{children:"The same dialog opens with pre-filled values"}),"\n",(0,s.jsx)(n.li,{children:"Update the commit message if needed"}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Publish"})," to update the remote file"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The system automatically detects if the file already exists and updates it, or creates a new file if it doesn't exist."}),"\n",(0,s.jsx)(n.h3,{id:"publishing-to-feature-branches-for-cicd",children:"Publishing to Feature Branches for CI/CD"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"You can publish configurations to non-main branches"})," (e.g., feature branches, develop, staging) for CI/CD and testing purposes:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Why use feature branches?"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Testing before merge"}),": Test your configuration changes in a feature branch before merging to main"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CI/CD integration"}),": Your CI/CD pipeline can import and test configurations from feature branches"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Safe experimentation"}),": Make changes without affecting the main branch configuration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Review workflows"}),": Create pull requests and have configurations reviewed before merging"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Important limitation:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configuration discovery only searches main/master"}),": The global configuration discovery feature only searches the ",(0,s.jsx)(n.code,{children:"main"})," or ",(0,s.jsx)(n.code,{children:"master"})," branches"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Feature branches won't appear in discovery"}),': Configurations published to feature branches will not appear in the "Discover" tab search results']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Manual import still works"}),": You can still import configurations from feature branches using:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Import from GitHub"})," tab: Browse the repository and select the feature branch"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Import from URL"})," tab: Use the raw GitHub URL pointing to the feature branch"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example workflow:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Create a feature branch"}),": ",(0,s.jsx)(n.code,{children:"git checkout -b feature/new-configuration"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Publish to feature branch"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Select your repository"}),"\n",(0,s.jsxs)(n.li,{children:["Choose the feature branch (e.g., ",(0,s.jsx)(n.code,{children:"feature/new-configuration"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Set the file path (e.g., ",(0,s.jsx)(n.code,{children:"lib/Settings/config.json"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"Publish the configuration"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Test in CI/CD"}),": Your CI/CD pipeline can import from the feature branch URL"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Review and merge"}),": Create a pull request, review changes, then merge to main"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Publish to main"}),": After merging, publish the configuration to the main branch so it appears in discovery"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Raw URL format for feature branches:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https://raw.githubusercontent.com/owner/repo/feature/new-configuration/lib/Settings/config.json\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best practices:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use feature branches for development and testing"}),"\n",(0,s.jsxs)(n.li,{children:["Publish to ",(0,s.jsx)(n.code,{children:"main"})," or ",(0,s.jsx)(n.code,{children:"master"})," for production configurations"]}),"\n",(0,s.jsx)(n.li,{children:"Document branch naming conventions in your team"}),"\n",(0,s.jsx)(n.li,{children:"Use descriptive commit messages when publishing to feature branches"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"publishing-status",children:"Publishing Status"}),"\n",(0,s.jsx)(n.p,{children:"Published configurations display:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Red 'Published' badge"}),": Indicates the configuration is published to GitHub"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Repository information"}),": Shows the repository, branch, and path in the configuration card"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update Published action"}),": Available in the actions menu for already-published configurations"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"alternative-manual-upload-to-github",children:"Alternative: Manual Upload to GitHub"}),"\n",(0,s.jsx)(n.p,{children:"If you prefer to upload manually:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Export your configuration (JSON file)"}),"\n",(0,s.jsx)(n.li,{children:"Create or navigate to your GitHub repository"}),"\n",(0,s.jsx)(n.li,{children:"Create a directory for configurations (e.g., 'config/')"}),"\n",(0,s.jsx)(n.li,{children:"Upload your configuration file"}),"\n",(0,s.jsx)(n.li,{children:"Commit with descriptive message"}),"\n",(0,s.jsx)(n.li,{children:"Others can now import using your repository URL"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"option-2-upload-to-gitlab",children:"Option 2: Upload to GitLab"}),"\n",(0,s.jsx)(n.p,{children:"Similar to GitHub:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Export configuration"}),"\n",(0,s.jsx)(n.li,{children:"Navigate to your GitLab project"}),"\n",(0,s.jsx)(n.li,{children:"Upload to a logical directory"}),"\n",(0,s.jsx)(n.li,{children:"Commit changes"}),"\n",(0,s.jsx)(n.li,{children:"Share project URL"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"option-3-host-on-your-server",children:"Option 3: Host on Your Server"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Export configuration"}),"\n",(0,s.jsx)(n.li,{children:"Upload to your web server"}),"\n",(0,s.jsx)(n.li,{children:"Make accessible via HTTPS"}),"\n",(0,s.jsx)(n.li,{children:"Share the direct URL"}),"\n",(0,s.jsx)(n.li,{children:"Others can import using 'Import from URL'"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example URL:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https://mysite.com/configs/myapp.openregister.json\n"})}),"\n",(0,s.jsx)(n.h3,{id:"best-practices-for-sharing",children:"Best Practices for Sharing"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Include README"}),": Document what your configuration does"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Version Properly"}),": Use semantic versioning in 'info.version'"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Set Version Requirements"}),": Specify compatible OpenRegister versions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Test Before Sharing"}),": Verify imports work correctly"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Maintain Documentation"}),": Keep usage instructions updated"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use Descriptive Names"}),": Make file names self-explanatory"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Regular Updates"}),": Keep configurations current with your app"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"programmatic-configuration-import-for-apps",children:"Programmatic Configuration Import for Apps"}),"\n",(0,s.jsx)(n.p,{children:"Apps can programmatically import their configurations using the ConfigurationService without needing to manually create Configuration entities. This is useful for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"App initialization and setup"}),"\n",(0,s.jsx)(n.li,{children:"Automatic configuration deployment"}),"\n",(0,s.jsx)(n.li,{children:"Version-based configuration updates"}),"\n",(0,s.jsx)(n.li,{children:"Bundling configurations with app releases"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"OpenRegister provides two methods for importing configurations:"}),"\n",(0,s.jsx)(n.h3,{id:"method-1-import-from-file-path-recommended",children:"Method 1: Import from File Path (Recommended)"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"importFromFilePath"})," method is the recommended approach when your configuration is stored in a JSON file. OpenRegister handles all file reading and parsing:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// Get the configuration service\n$configurationService = $this->container->get('OCA\\OpenRegister\\Service\\ConfigurationService');\n\n// Import from file path (relative to Nextcloud root)\n$result = $configurationService->importFromFilePath(\n    appId: 'myapp',\n    filePath: 'apps-extra/myapp/lib/Settings/myapp_config.json',\n    version: '1.0.0',\n    force: false\n);\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"OpenRegister handles file reading and JSON parsing"}),"\n",(0,s.jsx)(n.li,{children:"Automatically sets sourceUrl for cron job tracking"}),"\n",(0,s.jsx)(n.li,{children:"Ensures configuration uniqueness by sourceUrl"}),"\n",(0,s.jsx)(n.li,{children:"Enables automatic update checking by the cron job"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"method-2-import-from-data-array",children:"Method 2: Import from Data Array"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"importFromApp"})," method is for when you already have configuration data in memory:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// Get the configuration service\n$configurationService = $this->container->get('OCA\\OpenRegister\\Service\\ConfigurationService');\n\n// Load your configuration data (from JSON file, array, etc.)\n$configData = json_decode(file_get_contents('path/to/config.json'), true);\n\n// Import the configuration\n$result = $configurationService->importFromApp(\n    appId: 'myapp',           // Your app ID\n    data: $configData,        // Configuration data array\n    version: '1.0.0',         // Version string\n    force: false              // Force import even if version is not newer\n);\n\n// Result contains imported entities\n// $result['registers'] - Array of imported Register entities\n// $result['schemas'] - Array of imported Schema entities  \n// $result['objects'] - Array of imported Object entities\n"})}),"\n",(0,s.jsx)(n.h3,{id:"how-it-works",children:"How It Works"}),"\n",(0,s.jsx)(n.p,{children:"Both import methods automatically:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Finds or Creates Configuration Entity"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"First checks by sourceUrl (if provided) to ensure uniqueness"}),"\n",(0,s.jsx)(n.li,{children:"Falls back to checking by app ID if no sourceUrl match"}),"\n",(0,s.jsx)(n.li,{children:"Creates a new Configuration entity if none exists"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Handles Version Checking"}),": Compares versions and skips import if the same or older version is already installed (unless force=true)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Tracks Imported Entities"}),": Associates all imported registers, schemas, and objects with the Configuration entity."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Updates Configuration"}),": Merges new entity IDs with existing ones on subsequent imports, and updates metadata from the import data."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant App\n    participant Service as ConfigurationService\n    participant Mapper as ConfigurationMapper\n    participant DB as Database\n    \n    App->>Service: importFromApp(appId, data, version)\n    Service->>Mapper: findByApp(appId)\n    \n    alt Configuration exists\n        Mapper--\x3e>Service: Existing Configuration\n    else Configuration does not exist\n        Service->>Service: Create new Configuration\n        Service->>Mapper: insert(configuration)\n        Mapper--\x3e>Service: Configuration with ID\n    end\n    \n    Service->>Service: importFromJson(data, configuration)\n    Service->>DB: Save registers, schemas, objects\n    DB--\x3e>Service: Import results\n    \n    Service->>Service: Update Configuration with entity IDs\n    Service->>Mapper: update(configuration)\n    Mapper--\x3e>Service: Updated Configuration\n    \n    Service--\x3e>App: Import results\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-app-installation-hook",children:"Example: App Installation Hook"}),"\n",(0,s.jsx)(n.p,{children:"Use this in your app's installation or upgrade hooks:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"namespace OCA\\MyApp\\Migration;\n\nuse OCP\\Migration\\IOutput;\nuse OCP\\Migration\\IRepairStep;\nuse Psr\\Container\\ContainerInterface;\n\nclass InstallConfiguration implements IRepairStep {\n    \n    private ContainerInterface $container;\n    \n    public function __construct(ContainerInterface $container) {\n        $this->container = $container;\n    }\n    \n    public function getName(): string {\n        return 'Install MyApp configuration';\n    }\n    \n    public function run(IOutput $output): void {\n        try {\n            // Get configuration service\n            $configService = $this->container->get(\n                'OCA\\OpenRegister\\Service\\ConfigurationService'\n            );\n            \n            // Load configuration from bundled JSON file\n            $configPath = __DIR__ . '/../Settings/configuration.json';\n            $configData = json_decode(file_get_contents($configPath), true);\n            \n            // Import configuration\n            $result = $configService->importFromApp(\n                appId: 'myapp',\n                data: $configData,\n                version: '1.0.0',\n                force: false\n            );\n            \n            $output->info(sprintf(\n                'Configuration imported: %d registers, %d schemas, %d objects',\n                count($result['registers']),\n                count($result['schemas']),\n                count($result['objects'])\n            ));\n            \n        } catch (\\Exception $e) {\n            $output->warning('Failed to import configuration: ' . $e->getMessage());\n        }\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-version-based-updates",children:"Example: Version-Based Updates"}),"\n",(0,s.jsx)(n.p,{children:"Update configurations only when app version increases:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// In your app's upgrade logic\n$appManager = \\OC::$server->getAppManager();\n$currentVersion = $appManager->getAppVersion('myapp');\n\n$configService = $this->container->get('OCA\\OpenRegister\\Service\\ConfigurationService');\n\n// Check if update is needed\n$storedVersion = $configService->getConfiguredAppVersion('myapp');\n\nif ($storedVersion === null || version_compare($currentVersion, $storedVersion, '>')) {\n    // Load updated configuration\n    $configData = $this->loadConfiguration();\n    \n    // Import with app version\n    $result = $configService->importFromApp(\n        appId: 'myapp',\n        data: $configData,\n        version: $currentVersion,\n        force: false\n    );\n    \n    // Configuration is now at the current app version\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configuration-data-format",children:"Configuration Data Format"}),"\n",(0,s.jsxs)(n.p,{children:["Your configuration data should follow the OpenAPI 3.0 specification with OpenRegister-specific metadata stored in the ",(0,s.jsx)(n.code,{children:"x-openregister"})," extension field following the ",(0,s.jsx)(n.a,{href:"https://swagger.io/docs/specification/v3_0/openapi-extensions/",children:"OpenAPI Extensions specification"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "openapi": "3.0.0",\n  "info": {\n    "title": "MyApp Configuration",\n    "description": "Default configuration for MyApp",\n    "version": "1.0.0"\n  },\n  "x-openregister": {\n    "type": "app",\n    "app": "myapp",\n    "sourceType": "local",\n    "sourceUrl": "apps-extra/myapp/lib/Settings/myapp_config.json",\n    "github": {\n      "repo": null,\n      "branch": null,\n      "path": null\n    }\n  },\n  "components": {\n    "registers": {\n      "myregister": {\n        "title": "My Register",\n        "slug": "myregister",\n        "description": "Application data register",\n        "version": "1.0.0",\n        "schemas": ["myschema"]\n      }\n    },\n    "schemas": {\n      "myschema": {\n        "title": "My Schema",\n        "slug": "myschema",\n        "version": "1.0.0",\n        "type": "object",\n        "properties": {\n          "name": {\n            "type": "string",\n            "title": "Name"\n          },\n          "description": {\n            "type": "string",\n            "title": "Description"\n          }\n        },\n        "required": ["name"]\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h4,{id:"x-openregister-extension",children:"x-openregister Extension"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"x-openregister"})," extension contains OpenRegister-specific metadata following the OpenAPI Extensions specification. This extension is used to store configuration properties that are not part of the standard OpenAPI specification."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Standard OAS Properties (in info section):"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"title"}),": Configuration title"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"description"}),": Configuration description"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"version"}),": Configuration version"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"OpenRegister-specific Properties (in x-openregister extension):"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"type"}),": Type of configuration (e.g., 'app', 'imported', 'manual')"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"app"}),": Application identifier"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sourceType"}),": Source type ('local', 'github', 'gitlab', 'url', 'manual')"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sourceUrl"}),": File path or URL to configuration source (relative to Nextcloud root for local files)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"github"}),": Object containing GitHub-specific properties:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"repo"}),": GitHub repository (format: 'owner/repo')"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"branch"}),": GitHub branch name (e.g., 'main', 'develop')"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"path"}),": Path within GitHub repository (e.g., 'configs/schema.json')"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Properties excluded from export/import:"})}),"\n",(0,s.jsx)(n.p,{children:"The following internal properties are managed automatically by the system and are NOT included in configuration exports or processed during imports:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"System-managed metadata:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"id"}),": Internal database ID"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"uuid"}),": Internal UUID"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"created"}),": Creation timestamp"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"updated"}),": Last update timestamp"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"lastChecked"}),": Last version check timestamp"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"remoteVersion"}),": Remote version (auto-detected)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"localVersion"}),": Local version (auto-updated)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Instance-specific settings:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"autoUpdate"}),": Whether to automatically update (instance-specific preference)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"notificationGroups"}),": Groups to notify on updates (instance-specific)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"owner"}),": Owner user ID (instance-specific)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"organisation"}),": Organisation UUID (instance-specific, may not exist in target instance)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Entity references (tracked automatically during import):"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"registers"}),": Array of register IDs (built from components.registers)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"schemas"}),": Array of schema IDs (built from components.schemas)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"objects"}),": Array of object IDs (built from components.objects)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"views"}),": Array of view IDs (tracked automatically)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"agents"}),": Array of agent IDs (tracked automatically)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sources"}),": Array of source IDs (tracked automatically)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"applications"}),": Array of application IDs (tracked automatically)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Minimal Configuration Example:"})}),"\n",(0,s.jsx)(n.p,{children:"For simple use cases, you only need to include the essential fields:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "openapi": "3.0.0",\n  "info": {\n    "title": "MyApp Configuration",\n    "version": "1.0.0"\n  },\n  "x-openregister": {\n    "type": "app",\n    "app": "myapp",\n    "version": "1.0.0"\n  },\n  "components": {\n    "registers": {},\n    "schemas": {}\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h4,{id:"configuration-files",children:"Configuration Files"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Store configuration in ",(0,s.jsx)(n.code,{children:"Settings/"})," or ",(0,s.jsx)(n.code,{children:"Config/"})," directory within your app"]}),"\n",(0,s.jsx)(n.li,{children:"Use semantic versioning for your configuration"}),"\n",(0,s.jsx)(n.li,{children:"Include metadata (appId, version, title, description) in the JSON"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"version-management",children:"Version Management"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Set version to match your app version"}),"\n",(0,s.jsx)(n.li,{children:"Increment configuration version with app updates"}),"\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"force: false"})," to respect version checks"]}),"\n",(0,s.jsxs)(n.li,{children:["Only use ",(0,s.jsx)(n.code,{children:"force: true"})," during development or explicit reinstalls"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Wrap imports in try-catch blocks"}),"\n",(0,s.jsx)(n.li,{children:"Log errors appropriately"}),"\n",(0,s.jsx)(n.li,{children:"Provide meaningful error messages to admins"}),"\n",(0,s.jsx)(n.li,{children:"Consider fallback behavior if import fails"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"testing",children:"Testing"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Test configuration imports in development environment first"}),"\n",(0,s.jsx)(n.li,{children:"Verify all registers, schemas, and objects are created correctly"}),"\n",(0,s.jsx)(n.li,{children:"Test upgrade scenarios (version updates)"}),"\n",(0,s.jsx)(n.li,{children:"Test fresh install scenarios"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"configuration-api",children:"Configuration API"}),"\n",(0,s.jsx)(n.h3,{id:"list-configurations",children:"List Configurations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"GET /index.php/apps/openregister/api/configurations\n"})}),"\n",(0,s.jsx)(n.h3,{id:"get-single-configuration",children:"Get Single Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"GET /index.php/apps/openregister/api/configurations/{id}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"create-configuration",children:"Create Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:'POST /index.php/apps/openregister/api/configurations\nContent-Type: application/json\n\n{\n  "title": "My Application",\n  "description": "Core application configuration",\n  "type": "application",\n  "registers": [1, 2, 3],\n  "schemas": [4, 5, 6]\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"update-configuration",children:"Update Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:'PUT /index.php/apps/openregister/api/configurations/{id}\nContent-Type: application/json\n\n{\n  "title": "Updated Application",\n  "description": "Updated description",\n  "registers": [1, 2, 3, 7],\n  "schemas": [4, 5, 6, 8]\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"delete-configuration",children:"Delete Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"DELETE /index.php/apps/openregister/api/configurations/{id}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"data-structure",children:"Data Structure"}),"\n",(0,s.jsx)(n.h3,{id:"configuration-entity",children:"Configuration Entity"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"{\n  id: string\n  title: string\n  description: string | null\n  type: string\n  owner: string\n  registers: number[]  // Array of register IDs\n  schemas: number[]    // Array of schema IDs\n  objects: number[]    // Array of object IDs (optional)\n  created: string      // ISO 8601 timestamp\n  updated: string      // ISO 8601 timestamp\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"database-schema",children:"Database Schema"}),"\n",(0,s.jsx)(n.p,{children:"The configuration is stored in the 'oc_openregister_configurations' table with the following fields:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"'id': Primary key (integer)"}),"\n",(0,s.jsx)(n.li,{children:"'title': Configuration name (string)"}),"\n",(0,s.jsx)(n.li,{children:"'description': Detailed description (text, nullable)"}),"\n",(0,s.jsx)(n.li,{children:"'type': Configuration type (string)"}),"\n",(0,s.jsx)(n.li,{children:"'app': Owner/app identifier (string)"}),"\n",(0,s.jsx)(n.li,{children:"'version': Configuration version (string)"}),"\n",(0,s.jsx)(n.li,{children:"'registers': JSON array of register IDs"}),"\n",(0,s.jsx)(n.li,{children:"'schemas': JSON array of schema IDs"}),"\n",(0,s.jsx)(n.li,{children:"'objects': JSON array of object IDs"}),"\n",(0,s.jsx)(n.li,{children:"'created': Creation timestamp (datetime)"}),"\n",(0,s.jsx)(n.li,{children:"'updated': Last update timestamp (datetime)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices-1",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"naming-conventions",children:"Naming Conventions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use descriptive titles that clearly indicate the configuration's purpose"}),"\n",(0,s.jsx)(n.li,{children:"Include the application or tenant name in the title when applicable"}),"\n",(0,s.jsx)(n.li,{children:"Use consistent type values across your system (e.g., always use 'application', not 'app' or 'Application')"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"organization",children:"Organization"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Create configurations for logical groupings of functionality"}),"\n",(0,s.jsx)(n.li,{children:"Keep configurations focused - don't mix unrelated registers and schemas"}),"\n",(0,s.jsx)(n.li,{children:"Use configurations to enforce multi-tenancy boundaries"}),"\n",(0,s.jsx)(n.li,{children:"Document the purpose of each configuration in the description field"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"version-management-1",children:"Version Management"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The system automatically increments the patch version on each update"}),"\n",(0,s.jsx)(n.li,{children:"Major and minor version changes should be managed manually when needed"}),"\n",(0,s.jsx)(n.li,{children:"Export configurations before making major structural changes"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"multi-tenancy-1",children:"Multi-Tenancy"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Create separate configurations for each tenant"}),"\n",(0,s.jsx)(n.li,{children:"Never share registers or schemas between tenant configurations"}),"\n",(0,s.jsx)(n.li,{children:"Use the owner/app field to identify the tenant"}),"\n",(0,s.jsx)(n.li,{children:"Export/import configurations to provision new tenants"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"cannot-save-configuration",children:"Cannot Save Configuration"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": Save button is disabled"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),": Ensure both title and type fields are filled in. These are required fields."]}),"\n",(0,s.jsx)(n.h3,{id:"registersschemas-not-showing-in-dropdown",children:"Registers/Schemas Not Showing in Dropdown"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": No items appear in the register or schema selector"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ensure you have created registers and schemas in the system"}),"\n",(0,s.jsx)(n.li,{children:"Refresh the page to reload the data"}),"\n",(0,s.jsx)(n.li,{children:"Check that you have the necessary permissions to view registers and schemas"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"changes-not-persisting",children:"Changes Not Persisting"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": Selected registers or schemas are not saved"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify that you clicked the Save button (not just closed the modal)"}),"\n",(0,s.jsx)(n.li,{children:"Check browser console for any API errors"}),"\n",(0,s.jsx)(n.li,{children:"Ensure you have write permissions for configurations"}),"\n",(0,s.jsx)(n.li,{children:"Try refreshing the page and editing again"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"import-fails",children:"Import Fails"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": Configuration import returns an error"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify the JSON file format is correct"}),"\n",(0,s.jsx)(n.li,{children:"Ensure referenced registers and schemas exist or will be created"}),"\n",(0,s.jsx)(n.li,{children:"Check for ID conflicts if importing into a system with existing data"}),"\n",(0,s.jsx)(n.li,{children:"Review server logs for detailed error messages"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"related-features",children:"Related Features"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/Features/registers",children:"Registers"})," - Learn about register management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/Features/schemas",children:"Schemas"})," - Learn about schema definitions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/Features/objects",children:"Objects"})," - Learn about object management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/technical/import-export",children:"Import/Export"})," - Detailed import/export documentation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/Features/multi-tenancy",children:"Multi-Tenancy"})," - Multi-tenancy implementation details"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"configuration-management-system",children:"Configuration Management System"}),"\n",(0,s.jsx)(n.p,{children:"The Configuration Management System provides advanced features for managing configurations from remote sources, tracking versions, and keeping configurations synchronized."}),"\n",(0,s.jsx)(n.h3,{id:"overview-1",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"The configuration management system allows you to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Link configurations to remote sources (GitHub, GitLab, URL)"}),"\n",(0,s.jsx)(n.li,{children:"Track local and remote versions automatically"}),"\n",(0,s.jsx)(n.li,{children:"Preview changes before importing"}),"\n",(0,s.jsx)(n.li,{children:"Selectively import only the changes you want"}),"\n",(0,s.jsx)(n.li,{children:"Set up automatic updates when new versions are detected"}),"\n",(0,s.jsx)(n.li,{children:"Receive Nextcloud notifications when updates are available"}),"\n",(0,s.jsx)(n.li,{children:"Push local configurations to GitHub repositories"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    A[Remote Config Source] --\x3e|Check Version| B[Configuration Entity]\n    B --\x3e|Preview Changes| C[Preview Modal]\n    C --\x3e|User Approval| D[Selective Import]\n    D --\x3e|Update Entities| E[Local Registers/Schemas]\n    \n    F[Cron Job] --\x3e|Hourly Check| B\n    B --\x3e|Update Available| G[Notification]\n    G --\x3e|Notify| H[Admins & Groups]\n    \n    style A fill:#e3f2fd\n    style B fill:#fff3e0\n    style C fill:#ffe0b2\n    style D fill:#c8e6c9\n    style E fill:#bbdefb\n    style F fill:#f3e5f5\n    style G fill:#ffecb3\n    style H fill:#c8e6c9\n"})}),"\n",(0,s.jsx)(n.h3,{id:"source-types",children:"Source Types"}),"\n",(0,s.jsx)(n.p,{children:"Configurations can be managed from different source types:"}),"\n",(0,s.jsx)(n.h4,{id:"local-source",children:"Local Source"}),"\n",(0,s.jsx)(n.p,{children:"A locally managed configuration that is not synchronized with any remote source. This is the default type and is suitable for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Custom configurations specific to your installation"}),"\n",(0,s.jsx)(n.li,{children:"Configurations used for exporting to other systems"}),"\n",(0,s.jsx)(n.li,{children:"Development and testing purposes"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"github-source",children:"GitHub Source"}),"\n",(0,s.jsx)(n.p,{children:"Configuration synchronized with a GitHub repository. Requires:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A GitHub Personal Access Token (configured in user settings)"}),"\n",(0,s.jsx)(n.li,{children:"Repository name in format 'owner/repo'"}),"\n",(0,s.jsx)(n.li,{children:"Branch name (e.g., 'main', 'develop')"}),"\n",(0,s.jsx)(n.li,{children:"File path within the repository"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"gitlab-source",children:"GitLab Source"}),"\n",(0,s.jsx)(n.p,{children:"Configuration synchronized with a GitLab repository. Works similarly to GitHub with GitLab-specific authentication."}),"\n",(0,s.jsx)(n.h4,{id:"url-source",children:"URL Source"}),"\n",(0,s.jsx)(n.p,{children:"Configuration fetched from any publicly accessible URL. The URL should point to a raw JSON or YAML configuration file."}),"\n",(0,s.jsx)(n.h3,{id:"version-tracking",children:"Version Tracking"}),"\n",(0,s.jsx)(n.p,{children:"The system tracks two version numbers for each configuration:"}),"\n",(0,s.jsx)(n.h4,{id:"local-version",children:"Local Version"}),"\n",(0,s.jsx)(n.p,{children:"The version currently installed in your system. This is updated automatically when you:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Import a configuration"}),"\n",(0,s.jsx)(n.li,{children:"Make manual changes to managed entities"}),"\n",(0,s.jsx)(n.li,{children:"Apply updates from a remote source"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"remote-version",children:"Remote Version"}),"\n",(0,s.jsx)(n.p,{children:"The latest version available from the remote source. The system:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Checks this automatically via the cron job"}),"\n",(0,s.jsx)(n.li,{children:"Compares it with the local version using semantic versioning"}),"\n",(0,s.jsx)(n.li,{children:"Shows an update notification if a newer version is available"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant Cron as Cron Job\n    participant Service as ConfigurationService\n    participant Remote as Remote Source\n    participant DB as Database\n    participant Notif as Notification System\n    \n    Cron->>Service: Run version check\n    Service->>DB: Load configurations\n    DB--\x3e>Service: Configurations with remote sources\n    \n    loop For each configuration\n        Service->>Remote: Fetch remote config\n        Remote--\x3e>Service: Remote configuration data\n        Service->>Service: Extract version info\n        Service->>Service: Compare versions\n        \n        alt Update available\n            Service->>DB: Update remoteVersion field\n            Service->>Notif: Send notification\n            Notif->>Notif: Notify admins & groups\n        end\n    end\n"})}),"\n",(0,s.jsx)(n.h3,{id:"previewing-configuration-changes",children:"Previewing Configuration Changes"}),"\n",(0,s.jsx)(n.p,{children:"Before importing or updating a configuration, you can preview all changes that will be applied:"}),"\n",(0,s.jsx)(n.h4,{id:"preview-modal-features",children:"Preview Modal Features"}),"\n",(0,s.jsx)(n.p,{children:"The preview modal shows:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Summary Information"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Configuration title and description"}),"\n",(0,s.jsx)(n.li,{children:"Local and remote version numbers"}),"\n",(0,s.jsx)(n.li,{children:"Total number of changes"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Change Details by Entity Type"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Registers: What will be created or updated"}),"\n",(0,s.jsx)(n.li,{children:"Schemas: What will be created or updated"}),"\n",(0,s.jsx)(n.li,{children:"Objects: What will be created or updated"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Action Indicators"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Create"}),": New entity will be created"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update"}),": Existing entity will be modified"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Skip"}),": No changes detected"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Version Comparison"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Current version of each entity"}),"\n",(0,s.jsx)(n.li,{children:"Proposed version from remote configuration"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Field-Level Differences"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Shows exactly which fields will change"}),"\n",(0,s.jsx)(n.li,{children:"Displays old and new values"}),"\n",(0,s.jsx)(n.li,{children:"Highlights additions and deletions"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"selective-import",children:"Selective Import"}),"\n",(0,s.jsx)(n.p,{children:"You can choose which changes to apply:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Select All"})," button: Selects all proposed changes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Deselect All"})," button: Clears all selections"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Individual Selection"}),": Check/uncheck specific entities"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Import Selected"})," button: Applies only the selected changes"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph LR\n    A[Configuration] --\x3e|Preview| B[Change Detection]\n    B --\x3e C[Register Changes]\n    B --\x3e D[Schema Changes]\n    B --\x3e E[Object Changes]\n    \n    C --\x3e F[User Selection]\n    D --\x3e F\n    E --\x3e F\n    \n    F --\x3e|Import Selected| G[Apply Changes]\n    G --\x3e H[Update Local Entities]\n    \n    style A fill:#e3f2fd\n    style B fill:#fff3e0\n    style F fill:#ffe0b2\n    style G fill:#c8e6c9\n    style H fill:#bbdefb\n"})}),"\n",(0,s.jsx)(n.h3,{id:"auto-update-functionality",children:"Auto-Update Functionality"}),"\n",(0,s.jsx)(n.p,{children:"Configurations can be set to automatically update when new versions are detected:"}),"\n",(0,s.jsx)(n.h4,{id:"enabling-auto-update",children:"Enabling Auto-Update"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Edit the configuration"}),"\n",(0,s.jsxs)(n.li,{children:["Navigate to the ",(0,s.jsx)(n.strong,{children:"Management"})," tab"]}),"\n",(0,s.jsxs)(n.li,{children:["Check ",(0,s.jsx)(n.strong,{children:"Enable Auto-Update"})]}),"\n",(0,s.jsx)(n.li,{children:"Save the configuration"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"When auto-update is enabled:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The cron job checks for updates hourly"}),"\n",(0,s.jsx)(n.li,{children:"If a newer version is found, it is automatically imported"}),"\n",(0,s.jsx)(n.li,{children:"All changes are applied without requiring user approval"}),"\n",(0,s.jsx)(n.li,{children:"No preview or selection is performed"}),"\n",(0,s.jsx)(n.li,{children:"Admins are notified after the update completes"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Important"}),": Use auto-update only for trusted sources where you want all changes applied automatically."]}),"\n",(0,s.jsx)(n.h3,{id:"notification-system",children:"Notification System"}),"\n",(0,s.jsx)(n.p,{children:"The system can notify users when configuration updates are available:"}),"\n",(0,s.jsx)(n.h4,{id:"notification-groups",children:"Notification Groups"}),"\n",(0,s.jsx)(n.p,{children:"Configure which groups receive notifications:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Admin Group"})," (always included): System administrators"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Custom Groups"}),": Add any Nextcloud groups"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"notification-behavior",children:"Notification Behavior"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Notifications are sent when a newer remote version is detected"}),"\n",(0,s.jsx)(n.li,{children:"Auto-update configurations bypass the notification (update happens automatically)"}),"\n",(0,s.jsx)(n.li,{children:"Clicking a notification takes you to the configuration preview"}),"\n",(0,s.jsx)(n.li,{children:"Notifications are dismissed once the update is applied"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"managed-entities",children:"Managed Entities"}),"\n",(0,s.jsxs)(n.p,{children:["Entities (Registers, Schemas, Objects) that are created from a configuration are marked as ",(0,s.jsx)(n.strong,{children:"managed"}),":"]}),"\n",(0,s.jsx)(n.h4,{id:"restrictions-on-managed-entities",children:"Restrictions on Managed Entities"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cannot be edited directly through their detail pages"}),"\n",(0,s.jsx)(n.li,{children:"Edit buttons are disabled in the UI"}),"\n",(0,s.jsx)(n.li,{children:"API attempts to modify them return an error"}),"\n",(0,s.jsx)(n.li,{children:"Only the configuration that manages them can update them"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"identifying-managed-entities",children:"Identifying Managed Entities"}),"\n",(0,s.jsx)(n.p,{children:"Managed entities display a pill badge showing:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configuration Name"}),": Which configuration manages the entity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Version"}),": The current version from that configuration"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Entities without a configuration show a ",(0,s.jsx)(n.strong,{children:"Manual"})," badge, indicating they can be edited freely."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    A[Entity] --\x3e B{Is Managed?}\n    \n    B --\x3e|Yes| C[Check Configuration]\n    C --\x3e D[Show Config Badge]\n    D --\x3e E[Disable Edit]\n    \n    B --\x3e|No| F[Show Manual Badge]\n    F --\x3e G[Allow Edit]\n    \n    style A fill:#e3f2fd\n    style C fill:#fff3e0\n    style D fill:#ffe0b2\n    style E fill:#ffcdd2\n    style F fill:#c8e6c9\n    style G fill:#a5d6a7\n"})}),"\n",(0,s.jsx)(n.h3,{id:"github-integration",children:"GitHub Integration"}),"\n",(0,s.jsx)(n.p,{children:"The system provides deep integration with GitHub for configuration management:"}),"\n",(0,s.jsx)(n.h4,{id:"push-to-github",children:"Push to GitHub"}),"\n",(0,s.jsx)(n.p,{children:"Export your configuration directly to a GitHub repository:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Navigate to the configuration detail page"}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Actions"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Push to GitHub"})]}),"\n",(0,s.jsx)(n.li,{children:"The configuration is committed to the configured repository"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Requirements:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"GitHub Personal Access Token set in user settings"}),"\n",(0,s.jsx)(n.li,{children:"Repository, branch, and path configured in the configuration"}),"\n",(0,s.jsx)(n.li,{children:"Write access to the target repository"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"create-pull-request",children:"Create Pull Request"}),"\n",(0,s.jsx)(n.p,{children:"Create a pull request for your configuration changes:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Make changes to a configuration"}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Actions"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Create Pull Request"})]}),"\n",(0,s.jsx)(n.li,{children:"A new PR is created in the configured repository"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This allows for review workflows before changes are merged."}),"\n",(0,s.jsx)(n.h3,{id:"configuration-management-tab",children:"Configuration Management Tab"}),"\n",(0,s.jsxs)(n.p,{children:["The configuration edit modal includes a ",(0,s.jsx)(n.strong,{children:"Management"})," tab with these fields:"]}),"\n",(0,s.jsx)(n.h4,{id:"source-settings",children:"Source Settings"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Source Type"}),": Choose from Local, GitHub, GitLab, or URL"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Source URL"}),": The URL to the remote configuration file (for remote types)"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"version-settings",children:"Version Settings"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Local Version"}),": The currently installed version (editable)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Remote Version"}),": Latest version from remote source (read-only, auto-detected)"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"update-settings",children:"Update Settings"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enable Auto-Update"}),": Checkbox to enable automatic updates"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Notification Groups"}),": Select which groups receive update notifications"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"github-settings-when-source-type-is-github",children:"GitHub Settings (when Source Type is GitHub)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"GitHub Repository"}),": Format 'owner/repo'"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"GitHub Branch"}),": The branch to use (default: 'main')"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"GitHub Path"}),": Path to the configuration file within the repository"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"api-endpoints",children:"API Endpoints"}),"\n",(0,s.jsx)(n.h4,{id:"check-remote-version",children:"Check Remote Version"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"GET /index.php/apps/openregister/api/configurations/{id}/check-version\n"})}),"\n",(0,s.jsx)(n.p,{children:"Checks the remote source for a newer version and updates the 'remoteVersion' field."}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:"{\n  'localVersion': '1.0.0',\n  'remoteVersion': '1.1.0',\n  'hasUpdate': true,\n  'lastChecked': '2025-01-15T10:30:00Z'\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"preview-configuration-changes",children:"Preview Configuration Changes"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"GET /index.php/apps/openregister/api/configurations/{id}/preview\n"})}),"\n",(0,s.jsx)(n.p,{children:"Generates a preview of changes that would be applied if the remote configuration were imported."}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:"{\n  'metadata': {\n    'localVersion': '1.0.0',\n    'remoteVersion': '1.1.0',\n    'totalChanges': 5\n  },\n  'registers': [\n    {\n      'slug': 'myregister',\n      'title': 'My Register',\n      'action': 'update',\n      'current': { 'version': '1.0.0' },\n      'proposed': { 'version': '1.1.0' },\n      'changes': [\n        {\n          'field': 'description',\n          'current': 'Old description',\n          'proposed': 'New description'\n        }\n      ]\n    }\n  ],\n  'schemas': [...],\n  'objects': [...]\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"import-with-selection",children:"Import with Selection"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"POST /index.php/apps/openregister/api/configurations/{id}/import\nContent-Type: application/json\n\n{\n  'selection': {\n    'registers': ['register1', 'register2'],\n    'schemas': ['schema1'],\n    'objects': ['register1:schema1:object1']\n  }\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Imports only the selected entities from the remote configuration."}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:"{\n  'registersCount': 2,\n  'schemasCount': 1,\n  'objectsCount': 1,\n  'localVersion': '1.1.0'\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"export-configuration",children:"Export Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"GET /index.php/apps/openregister/api/configurations/{id}/export?format=json\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Exports the configuration with all managed entities following the OpenAPI 3.0 specification with OpenRegister metadata in the ",(0,s.jsx)(n.code,{children:"x-openregister"})," extension."]}),"\n",(0,s.jsx)(n.p,{children:"Query Parameters:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"'format': 'json' or 'yaml'"}),"\n",(0,s.jsx)(n.li,{children:"'includeObjects': 'true' or 'false' (default: false)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Response Structure:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "openapi": "3.0.0",\n  "info": {\n    "title": "Configuration Title",\n    "description": "Configuration Description",\n    "version": "1.0.0"\n  },\n  "x-openregister": {\n    "title": "Configuration Title",\n    "description": "Configuration Description",\n    "type": "app",\n    "app": "myapp",\n    "version": "1.0.0",\n    "sourceType": "local",\n    "sourceUrl": null,\n    "github": {\n      "repo": null,\n      "branch": null,\n      "path": null\n    }\n  },\n  "components": {\n    "registers": {},\n    "schemas": {},\n    "objects": []\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note"}),": The exported configuration follows the ",(0,s.jsx)(n.a,{href:"https://swagger.io/docs/specification/v3_0/openapi-extensions/",children:"OpenAPI Extensions specification"})," by storing OpenRegister-specific metadata in the ",(0,s.jsx)(n.code,{children:"x-openregister"})," extension field."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Excluded properties"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"From Configuration"}),": System-managed metadata (id, uuid, created, updated, lastChecked, remoteVersion, localVersion), instance-specific settings (autoUpdate, notificationGroups, owner, organisation), and entity reference arrays (registers, schemas, objects, views, agents, sources, applications)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"From Registers/Schemas/Objects"}),": id, uuid, organisation (all instance-specific)"]}),"\n",(0,s.jsxs)(n.li,{children:["Entity references are tracked automatically during import from the ",(0,s.jsx)(n.code,{children:"components"})," section"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"background-jobs",children:"Background Jobs"}),"\n",(0,s.jsx)(n.p,{children:"The system includes a cron job that runs hourly (configurable):"}),"\n",(0,s.jsx)(n.h4,{id:"configuration-check-job",children:"Configuration Check Job"}),"\n",(0,s.jsx)(n.p,{children:"Purpose: Check all remote configurations for updates"}),"\n",(0,s.jsx)(n.p,{children:"Behavior:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Loads all configurations with remote sources"}),"\n",(0,s.jsx)(n.li,{children:"For each configuration, fetches the remote file"}),"\n",(0,s.jsx)(n.li,{children:"Compares remote version with local version"}),"\n",(0,s.jsx)(n.li,{children:"If auto-update is enabled: Automatically imports the new version"}),"\n",(0,s.jsx)(n.li,{children:"If auto-update is disabled: Sends notification to configured groups"}),"\n",(0,s.jsx)(n.li,{children:"Updates the 'lastChecked' timestamp"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Configuration:"}),"\n",(0,s.jsx)(n.p,{children:"Set the check interval in Nextcloud admin settings (in seconds, 0 to disable):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"'openregister.configuration.check_interval' => 3600  // 1 hour\n"})}),"\n",(0,s.jsx)(n.h3,{id:"best-practices-2",children:"Best Practices"}),"\n",(0,s.jsx)(n.h4,{id:"version-management-2",children:"Version Management"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use semantic versioning (MAJOR.MINOR.PATCH)"}),"\n",(0,s.jsx)(n.li,{children:"Increment PATCH for bug fixes and minor changes"}),"\n",(0,s.jsx)(n.li,{children:"Increment MINOR for new features (backward compatible)"}),"\n",(0,s.jsx)(n.li,{children:"Increment MAJOR for breaking changes"}),"\n",(0,s.jsx)(n.li,{children:"Always update the version in your remote configuration when making changes"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"source-selection",children:"Source Selection"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.strong,{children:"Local"})," for configurations you manage entirely within Nextcloud"]}),"\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.strong,{children:"GitHub"})," when collaborating with others or tracking changes in version control"]}),"\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.strong,{children:"URL"})," for read-only configurations from external sources"]}),"\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.strong,{children:"GitLab"})," if your organization uses GitLab"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"auto-update-usage",children:"Auto-Update Usage"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Enable for trusted, stable configuration sources"}),"\n",(0,s.jsx)(n.li,{children:"Disable for production systems where you want to review changes first"}),"\n",(0,s.jsx)(n.li,{children:"Test configurations in a staging environment before enabling auto-update in production"}),"\n",(0,s.jsx)(n.li,{children:"Always keep backups before enabling auto-update"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"notification-strategy",children:"Notification Strategy"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Add your DevOps team to notification groups for all configurations"}),"\n",(0,s.jsx)(n.li,{children:"Create specific groups for different configuration types"}),"\n",(0,s.jsx)(n.li,{children:"Review and apply updates promptly to stay current with remote sources"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"troubleshooting-1",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h4,{id:"remote-version-not-updating",children:"Remote Version Not Updating"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": The remote version field shows '-' or an old version"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Actions"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Check Version"})," to manually trigger a check"]}),"\n",(0,s.jsx)(n.li,{children:"Verify the source URL is correct and accessible"}),"\n",(0,s.jsx)(n.li,{children:"Check that the remote file has a 'version' or 'info.version' field"}),"\n",(0,s.jsx)(n.li,{children:"Review server logs for connection errors"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"preview-shows-no-changes",children:"Preview Shows No Changes"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": Preview modal shows no changes even though you expect updates"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify the remote version is actually newer than the local version"}),"\n",(0,s.jsx)(n.li,{children:"Check that entity slugs match between local and remote configurations"}),"\n",(0,s.jsx)(n.li,{children:"Ensure the remote configuration uses the same structure"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"import-fails-with-selection",children:"Import Fails with Selection"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": Importing selected entities returns an error"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Check that all referenced schemas and registers exist"}),"\n",(0,s.jsx)(n.li,{children:"Verify you have write permissions for the configuration"}),"\n",(0,s.jsx)(n.li,{children:"Review the preview for any validation errors"}),"\n",(0,s.jsx)(n.li,{children:"Check server logs for detailed error messages"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"managed-entity-cannot-be-edited",children:"Managed Entity Cannot Be Edited"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": Edit button is disabled on a schema or register"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"This is expected behavior for managed entities"}),"\n",(0,s.jsx)(n.li,{children:"To edit, modify the source configuration and re-import"}),"\n",(0,s.jsx)(n.li,{children:"Alternatively, remove the entity from the configuration to make it editable"}),"\n",(0,s.jsx)(n.li,{children:"For local configurations, edit through the configuration itself"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"llm-configuration-settings",children:"LLM Configuration Settings"}),"\n",(0,s.jsx)(n.p,{children:"The LLM Configuration page displays information about your AI stack configuration, including embedding providers, chat providers, and database status."}),"\n",(0,s.jsx)(n.h3,{id:"database-status-tile",children:"Database Status Tile"}),"\n",(0,s.jsx)(n.p,{children:"The database status tile shows your database type, version, and vector search capability to help you optimize performance."}),"\n",(0,s.jsx)(n.h4,{id:"what-it-shows",children:"What It Shows"}),"\n",(0,s.jsx)(n.p,{children:"The tile displays:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Database Type"}),": MariaDB, MySQL, PostgreSQL, or SQLite"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Database Version"}),": Current version number"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Vector Support"}),": Whether native vector operations are supported"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Recommended Plugin"}),": Suggests pgvector for PostgreSQL"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance Note"}),": Guidance on optimization"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"database-detection",children:"Database Detection"}),"\n",(0,s.jsx)(n.p,{children:"The system automatically detects:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MariaDB"}),": Identified by 'MariaDB' string in version"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MySQL"}),": Identified when version doesn't contain 'MariaDB'"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"PostgreSQL"}),": Detected via platform name and extension queries"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"SQLite"}),": Detected via platform name"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"vector-support-check",children:"Vector Support Check"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MariaDB/MySQL"}),": No native vector support (always shows warning)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"PostgreSQL"}),": Checks for ",(0,s.jsx)(n.code,{children:"pgvector"})," extension installation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"SQLite"}),": No vector support (not recommended for production)"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"performance-recommendations",children:"Performance Recommendations"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Database"}),(0,s.jsx)(n.th,{children:"Vector Support"}),(0,s.jsx)(n.th,{children:"Performance Note"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"MariaDB"})}),(0,s.jsx)(n.td,{children:"\u2717"}),(0,s.jsx)(n.td,{children:"PHP similarity (slow) \u2192 migrate to PostgreSQL"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"MySQL"})}),(0,s.jsx)(n.td,{children:"\u2717"}),(0,s.jsx)(n.td,{children:"PHP similarity (slow) \u2192 migrate to PostgreSQL"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"PostgreSQL (no pgvector)"})}),(0,s.jsx)(n.td,{children:"\u2717"}),(0,s.jsxs)(n.td,{children:["Install: ",(0,s.jsx)(n.code,{children:"CREATE EXTENSION vector;"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"PostgreSQL (with pgvector)"})}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Optimal: Database-level vector ops"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"SQLite"})}),(0,s.jsx)(n.td,{children:"\u2717"}),(0,s.jsx)(n.td,{children:"Not recommended for production"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"visual-indicators",children:"Visual Indicators"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"When using MariaDB/MySQL"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Database card has ",(0,s.jsx)(n.strong,{children:"orange border"})," (warning)"]}),"\n",(0,s.jsxs)(n.li,{children:["Plugin text is ",(0,s.jsx)(n.strong,{children:"orange"})," (warning)"]}),"\n",(0,s.jsx)(n.li,{children:"Performance note shows current limitations"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"When using PostgreSQL + pgvector"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Database card has ",(0,s.jsx)(n.strong,{children:"normal styling"})]}),"\n",(0,s.jsxs)(n.li,{children:["Plugin text is ",(0,s.jsx)(n.strong,{children:"green"})," (success)"]}),"\n",(0,s.jsx)(n.li,{children:'Performance note shows "Optimal"'}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"api-endpoint",children:"API Endpoint"}),"\n",(0,s.jsx)(n.p,{children:"The database information is available via:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"GET /api/settings/database\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Response Example"})," (MariaDB):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "database": {\n    "type": "MariaDB",\n    "version": "10.6.23",\n    "platform": "mysql",\n    "vectorSupport": false,\n    "recommendedPlugin": "pgvector for PostgreSQL",\n    "performanceNote": "Current: Similarity calculated in PHP (slow). Recommended: Migrate to PostgreSQL + pgvector for 10-100x speedup."\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Response Example"})," (PostgreSQL with pgvector):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "database": {\n    "type": "PostgreSQL",\n    "version": "16.1",\n    "platform": "postgres",\n    "vectorSupport": true,\n    "recommendedPlugin": "pgvector (installed \u2713)",\n    "performanceNote": "Optimal: Using database-level vector operations for fast semantic search."\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h4,{id:"benefits",children:"Benefits"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visibility"}),": Immediately see if you have optimal vector search setup"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Guidance"}),": Clear recommendation to migrate to PostgreSQL + pgvector"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance Awareness"}),": Links slow performance to database limitation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Actionable"}),": Know what to do (install pgvector or migrate)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Status At-A-Glance"}),": See full AI stack configuration in one view"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"accessing-the-database-tile",children:"Accessing the Database Tile"}),"\n",(0,s.jsxs)(n.p,{children:["Navigate to ",(0,s.jsx)(n.strong,{children:"Settings \u2192 OpenRegister \u2192 LLM Configuration"})," to view the database status tile alongside your embedding and chat provider information."]}),"\n",(0,s.jsx)(n.h2,{id:"changelog",children:"Changelog"}),"\n",(0,s.jsx)(n.h3,{id:"version-0210-2025-01-16",children:"Version 0.2.10 (2025-01-16)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OAS Compliance"}),": Moved standard OpenAPI properties (title, description, version) from x-openregister to info section","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Follows OpenAPI 3.0 specification more closely"}),"\n",(0,s.jsx)(n.li,{children:"x-openregister now contains only OpenRegister-specific properties (type, app, sourceType, sourceUrl, github)"}),"\n",(0,s.jsx)(n.li,{children:"Backward compatible: import still checks x-openregister if info properties are missing"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"New Method: importFromFilePath()"}),": Added method for apps to import configurations from file paths","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"OpenRegister handles file reading and JSON parsing"}),"\n",(0,s.jsx)(n.li,{children:"Automatically sets sourceUrl for cron job tracking"}),"\n",(0,s.jsx)(n.li,{children:"Recommended method for apps with configuration files"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configuration Uniqueness"}),": Configurations are now unique by sourceUrl","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Added ConfigurationMapper::findBySourceUrl() method"}),"\n",(0,s.jsx)(n.li,{children:"Import checks by sourceUrl first (if provided), then by appId"}),"\n",(0,s.jsx)(n.li,{children:"Prevents duplicate configurations from the same source"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"File Path Handling"}),": sourceUrl now stores relative paths from Nextcloud root","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Example: 'apps-extra/opencatalogi/lib/Settings/publication_register.json'"}),"\n",(0,s.jsx)(n.li,{children:"Enables cron job to locate and check configuration files for updates"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OpenCatalogi Integration"}),": Updated OpenCatalogi SettingsService to use importFromFilePath()","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Delegates file reading responsibility to OpenRegister"}),"\n",(0,s.jsx)(n.li,{children:"Cleaner separation of concerns between app and OpenRegister"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Frontend Fix"}),": Fixed export dialog showing 'No configuration selected for export' error"]}),"\n",(0,s.jsx)(n.li,{children:"Made error message reactive using computed property instead of created hook"}),"\n",(0,s.jsx)(n.li,{children:"Export dialog now properly detects configuration selection from Actions menu"}),"\n",(0,s.jsx)(n.li,{children:"Fixed race condition where modal was checking configuration before store update completed"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Critical Import Fix"}),": Fixed organisation filter error by passing Register/Schema objects instead of IDs to saveObject()"]}),"\n",(0,s.jsx)(n.li,{children:"This prevents find() lookups that would fail due to organisation filtering in multi-tenancy"}),"\n",(0,s.jsx)(n.li,{children:"Fixed object import by replacing string slugs with integer IDs in objectData['@self'] before calling saveObject()"}),"\n",(0,s.jsxs)(n.li,{children:["Updated SoftwareCatalog SettingsService to use ",(0,s.jsx)(n.code,{children:"importFromApp()"})," method"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Fix"}),": Changed export route from POST to GET method (was causing 405 errors)"]}),"\n",(0,s.jsx)(n.li,{children:"Updated OpenCatalogi publication_register.json to include x-openregister extension"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Structure Improvement"}),": Reorganized x-openregister structure - GitHub properties now nested in 'github' object"]}),"\n",(0,s.jsx)(n.li,{children:"Maintains backward compatibility with flat structure during import (githubRepo, githubBranch, githubPath)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"version-029-2025-01-16",children:"Version 0.2.9 (2025-01-16)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OpenAPI Extensions Support"}),": Configuration export/import now follows ",(0,s.jsx)(n.a,{href:"https://swagger.io/docs/specification/v3_0/openapi-extensions/",children:"OpenAPI Extensions specification"})]}),"\n",(0,s.jsxs)(n.li,{children:["Added ",(0,s.jsx)(n.code,{children:"x-openregister"})," extension field for OpenRegister-specific metadata"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Excluded from export/import"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configuration"}),": System-managed metadata (id, uuid, created, updated, lastChecked, remoteVersion, localVersion), instance-specific settings (autoUpdate, notificationGroups, owner, organisation), entity reference arrays (registers, schemas, objects, views, agents, sources, applications)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Registers/Schemas/Objects"}),": id, uuid, organisation (all instance-specific)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Critical Fix"}),": Removed organisation field from all exported entities (Configuration, Registers, Schemas, Objects) to prevent cross-instance UUID conflicts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Import Resilience"}),": Import now gracefully handles organisation filtering - when registers/schemas aren't found due to organisation context, they're created as new entities"]}),"\n",(0,s.jsx)(n.li,{children:"Each imported configuration automatically gets the current instance's organisation context"}),"\n",(0,s.jsx)(n.li,{children:"Cross-instance imports work seamlessly without organisation UUID conflicts"}),"\n",(0,s.jsxs)(n.li,{children:["Backward compatibility maintained: import still supports legacy format without ",(0,s.jsx)(n.code,{children:"x-openregister"})]}),"\n",(0,s.jsxs)(n.li,{children:["Added ",(0,s.jsx)(n.code,{children:"importFromApp()"})," convenience method for programmatic configuration imports"]}),"\n",(0,s.jsx)(n.li,{children:"Enhanced documentation with OpenAPI extension examples and clear property exclusion list"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"version-028-2025-01-15",children:"Version 0.2.8 (2025-01-15)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Added Configuration Management System"}),"\n",(0,s.jsx)(n.li,{children:"Source type support (Local, GitHub, GitLab, URL)"}),"\n",(0,s.jsx)(n.li,{children:"Version tracking (local and remote versions)"}),"\n",(0,s.jsx)(n.li,{children:"Configuration preview with change detection"}),"\n",(0,s.jsx)(n.li,{children:"Selective import functionality"}),"\n",(0,s.jsx)(n.li,{children:"Auto-update feature with configurable behavior"}),"\n",(0,s.jsx)(n.li,{children:"Notification system for update alerts"}),"\n",(0,s.jsx)(n.li,{children:"GitHub integration (push, create PR)"}),"\n",(0,s.jsx)(n.li,{children:"Managed entity enforcement"}),"\n",(0,s.jsx)(n.li,{children:"Cron job for automated version checking"}),"\n",(0,s.jsx)(n.li,{children:"Enhanced configuration modal with Management tab"}),"\n",(0,s.jsx)(n.li,{children:"API endpoints for version checking, preview, and import"}),"\n",(0,s.jsx)(n.li,{children:"Full integration tests and unit tests"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"version-027-2025-01-01",children:"Version 0.2.7 (2025-01-01)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Added register selection in configuration modal"}),"\n",(0,s.jsx)(n.li,{children:"Added schema selection in configuration modal"}),"\n",(0,s.jsx)(n.li,{children:"Multi-select dropdowns for easy association management"}),"\n",(0,s.jsx)(n.li,{children:"Display count of selected items"}),"\n",(0,s.jsx)(n.li,{children:"Enhanced configuration entity to support arrays of IDs"}),"\n",(0,s.jsx)(n.li,{children:"Improved configuration editing workflow"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);