"use strict";(self.webpackChunkopen_catalogi_docs=self.webpackChunkopen_catalogi_docs||[]).push([[138],{28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>l});var s=i(96540);const t={},r=s.createContext(t);function c(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(r.Provider,{value:n},e.children)}},46673:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"features/rag-implementation","title":"RAG (Retrieval Augmented Generation) Implementation","description":"\u2705 Status: FULLY OPERATIONAL","source":"@site/docs/features/rag-implementation.md","sourceDirName":"features","slug":"/features/rag-implementation","permalink":"/docs/features/rag-implementation","draft":false,"unlisted":false,"editUrl":"https://github.com/conductionnl/openregister/tree/main/website/docs/features/rag-implementation.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Function Calling (Tools)","permalink":"/docs/features/function-calling"},"next":{"title":"Views: Reusable Query Filters","permalink":"/docs/features/views"}}');var t=i(74848),r=i(28453);const c={},l="RAG (Retrieval Augmented Generation) Implementation",o={},d=[{value:"\u2705 Status: <strong>FULLY OPERATIONAL</strong>",id:"-status-fully-operational",level:2},{value:"Overview",id:"overview",level:2},{value:"Architecture",id:"architecture",level:2},{value:"How It Works Step-by-Step",id:"how-it-works-step-by-step",level:2},{value:"1. Vectorization (Data Ingestion)",id:"1-vectorization-data-ingestion",level:3},{value:"Object Vectorization",id:"object-vectorization",level:4},{value:"File Vectorization",id:"file-vectorization",level:4},{value:"2. Query Vectorization",id:"2-query-vectorization",level:3},{value:"3. Semantic Search",id:"3-semantic-search",level:3},{value:"4. Context Assembly",id:"4-context-assembly",level:3},{value:"5. Prompt Augmentation",id:"5-prompt-augmentation",level:3},{value:"6. LLM Generation",id:"6-llm-generation",level:3},{value:"Search Modes",id:"search-modes",level:2},{value:"1. <strong>Semantic Search</strong> (Default)",id:"1-semantic-search-default",level:3},{value:"2. <strong>Hybrid Search</strong> (Recommended)",id:"2-hybrid-search-recommended",level:3},{value:"3. <strong>Keyword Search</strong>",id:"3-keyword-search",level:3},{value:"Database Schema",id:"database-schema",level:2},{value:"<code>oc_openregister_vectors</code> Table",id:"oc_openregister_vectors-table",level:3},{value:"Source Metadata",id:"source-metadata",level:2},{value:"Object Sources",id:"object-sources",level:3},{value:"File Sources",id:"file-sources",level:3},{value:"Frontend Display",id:"frontend-display",level:2},{value:"Configuration",id:"configuration",level:2},{value:"LLM Settings",id:"llm-settings",level:3},{value:"Agent Settings",id:"agent-settings",level:3},{value:"Object Vectorization",id:"object-vectorization-1",level:3},{value:"File Vectorization",id:"file-vectorization-1",level:3},{value:"Performance",id:"performance",level:2},{value:"Vectorization Speed",id:"vectorization-speed",level:3},{value:"Search Speed",id:"search-speed",level:3},{value:"Caching",id:"caching",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"&#39;Unknown Source&#39; in Chat",id:"unknown-source-in-chat",level:3},{value:"RAG Not Finding Objects",id:"rag-not-finding-objects",level:3},{value:"Vector Count Mismatch",id:"vector-count-mismatch",level:3},{value:"Roadmap",id:"roadmap",level:2},{value:"Completed \u2705",id:"completed-",level:3},{value:"Planned \u23f3",id:"planned-",level:3},{value:"See Also",id:"see-also",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"rag-retrieval-augmented-generation-implementation",children:"RAG (Retrieval Augmented Generation) Implementation"})}),"\n",(0,t.jsxs)(n.h2,{id:"-status-fully-operational",children:["\u2705 Status: ",(0,t.jsx)(n.strong,{children:"FULLY OPERATIONAL"})]}),"\n",(0,t.jsxs)(n.p,{children:["As of ",(0,t.jsx)(n.strong,{children:"November 7, 2025"}),", RAG is completely working in OpenRegister. All major issues have been resolved."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"RAG (Retrieval Augmented Generation)"})," enables AI agents to answer questions using ",(0,t.jsx)(n.strong,{children:"your data"})," instead of only relying on their training data. When a user asks a question, OpenRegister:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Vectorizes"})," the question using an embedding model"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Searches"})," for semantically similar content in vectors (objects & files)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Retrieves"})," the most relevant context"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Augments"})," the AI's prompt with this context"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Generates"})," an accurate, cited answer"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,t.jsx)(n.mermaid,{value:"graph TB\n    User[User Question: 'What is the color of Mokum?']\n    Agent[AI Agent]\n    VectorService[VectorEmbeddingService]\n    Database[(Vector Database)]\n    LLM[LLM OpenAI/Fireworks/Ollama]\n    \n    User --\x3e Agent\n    Agent --\x3e VectorService\n    VectorService --\x3e Database\n    Database --\x3e VectorService\n    VectorService --\x3e Agent\n    Agent --\x3e LLM\n    LLM --\x3e User\n    \n    style Database fill:#e1f5ff\n    style VectorService fill:#fff4e6\n    style LLM fill:#f3e5f5"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"how-it-works-step-by-step",children:"How It Works Step-by-Step"}),"\n",(0,t.jsx)(n.h3,{id:"1-vectorization-data-ingestion",children:"1. Vectorization (Data Ingestion)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Objects"})," and ",(0,t.jsx)(n.strong,{children:"files"})," are converted to vectors when:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"They are created or updated (if enabled)"}),"\n",(0,t.jsx)(n.li,{children:"Bulk vectorization is triggered manually"}),"\n",(0,t.jsx)(n.li,{children:"Background job processes pending vectorization"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"object-vectorization",children:"Object Vectorization"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// ObjectVectorizationStrategy extracts text\n$object = [\n    'test' => 'mokum',\n    'Beschrijving' => 'Mokum is de kleur blauw',\n    '@self' => [\n        'id' => 'e88a328a-c7f1-416a-b4ba-e6d083bc080e',\n        'register' => 104,\n        'schema' => 306,\n    ]\n];\n\n// Serialized as text for embedding\n$text = \"test: mokum\\nBeschrijving: Mokum is de kleur blauw\";\n\n// Generate embedding (1536-dimensional vector for OpenAI)\n$embedding = $vectorService->generateEmbedding($text);\n\n// Store in oc_openregister_vectors\n$vectorService->storeVector(\n    entityType: 'object',\n    entityId: '123',\n    embedding: $embedding,\n    model: 'text-embedding-3-small',\n    dimensions: 1536,\n    chunkText: $text,\n    metadata: [\n        'object_title' => 'mokum',  // Extracted from custom fields\n        'uuid' => 'e88a328a...',\n        'register' => 104,\n        'schema' => 306,\n    ]\n);\n"})}),"\n",(0,t.jsx)(n.h4,{id:"file-vectorization",children:"File Vectorization"}),"\n",(0,t.jsx)(n.p,{children:"Files are chunked and each chunk is vectorized separately:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Chunk file (e.g., PDF)\n$chunks = $fileService->extractChunks($file);\n\n// Store each chunk as separate vector\nforeach ($chunks as $index => $chunk) {\n    $vectorService->storeVector(\n        entityType: 'file',\n        entityId: '12',\n        embedding: $vectorService->generateEmbedding($chunk['text']),\n        chunkIndex: $index,\n        totalChunks: count($chunks),\n        chunkText: $chunk['text'],\n        metadata: [\n            'file_name' => 'Nextcloud_Manual.pdf',\n            'file_id' => 12,\n            'file_path' => '/admin/files/Nextcloud_Manual.pdf',\n            'mime_type' => 'application/pdf',\n        ]\n    );\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"2-query-vectorization",children:"2. Query Vectorization"}),"\n",(0,t.jsx)(n.p,{children:"When a user sends a message to an agent:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:'// User question\n$query = "Wat is de kleur van mokum?";\n\n// Vectorize query\n$queryEmbedding = $vectorService->generateEmbedding($query);\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"3-semantic-search",children:"3. Semantic Search"}),"\n",(0,t.jsxs)(n.p,{children:["The query embedding is compared against all stored vectors using ",(0,t.jsx)(n.strong,{children:"cosine similarity"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"-- Simplified representation of what happens\nSELECT \n    entity_type,\n    entity_id,\n    chunk_text,\n    metadata,\n    -- Cosine similarity calculation\n    (vector1_dim1 * query_dim1 + vector1_dim2 * query_dim2 + ... vector1_dim1536 * query_dim1536) / \n    (SQRT(vector1_dim1^2 + ... + vector1_dim1536^2) * SQRT(query_dim1^2 + ... + query_dim1536^2)) AS similarity\nFROM oc_openregister_vectors\nWHERE entity_type IN ('object', 'file')  -- Filtered by agent config\nORDER BY similarity DESC\nLIMIT 5;\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Result:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'[\n    {\n        "entity_type": "object",\n        "entity_id": "123",\n        "similarity": 0.92,\n        "text": "test: mokum\\nBeschrijving: Mokum is de kleur blauw",\n        "metadata": {\n            "object_title": "mokum",\n            "uuid": "e88a328a-c7f1-416a-b4ba-e6d083bc080e",\n            "register": 104,\n            "schema": 306\n        }\n    }\n]\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"4-context-assembly",children:"4. Context Assembly"}),"\n",(0,t.jsx)(n.p,{children:"The top results are formatted as context for the LLM:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:'$context = "Source: mokum (Object #123)\\nmokum: Mokum is de kleur blauw\\n\\n";\n$context .= "Source: amsterdam (Object #124)\\namsterdam: Amsterdam is de kleur rood\\n\\n";\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"5-prompt-augmentation",children:"5. Prompt Augmentation"}),"\n",(0,t.jsx)(n.p,{children:"The context is injected into the system prompt:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:'$systemPrompt = "You are a helpful AI assistant.\\n\\n";\n$systemPrompt .= "Use the following context to answer the user\'s question:\\n\\n";\n$systemPrompt .= "CONTEXT:\\n" . $context . "\\n\\n";\n$systemPrompt .= "If the context doesn\'t contain relevant information, say so honestly. ";\n$systemPrompt .= "Always cite which sources you used when answering.";\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"6-llm-generation",children:"6. LLM Generation"}),"\n",(0,t.jsx)(n.p,{children:"The augmented prompt is sent to the LLM:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "messages": [\n        {\n            "role": "system",\n            "content": "You are a helpful AI assistant...\\n\\nCONTEXT:\\nSource: mokum...\\n\\n"\n        },\n        {\n            "role": "user",\n            "content": "Wat is de kleur van mokum?"\n        }\n    ]\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"The LLM generates a response citing the sources:"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:['"According to the data, ',(0,t.jsx)(n.strong,{children:"Mokum is de kleur blauw"}),' (blue). Source: mokum (Object #123)"']}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"search-modes",children:"Search Modes"}),"\n",(0,t.jsx)(n.p,{children:"OpenRegister supports three search modes:"}),"\n",(0,t.jsxs)(n.h3,{id:"1-semantic-search-default",children:["1. ",(0,t.jsx)(n.strong,{children:"Semantic Search"})," (Default)"]}),"\n",(0,t.jsx)(n.p,{children:"Pure vector similarity search. Best for:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Conceptual queries ('What does this organization do?')"}),"\n",(0,t.jsx)(n.li,{children:"Multilingual queries"}),"\n",(0,t.jsx)(n.li,{children:"Finding similar meaning regardless of exact wording"}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"2-hybrid-search-recommended",children:["2. ",(0,t.jsx)(n.strong,{children:"Hybrid Search"})," (Recommended)"]}),"\n",(0,t.jsxs)(n.p,{children:["Combines ",(0,t.jsx)(n.strong,{children:"SOLR keyword search"})," with ",(0,t.jsx)(n.strong,{children:"vector semantic search"})," using ",(0,t.jsx)(n.strong,{children:"Reciprocal Rank Fusion (RRF)"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Get top 10 from SOLR\n$solrResults = $solrService->search($query, limit: 10);\n\n// Get top 10 from vectors\n$vectorResults = $vectorService->semanticSearch($query, limit: 10);\n\n// Merge using RRF\n$combinedResults = $this->reciprocalRankFusion(\n    $solrResults,\n    $vectorResults,\n    k: 60  // RRF constant\n);\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"RRF Formula:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"RRF(doc) = \u03a3(1 / (k + rank_in_list))\n"})}),"\n",(0,t.jsx)(n.p,{children:"For each document, sum its inverse rank across all search methods. Higher score = more relevant."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Best for:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Exact keyword matches + semantic understanding"}),"\n",(0,t.jsx)(n.li,{children:"Named entity queries ('Find organization X')"}),"\n",(0,t.jsx)(n.li,{children:"Most production use cases"}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"3-keyword-search",children:["3. ",(0,t.jsx)(n.strong,{children:"Keyword Search"})]}),"\n",(0,t.jsx)(n.p,{children:"Pure SOLR search. Best for:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Exact term matching"}),"\n",(0,t.jsx)(n.li,{children:"Legacy compatibility"}),"\n",(0,t.jsx)(n.li,{children:"When vectors are not available"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"database-schema",children:"Database Schema"}),"\n",(0,t.jsxs)(n.h3,{id:"oc_openregister_vectors-table",children:[(0,t.jsx)(n.code,{children:"oc_openregister_vectors"})," Table"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Column"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"id"})}),(0,t.jsx)(n.td,{children:"INT"}),(0,t.jsx)(n.td,{children:"Primary key"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"entity_type"})}),(0,t.jsx)(n.td,{children:"VARCHAR"}),(0,t.jsx)(n.td,{children:"'object' or 'file'"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"entity_id"})}),(0,t.jsx)(n.td,{children:"VARCHAR"}),(0,t.jsx)(n.td,{children:"Object ID or file ID"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"embedding_model"})}),(0,t.jsx)(n.td,{children:"VARCHAR"}),(0,t.jsx)(n.td,{children:"Model used (e.g., 'text-embedding-3-small')"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"dimensions"})}),(0,t.jsx)(n.td,{children:"INT"}),(0,t.jsx)(n.td,{children:"Vector dimensions (e.g., 1536)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"embedding_vector"})}),(0,t.jsx)(n.td,{children:"BLOB"}),(0,t.jsx)(n.td,{children:"Serialized PHP array of floats"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"chunk_index"})}),(0,t.jsx)(n.td,{children:"INT"}),(0,t.jsx)(n.td,{children:"Chunk number (for files)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"total_chunks"})}),(0,t.jsx)(n.td,{children:"INT"}),(0,t.jsx)(n.td,{children:"Total chunks (for files)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"chunk_text"})}),(0,t.jsx)(n.td,{children:"TEXT"}),(0,t.jsx)(n.td,{children:"Preview of the text (first 500 chars)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"metadata"})}),(0,t.jsx)(n.td,{children:"TEXT"}),(0,t.jsx)(n.td,{children:"JSON metadata (title, uuid, register, etc.)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"created_at"})}),(0,t.jsx)(n.td,{children:"DATETIME"}),(0,t.jsx)(n.td,{children:"When vectorized"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"updated_at"})}),(0,t.jsx)(n.td,{children:"DATETIME"}),(0,t.jsx)(n.td,{children:"Last update"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"source-metadata",children:"Source Metadata"}),"\n",(0,t.jsx)(n.h3,{id:"object-sources",children:"Object Sources"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "type": "object",\n    "id": "123",\n    "name": "mokum",\n    "uuid": "e88a328a-c7f1-416a-b4ba-e6d083bc080e",\n    "register": 104,\n    "schema": 306,\n    "uri": "/api/registers/104/schemas/306/objects/123"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"file-sources",children:"File Sources"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "type": "file",\n    "id": "12",\n    "name": "Nextcloud_Manual.pdf",\n    "file_id": 12,\n    "file_path": "/admin/files/Nextcloud_Manual.pdf",\n    "mime_type": "application/pdf"\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"frontend-display",children:"Frontend Display"}),"\n",(0,t.jsx)(n.p,{children:"Sources are displayed in the chat UI below each AI response:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-vue",children:'<div v-for="source in message.sources" :key="source.id">\n    <NcChip>\n        <template #icon>\n            <FileDocumentOutline v-if="source.type === \'file\'" :size="20" />\n            <DatabaseOutline v-else :size="20" />\n        </template>\n        {{ source.name }}\n        <span v-if="source.type === \'object\'">(Object)</span>\n        <span v-else>(File)</span>\n    </NcChip>\n</div>\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"llm-settings",children:"LLM Settings"}),"\n",(0,t.jsx)(n.p,{children:"Configure embedding and chat providers:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"Settings \u2192 AI \u2192 LLM Configuration"})]}),"\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.strong,{children:"Embedding Provider"})," (e.g., OpenAI, Fireworks)"]}),"\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.strong,{children:"Chat Provider"})," (e.g., OpenAI, Ollama)"]}),"\n",(0,t.jsx)(n.li,{children:"Configure API keys and models"}),"\n",(0,t.jsx)(n.li,{children:"Test connection"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"agent-settings",children:"Agent Settings"}),"\n",(0,t.jsx)(n.p,{children:"Configure what data an agent can access:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"Settings \u2192 AI \u2192 Agents"})]}),"\n",(0,t.jsx)(n.li,{children:"Edit or create an agent"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Views"}),": Select which views the agent can search"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Include Objects"}),": Enable object vector search"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Include Files"}),": Enable file vector search"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Search Mode"}),": Choose semantic, hybrid, or keyword"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"object-vectorization-1",children:"Object Vectorization"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"Settings \u2192 AI \u2192 LLM Configuration"})]}),"\n",(0,t.jsxs)(n.li,{children:["Scroll to ",(0,t.jsx)(n.strong,{children:"Object Vectorization"})]}),"\n",(0,t.jsx)(n.li,{children:"Select views to vectorize"}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Vectorize All Objects"})]}),"\n",(0,t.jsx)(n.li,{children:"Monitor progress in stats"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"file-vectorization-1",children:"File Vectorization"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"Settings \u2192 AI \u2192 LLM Configuration"})]}),"\n",(0,t.jsxs)(n.li,{children:["Scroll to ",(0,t.jsx)(n.strong,{children:"File Vectorization"})]}),"\n",(0,t.jsx)(n.li,{children:"Select file types and max size"}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Vectorize All Files"})]}),"\n",(0,t.jsx)(n.li,{children:"Monitor extraction and vectorization stats"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"performance",children:"Performance"}),"\n",(0,t.jsx)(n.h3,{id:"vectorization-speed",children:"Vectorization Speed"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Objects"}),": ~50-100 objects/second (depends on size and API rate limits)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Files"}),": ~1-5 files/second (depends on size and extraction complexity)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"search-speed",children:"Search Speed"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Semantic search"}),": ~50-200ms for 10,000 vectors"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hybrid search"}),": ~100-300ms (SOLR + vectors + RRF merge)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Context assembly"}),": ~10-50ms"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"caching",children:"Caching"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Vector caching"}),": Embeddings are stored permanently until re-vectorization"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Query caching"}),": Not yet implemented (roadmap)"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"unknown-source-in-chat",children:"'Unknown Source' in Chat"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cause"}),": Vector metadata does not contain title information."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution"}),": Re-vectorize objects with the latest code (metadata extraction is improved)."]}),"\n",(0,t.jsx)(n.h3,{id:"rag-not-finding-objects",children:"RAG Not Finding Objects"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Check:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Are objects vectorized? (Check stats in LLM Configuration)"}),"\n",(0,t.jsxs)(n.li,{children:["Is the agent configured to ",(0,t.jsx)(n.strong,{children:"Include Objects"}),"?"]}),"\n",(0,t.jsxs)(n.li,{children:["Are the correct ",(0,t.jsx)(n.strong,{children:"views"})," selected for the agent?"]}),"\n",(0,t.jsx)(n.li,{children:"Is semantic search mode enabled?"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"vector-count-mismatch",children:"Vector Count Mismatch"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptoms"}),": Stats show 25 objects vectorized, but only 4 objects exist."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cause"}),": View filters may not be applied correctly, or old vectors exist."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution"}),": Clear old vectors and re-vectorize with specific views."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"roadmap",children:"Roadmap"}),"\n",(0,t.jsx)(n.h3,{id:"completed-",children:"Completed \u2705"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2705 Basic semantic search"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Object vectorization"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 File vectorization (PDF, TXT, DOCX, etc.)"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Hybrid search (SOLR + vectors)"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Source metadata (UUID, register, schema, file info)"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 View-based filtering"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Cosine similarity scoring"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"planned-",children:"Planned \u23f3"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u23f3 Query caching"}),"\n",(0,t.jsx)(n.li,{children:"\u23f3 Incremental vectorization (only changed objects)"}),"\n",(0,t.jsx)(n.li,{children:"\u23f3 Vector index (faster search with FAISS/Annoy)"}),"\n",(0,t.jsx)(n.li,{children:"\u23f3 Multi-modal embeddings (images, audio)"}),"\n",(0,t.jsx)(n.li,{children:"\u23f3 Reranking (improve relevance with cross-encoder)"}),"\n",(0,t.jsx)(n.li,{children:"\u23f3 Chunking strategies for large objects"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/features/function-calling",children:"Function Calling"})," - How agents perform actions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/features/agents",children:"Agent Configuration"})," - Configure agents"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/Features/ai",children:"AI Configuration"})," - Provider setup and AI features"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);