"use strict";(self.webpackChunkopen_catalogi_docs=self.webpackChunkopen_catalogi_docs||[]).push([[76],{28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var i=s(96540);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}},30179:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>a,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"technical/file-processing-formats","title":"File Processing: Supported Formats and Limits","description":"Overview","source":"@site/docs/technical/file-processing-formats.md","sourceDirName":"technical","slug":"/technical/file-processing-formats","permalink":"/docs/technical/file-processing-formats","draft":false,"unlisted":false,"editUrl":"https://github.com/conductionnl/openregister/tree/main/website/docs/technical/file-processing-formats.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Cache Invalidation System","permalink":"/docs/technical/cache-invalidation-system"},"next":{"title":"Import/Export Implementation","permalink":"/docs/technical/import-export-implementation"}}');var r=s(74848),l=s(28453);const t={},d="File Processing: Supported Formats and Limits",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Supported File Formats",id:"supported-file-formats",level:2},{value:"\ud83d\udcc4 Text Documents",id:"-text-documents",level:3},{value:"Plain Text (.txt)",id:"plain-text-txt",level:4},{value:"Markdown (.md)",id:"markdown-md",level:4},{value:"HTML (.html, .htm)",id:"html-html-htm",level:4},{value:"\ud83d\udcc3 PDF Documents (.pdf)",id:"-pdf-documents-pdf",level:3},{value:"Standard PDF",id:"standard-pdf",level:4},{value:"Scanned PDF (OCR)",id:"scanned-pdf-ocr",level:4},{value:"\ud83d\udcdd Microsoft Office Documents",id:"-microsoft-office-documents",level:3},{value:"Word Documents (.docx)",id:"word-documents-docx",level:4},{value:"Excel Spreadsheets (.xlsx)",id:"excel-spreadsheets-xlsx",level:4},{value:"PowerPoint Presentations (.pptx)",id:"powerpoint-presentations-pptx",level:4},{value:"\ud83d\uddbc\ufe0f Image Files (OCR)",id:"\ufe0f-image-files-ocr",level:3},{value:"Supported Formats",id:"supported-formats",level:4},{value:"OCR Configuration",id:"ocr-configuration",level:4},{value:"\ud83d\udcca Data Formats",id:"-data-formats",level:3},{value:"JSON (.json)",id:"json-json",level:4},{value:"XML (.xml)",id:"xml-xml",level:4},{value:"File Size Limits",id:"file-size-limits",level:2},{value:"Default Limits",id:"default-limits",level:3},{value:"Modifying Limits",id:"modifying-limits",level:3},{value:"Document Chunking",id:"document-chunking",level:2},{value:"Why Chunking?",id:"why-chunking",level:3},{value:"Chunking Strategies",id:"chunking-strategies",level:3},{value:"1. Fixed Size Chunking",id:"1-fixed-size-chunking",level:4},{value:"2. Recursive Character Chunking",id:"2-recursive-character-chunking",level:4},{value:"Chunking Configuration",id:"chunking-configuration",level:3},{value:"Processing Pipeline",id:"processing-pipeline",level:2},{value:"Step-by-Step Flow",id:"step-by-step-flow",level:3},{value:"Processing Time Estimates",id:"processing-time-estimates",level:3},{value:"Enabling/Disabling Formats",id:"enablingdisabling-formats",level:2},{value:"Via UI (Recommended)",id:"via-ui-recommended",level:3},{value:"Via Configuration File",id:"via-configuration-file",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Common Errors",id:"common-errors",level:3},{value:"&quot;File too large&quot;",id:"file-too-large",level:4},{value:"&quot;Format not supported&quot;",id:"format-not-supported",level:4},{value:"&quot;Text extraction failed&quot;",id:"text-extraction-failed",level:4},{value:"&quot;OCR failed&quot;",id:"ocr-failed",level:4},{value:"&quot;Memory exhausted&quot;",id:"memory-exhausted",level:4},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Tips for Fast Processing",id:"tips-for-fast-processing",level:3},{value:"Resource Requirements",id:"resource-requirements",level:3},{value:"Dependencies",id:"dependencies",level:2},{value:"PHP Libraries (Installed via Composer)",id:"php-libraries-installed-via-composer",level:3},{value:"System Commands",id:"system-commands",level:3},{value:"Checking Dependencies",id:"checking-dependencies",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Debugging File Processing",id:"debugging-file-processing",level:3},{value:"Performance Issues",id:"performance-issues",level:3},{value:"File Access Issues",id:"file-access-issues",level:3},{value:"Quality Issues",id:"quality-issues",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"For Administrators",id:"for-administrators",level:3},{value:"For Users",id:"for-users",level:3},{value:"Future Enhancements",id:"future-enhancements",level:2},{value:"FAQ",id:"faq",level:2}];function h(e){const n={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"file-processing-supported-formats-and-limits",children:"File Processing: Supported Formats and Limits"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"OpenRegister can extract text from a wide variety of file formats, enabling semantic search across your document library. This document details which formats are supported, their limitations, and configuration options."}),"\n",(0,r.jsx)(n.h2,{id:"supported-file-formats",children:"Supported File Formats"}),"\n",(0,r.jsx)(n.h3,{id:"-text-documents",children:"\ud83d\udcc4 Text Documents"}),"\n",(0,r.jsx)(n.h4,{id:"plain-text-txt",children:"Plain Text (.txt)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Encoding"}),": UTF-8, ISO-8859-1, Windows-1252 (auto-detected)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Max Size"}),": 100MB"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing Time"}),": < 1 second"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notes"}),": Fastest format, directly readable"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"markdown-md",children:"Markdown (.md)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Features"}),": Preserves structure (headers, lists, code blocks)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Max Size"}),": 50MB"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing Time"}),": < 1 second"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notes"}),": HTML tags are stripped, plain text extracted"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"html-html-htm",children:"HTML (.html, .htm)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Features"}),": Extracts visible text, removes scripts/styles"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Max Size"}),": 20MB"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing Time"}),": 1-3 seconds"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Libraries"}),": DOMDocument (PHP built-in)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notes"}),": Handles malformed HTML gracefully"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-pdf-documents-pdf",children:"\ud83d\udcc3 PDF Documents (.pdf)"}),"\n",(0,r.jsx)(n.h4,{id:"standard-pdf",children:"Standard PDF"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Features"}),": Text extraction from text-based PDFs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Max Size"}),": 100MB"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing Time"}),": 2-10 seconds"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Libraries"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Primary: Smalot PdfParser (PHP)"}),"\n",(0,r.jsx)(n.li,{children:"Fallback: pdftotext (system command)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notes"}),": Best for text-based PDFs"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"scanned-pdf-ocr",children:"Scanned PDF (OCR)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Features"}),": OCR via Tesseract for image-based PDFs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Max Size"}),": 50MB"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing Time"}),": 10-60 seconds (depends on page count)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Requirements"}),": Tesseract OCR must be installed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Languages"}),": Multi-language support (configure in settings)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notes"}),": Slower but handles scanned documents"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Installation"})," (Tesseract):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Debian/Ubuntu\nsudo apt-get install tesseract-ocr\n\n# Alpine (Docker)\napk add tesseract-ocr\n\n# With additional languages\napt-get install tesseract-ocr-nld tesseract-ocr-deu\n"})}),"\n",(0,r.jsx)(n.h3,{id:"-microsoft-office-documents",children:"\ud83d\udcdd Microsoft Office Documents"}),"\n",(0,r.jsx)(n.h4,{id:"word-documents-docx",children:"Word Documents (.docx)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Features"}),": Full text extraction including headers/footers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Max Size"}),": 50MB"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing Time"}),": 2-5 seconds"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Libraries"}),": PhpOffice/PhpWord"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notes"}),": Does not extract embedded images (text only)"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"excel-spreadsheets-xlsx",children:"Excel Spreadsheets (.xlsx)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Features"}),": Extracts cell values from all sheets"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Max Size"}),": 30MB"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing Time"}),": 3-10 seconds"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Libraries"}),": PhpOffice/PhpSpreadsheet"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Includes cell values, not formulas"}),"\n",(0,r.jsx)(n.li,{children:"Sheet names included as context"}),"\n",(0,r.jsx)(n.li,{children:"Large spreadsheets may be memory-intensive"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"powerpoint-presentations-pptx",children:"PowerPoint Presentations (.pptx)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Features"}),": Extracts text from slides, notes, and comments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Max Size"}),": 50MB"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing Time"}),": 2-5 seconds"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Libraries"}),": ZipArchive + XML parsing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Slide structure preserved (numbered slides)"}),"\n",(0,r.jsx)(n.li,{children:"Speaker notes included"}),"\n",(0,r.jsx)(n.li,{children:"Does not extract embedded objects"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\ufe0f-image-files-ocr",children:"\ud83d\uddbc\ufe0f Image Files (OCR)"}),"\n",(0,r.jsx)(n.h4,{id:"supported-formats",children:"Supported Formats"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"JPEG/JPG"}),": Photos, scanned documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PNG"}),": Screenshots, graphics with text"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GIF"}),": Animated or static images"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"BMP"}),": Bitmap images"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TIFF"}),": Multi-page scanned documents"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"ocr-configuration",children:"OCR Configuration"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Max Size"}),": 20MB per image"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing Time"}),": 5-15 seconds per page"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Requirements"}),": Tesseract OCR"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Languages"}),": Configurable (default: English)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DPI"}),": Minimum 150 DPI recommended for accuracy"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Best Practices"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use high-resolution scans (300 DPI ideal)"}),"\n",(0,r.jsx)(n.li,{children:"Ensure text is legible and not skewed"}),"\n",(0,r.jsx)(n.li,{children:"Black text on white background works best"}),"\n",(0,r.jsx)(n.li,{children:"Multi-page TIFFs processed page-by-page"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-data-formats",children:"\ud83d\udcca Data Formats"}),"\n",(0,r.jsx)(n.h4,{id:"json-json",children:"JSON (.json)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Features"}),": Recursive extraction of all string and numeric values"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Max Size"}),": 20MB"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing Time"}),": 1-2 seconds"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Array values flattened"}),"\n",(0,r.jsx)(n.li,{children:"Nested objects fully traversed"}),"\n",(0,r.jsx)(n.li,{children:"Keys included for context"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "project": "Amsterdam Renovation",\n  "budget": 1500000,\n  "status": "active"\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Extracted Text"}),': "project Amsterdam Renovation budget 1500000 status active"']}),"\n",(0,r.jsx)(n.h4,{id:"xml-xml",children:"XML (.xml)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Features"}),": Extracts tag names and text content"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Max Size"}),": 20MB"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing Time"}),": 1-3 seconds"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Attributes included"}),"\n",(0,r.jsx)(n.li,{children:"Tag structure preserved"}),"\n",(0,r.jsx)(n.li,{children:"CDATA sections handled"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"file-size-limits",children:"File Size Limits"}),"\n",(0,r.jsx)(n.h3,{id:"default-limits",children:"Default Limits"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Format"}),(0,r.jsx)(n.th,{children:"Default Max Size"}),(0,r.jsx)(n.th,{children:"Configurable"}),(0,r.jsx)(n.th,{children:"Reason"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Text/Markdown"}),(0,r.jsx)(n.td,{children:"100MB"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Memory-efficient"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"HTML"}),(0,r.jsx)(n.td,{children:"20MB"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"DOM parsing overhead"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PDF (text)"}),(0,r.jsx)(n.td,{children:"100MB"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Direct extraction"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PDF (OCR)"}),(0,r.jsx)(n.td,{children:"50MB"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Processing intensive"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Office Docs"}),(0,r.jsx)(n.td,{children:"30-50MB"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Library limitations"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Images"}),(0,r.jsx)(n.td,{children:"20MB"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"OCR memory usage"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"JSON/XML"}),(0,r.jsx)(n.td,{children:"20MB"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Parsing complexity"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"modifying-limits",children:"Modifying Limits"}),"\n",(0,r.jsxs)(n.p,{children:["Edit ",(0,r.jsx)(n.code,{children:"lib/Service/SolrFileService.php"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// File size limits (in bytes)\nprivate const MAX_FILE_SIZE_TEXT = 104857600;  // 100MB\nprivate const MAX_FILE_SIZE_PDF = 104857600;   // 100MB\nprivate const MAX_FILE_SIZE_OFFICE = 52428800; // 50MB\nprivate const MAX_FILE_SIZE_IMAGE = 20971520;  // 20MB\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Warning"}),": Increasing limits may cause:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Memory exhaustion"}),"\n",(0,r.jsx)(n.li,{children:"Slow processing"}),"\n",(0,r.jsx)(n.li,{children:"Timeouts on large files"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"document-chunking",children:"Document Chunking"}),"\n",(0,r.jsx)(n.h3,{id:"why-chunking",children:"Why Chunking?"}),"\n",(0,r.jsx)(n.p,{children:"Large documents are split into smaller chunks for:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Better Search Relevance"}),": Find specific sections, not entire documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Context Windows"}),": LLMs have token limits (~8k-128k tokens)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Performance"}),": Smaller vectors = faster search"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Precision"}),": Pinpoint exact location of information"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"chunking-strategies",children:"Chunking Strategies"}),"\n",(0,r.jsx)(n.h4,{id:"1-fixed-size-chunking",children:"1. Fixed Size Chunking"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"How it works"}),": Split text into chunks of N characters with M character overlap"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Configuration"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"'chunk_size' => 1000,        // Characters per chunk\n'chunk_overlap' => 200,      // Overlap between chunks\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Use when"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Consistent chunk sizes needed"}),"\n",(0,r.jsx)(n.li,{children:"Simple, predictable splitting"}),"\n",(0,r.jsx)(n.li,{children:"No semantic boundaries matter"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Text: "The quick brown fox jumps over the lazy dog. The dog was sleeping..."\nChunk 1: "The quick brown fox jumps over the lazy dog. The dog..."\nChunk 2: "...lazy dog. The dog was sleeping..."\n'})}),"\n",(0,r.jsx)(n.p,{children:"(Overlap ensures no information is lost at boundaries)"}),"\n",(0,r.jsx)(n.h4,{id:"2-recursive-character-chunking",children:"2. Recursive Character Chunking"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"How it works"}),": Split at semantic boundaries (paragraphs \u2192 sentences \u2192 words)"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Configuration"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"'chunk_strategy' => 'recursive',\n'chunk_size' => 1000,\n'separators' => [\"\\n\\n\", \"\\n\", \". \", \" \"]\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Use when"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Preserving semantic meaning is important"}),"\n",(0,r.jsx)(n.li,{children:"Documents have clear structure (paragraphs)"}),"\n",(0,r.jsx)(n.li,{children:"Better context per chunk needed"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Text: "Introduction\\n\\nThis project aims to...\\n\\nMethodology\\n\\nWe used..."\nChunk 1: "Introduction\\n\\nThis project aims to..."\nChunk 2: "Methodology\\n\\nWe used..."\n'})}),"\n",(0,r.jsx)(n.p,{children:"(Splits at paragraph boundaries, preserving context)"}),"\n",(0,r.jsx)(n.h3,{id:"chunking-configuration",children:"Chunking Configuration"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"In File Management Dialog"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Go to Settings \u2192 File Management"}),"\n",(0,r.jsxs)(n.li,{children:["Select ",(0,r.jsx)(n.strong,{children:"Chunking Strategy"}),": Fixed Size or Recursive"]}),"\n",(0,r.jsxs)(n.li,{children:["Set ",(0,r.jsx)(n.strong,{children:"Chunk Size"}),": 500-2000 characters (default: 1000)"]}),"\n",(0,r.jsxs)(n.li,{children:["Set ",(0,r.jsx)(n.strong,{children:"Overlap"}),": 100-300 characters (default: 200)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Recommendations"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Document Type"}),(0,r.jsx)(n.th,{children:"Strategy"}),(0,r.jsx)(n.th,{children:"Size"}),(0,r.jsx)(n.th,{children:"Overlap"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Short documents (< 5 pages)"}),(0,r.jsx)(n.td,{children:"Fixed"}),(0,r.jsx)(n.td,{children:"1500"}),(0,r.jsx)(n.td,{children:"200"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Structured (reports, articles)"}),(0,r.jsx)(n.td,{children:"Recursive"}),(0,r.jsx)(n.td,{children:"1000"}),(0,r.jsx)(n.td,{children:"200"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Code files"}),(0,r.jsx)(n.td,{children:"Fixed"}),(0,r.jsx)(n.td,{children:"800"}),(0,r.jsx)(n.td,{children:"150"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Books / Long-form"}),(0,r.jsx)(n.td,{children:"Recursive"}),(0,r.jsx)(n.td,{children:"1200"}),(0,r.jsx)(n.td,{children:"250"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Chat logs"}),(0,r.jsx)(n.td,{children:"Fixed"}),(0,r.jsx)(n.td,{children:"500"}),(0,r.jsx)(n.td,{children:"100"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"processing-pipeline",children:"Processing Pipeline"}),"\n",(0,r.jsx)(n.h3,{id:"step-by-step-flow",children:"Step-by-Step Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 1. File Upload                                          \u2502\n\u2502    - User uploads file to Nextcloud                     \u2502\n\u2502    - File stored in data directory                      \u2502\n\u2502    - Upload completes immediately (non-blocking)        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 2. Background Job Queued                                \u2502\n\u2502    - FileChangeListener detects new/updated file        \u2502\n\u2502    - Queues FileTextExtractionJob asynchronously        \u2502\n\u2502    - User request completes without delay               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 3. Background Processing (non-blocking)                 \u2502\n\u2502    - Job runs in background (typically within seconds)  \u2502\n\u2502    - Check MIME type and validate format                \u2502\n\u2502    - Use format-specific extractor                      \u2502\n\u2502    - Handle encoding issues                             \u2502\n\u2502    - Clean/normalize text                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 4. Document Chunking                                    \u2502\n\u2502    - Apply selected strategy                            \u2502\n\u2502    - Create overlapping chunks                          \u2502\n\u2502    - Preserve metadata                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 5. Embedding Generation                                 \u2502\n\u2502    - Batch chunks (up to 100)                           \u2502\n\u2502    - Call OpenAI/Ollama API                             \u2502\n\u2502    - Receive vector embeddings                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 6. Storage                                              \u2502\n\u2502    - Store chunks in fileCollection (SOLR)              \u2502\n\u2502    - Store vectors in oc_openregister_vectors (MySQL)   \u2502\n\u2502    - Link chunks to source file                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.h3,{id:"processing-time-estimates",children:"Processing Time Estimates"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"File Type"}),(0,r.jsx)(n.th,{children:"Size"}),(0,r.jsx)(n.th,{children:"Extraction"}),(0,r.jsx)(n.th,{children:"Chunking"}),(0,r.jsx)(n.th,{children:"Embedding"}),(0,r.jsx)(n.th,{children:"Total"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"TXT"}),(0,r.jsx)(n.td,{children:"1MB"}),(0,r.jsx)(n.td,{children:"0.1s"}),(0,r.jsx)(n.td,{children:"0.2s"}),(0,r.jsx)(n.td,{children:"2s"}),(0,r.jsx)(n.td,{children:"~2.3s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PDF (text)"}),(0,r.jsx)(n.td,{children:"5MB"}),(0,r.jsx)(n.td,{children:"3s"}),(0,r.jsx)(n.td,{children:"0.5s"}),(0,r.jsx)(n.td,{children:"5s"}),(0,r.jsx)(n.td,{children:"~8.5s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PDF (OCR)"}),(0,r.jsx)(n.td,{children:"5MB"}),(0,r.jsx)(n.td,{children:"30s"}),(0,r.jsx)(n.td,{children:"0.5s"}),(0,r.jsx)(n.td,{children:"5s"}),(0,r.jsx)(n.td,{children:"~35.5s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"DOCX"}),(0,r.jsx)(n.td,{children:"2MB"}),(0,r.jsx)(n.td,{children:"2s"}),(0,r.jsx)(n.td,{children:"0.3s"}),(0,r.jsx)(n.td,{children:"3s"}),(0,r.jsx)(n.td,{children:"~5.3s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"XLSX"}),(0,r.jsx)(n.td,{children:"5MB"}),(0,r.jsx)(n.td,{children:"8s"}),(0,r.jsx)(n.td,{children:"0.5s"}),(0,r.jsx)(n.td,{children:"4s"}),(0,r.jsx)(n.td,{children:"~12.5s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"JPG (OCR)"}),(0,r.jsx)(n.td,{children:"3MB"}),(0,r.jsx)(n.td,{children:"10s"}),(0,r.jsx)(n.td,{children:"0.1s"}),(0,r.jsx)(n.td,{children:"1s"}),(0,r.jsx)(n.td,{children:"~11.1s"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Note: Times are approximate and vary based on server specs"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"enablingdisabling-formats",children:"Enabling/Disabling Formats"}),"\n",(0,r.jsx)(n.h3,{id:"via-ui-recommended",children:"Via UI (Recommended)"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Navigate to ",(0,r.jsx)(n.strong,{children:"Settings \u2192 Administration \u2192 OpenRegister"})]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Actions \u2192 File Management"})]}),"\n",(0,r.jsxs)(n.li,{children:["Toggle format switches:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 PDF Documents"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Microsoft Office"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Images (OCR)"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Text Files"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Data Files (JSON/XML)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"via-configuration-file",children:"Via Configuration File"}),"\n",(0,r.jsx)(n.p,{children:"Edit app configuration (for advanced users):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"'file_processing' => [\n    'enabled_formats' => [\n        'txt' => true,\n        'pdf' => true,\n        'docx' => true,\n        'xlsx' => true,\n        'pptx' => true,\n        'jpg' => true,  // Requires OCR\n        'png' => true,  // Requires OCR\n        'json' => true,\n        'xml' => true,\n    ],\n    'ocr_enabled' => true,\n    'ocr_languages' => ['eng', 'nld', 'deu'],\n]\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.h3,{id:"common-errors",children:"Common Errors"}),"\n",(0,r.jsx)(n.h4,{id:"file-too-large",children:'"File too large"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": File exceeds format-specific size limit",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reduce file size"}),"\n",(0,r.jsx)(n.li,{children:"Split into multiple files"}),"\n",(0,r.jsx)(n.li,{children:"Increase limit in configuration (if server allows)"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"format-not-supported",children:'"Format not supported"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": File format is not enabled or recognized",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Enable format in File Management dialog"}),"\n",(0,r.jsx)(n.li,{children:"Convert file to supported format"}),"\n",(0,r.jsx)(n.li,{children:"Check file extension matches content"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"text-extraction-failed",children:'"Text extraction failed"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": Corrupted file or missing dependencies",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify file is not corrupted"}),"\n",(0,r.jsx)(n.li,{children:"Check if required libraries are installed (e.g., Tesseract for OCR)"}),"\n",(0,r.jsx)(n.li,{children:"Try alternative file format"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"ocr-failed",children:'"OCR failed"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": Tesseract not installed or image quality too low",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Install Tesseract: ",(0,r.jsx)(n.code,{children:"apt-get install tesseract-ocr"})]}),"\n",(0,r.jsx)(n.li,{children:"Use higher resolution scan (300 DPI minimum)"}),"\n",(0,r.jsx)(n.li,{children:"Ensure text is legible"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"memory-exhausted",children:'"Memory exhausted"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": File too large for available memory",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Increase PHP memory limit in php.ini: ",(0,r.jsx)(n.code,{children:"memory_limit = 512M"})]}),"\n",(0,r.jsx)(n.li,{children:"Process smaller files"}),"\n",(0,r.jsx)(n.li,{children:"Enable chunked processing"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,r.jsx)(n.h3,{id:"tips-for-fast-processing",children:"Tips for Fast Processing"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Batch Processing"}),": Process multiple files in bulk (Settings \u2192 File Management)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Prioritize Formats"}),": Enable only needed formats to reduce overhead"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Optimize Chunk Size"}),": Larger chunks = fewer API calls but less precision"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use Local Ollama"}),": Avoid network latency for embeddings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Schedule Off-Hours"}),": Run bulk vectorization during low-traffic periods"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"resource-requirements",children:"Resource Requirements"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Minimum"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"CPU: 2 cores"}),"\n",(0,r.jsx)(n.li,{children:"RAM: 4GB"}),"\n",(0,r.jsx)(n.li,{children:"Disk: 10GB for vectors + original files"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Recommended"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"CPU: 4+ cores"}),"\n",(0,r.jsx)(n.li,{children:"RAM: 8GB+"}),"\n",(0,r.jsx)(n.li,{children:"Disk: SSD with 50GB+ space"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"For OCR"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Additional CPU: +2 cores"}),"\n",(0,r.jsx)(n.li,{children:"Additional RAM: +2GB"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,r.jsx)(n.h3,{id:"php-libraries-installed-via-composer",children:"PHP Libraries (Installed via Composer)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "smalot/pdfparser": "^2.0",           // PDF text extraction\n  "phpoffice/phpword": "^1.0",          // Word document processing\n  "phpoffice/phpspreadsheet": "^1.0"    // Excel processing\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"system-commands",children:"System Commands"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Command"}),(0,r.jsx)(n.th,{children:"Purpose"}),(0,r.jsx)(n.th,{children:"Installation"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pdftotext"})}),(0,r.jsx)(n.td,{children:"PDF extraction fallback"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"apt-get install poppler-utils"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tesseract"})}),(0,r.jsx)(n.td,{children:"OCR for images/scanned PDFs"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"apt-get install tesseract-ocr"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"checking-dependencies",children:"Checking Dependencies"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check if pdftotext is available\nwhich pdftotext\n\n# Check Tesseract version\ntesseract --version\n\n# Test OCR\ntesseract test-image.png output\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"debugging-file-processing",children:"Debugging File Processing"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Enable Debug Logging"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Go to Settings \u2192 File Management"}),"\n",(0,r.jsx)(n.li,{children:'Enable "Detailed Logging"'}),"\n",(0,r.jsxs)(n.li,{children:["Check logs at: ",(0,r.jsx)(n.code,{children:"data/nextcloud.log"})," or via Docker: ",(0,r.jsx)(n.code,{children:"docker logs nextcloud-container"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Look for"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[SolrFileService] Processing file: document.pdf\n[SolrFileService] Extraction method: pdfParser\n[SolrFileService] Extracted text length: 45678\n[SolrFileService] Created 12 chunks\n[SolrFileService] Generated 12 embeddings\n"})}),"\n",(0,r.jsx)(n.h3,{id:"performance-issues",children:"Performance Issues"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"If processing is slow"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Check file size and format"}),"\n",(0,r.jsxs)(n.li,{children:["Monitor memory usage: ",(0,r.jsx)(n.code,{children:"docker stats"})]}),"\n",(0,r.jsx)(n.li,{children:"Reduce chunk size to decrease API calls"}),"\n",(0,r.jsx)(n.li,{children:"Use faster embedding model (ada-002 vs 3-large)"}),"\n",(0,r.jsx)(n.li,{children:"Consider Ollama for local processing"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"file-access-issues",children:"File Access Issues"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"If you see 'file not found' or 'failed to open stream' errors"}),":"]}),"\n",(0,r.jsx)(n.p,{children:"The system uses asynchronous background jobs to process files, avoiding race conditions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Non-blocking uploads"}),": File uploads complete immediately without waiting for text extraction"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Background processing"}),": Text extraction runs in background jobs (typically within seconds)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Path filtering"}),": Only OpenRegister files (in 'OpenRegister/files' or 'Open Registers/' paths) are processed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Automatic retries"}),": Failed extractions are automatically retried by the background job system"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"How it works"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"User uploads file \u2192 Upload completes instantly"}),"\n",(0,r.jsx)(n.li,{children:"FileChangeListener queues a background job"}),"\n",(0,r.jsx)(n.li,{children:"Background job runs asynchronously (when file is guaranteed to be available)"}),"\n",(0,r.jsx)(n.li,{children:"Text extraction completes without blocking user requests"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"To check background job status"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# View pending background jobs\ndocker exec -u 33 <nextcloud-container> php occ background-job:list\n\n# Check logs for extraction job status\ndocker logs <nextcloud-container> | grep FileTextExtractionJob\n"})}),"\n",(0,r.jsx)(n.p,{children:"If errors persist:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Check Nextcloud storage backend configuration"}),"\n",(0,r.jsx)(n.li,{children:"Verify file permissions and ownership"}),"\n",(0,r.jsx)(n.li,{children:"Check for filesystem issues (disk space, mount problems)"}),"\n",(0,r.jsx)(n.li,{children:"Review error logs for specific file paths causing issues"}),"\n",(0,r.jsxs)(n.li,{children:["Ensure background job execution is working (php occ background",":cron",")"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"quality-issues",children:"Quality Issues"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"If text extraction is poor"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Verify source file quality"}),"\n",(0,r.jsx)(n.li,{children:"For scanned documents, ensure 300+ DPI"}),"\n",(0,r.jsx)(n.li,{children:"Use native PDF over scanned when possible"}),"\n",(0,r.jsx)(n.li,{children:"Test with different OCR languages"}),"\n",(0,r.jsx)(n.li,{children:"Check for corrupted files"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"for-administrators",children:"For Administrators"}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Do"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Enable only needed file formats"}),"\n",(0,r.jsx)(n.li,{children:"Set reasonable size limits"}),"\n",(0,r.jsx)(n.li,{children:"Monitor storage growth"}),"\n",(0,r.jsx)(n.li,{children:"Schedule bulk processing off-hours"}),"\n",(0,r.jsx)(n.li,{children:"Keep dependencies updated"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"Don't"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Process unnecessary file types"}),"\n",(0,r.jsx)(n.li,{children:"Set extremely high size limits"}),"\n",(0,r.jsx)(n.li,{children:"Skip dependency checks"}),"\n",(0,r.jsx)(n.li,{children:"Run bulk processing during peak hours"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"for-users",children:"For Users"}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Do"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use text-based PDFs when possible"}),"\n",(0,r.jsx)(n.li,{children:"Provide high-quality scans (300 DPI)"}),"\n",(0,r.jsx)(n.li,{children:"Use consistent file naming"}),"\n",(0,r.jsx)(n.li,{children:"Organize files in logical folders"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"Don't"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Upload password-protected files (won't extract)"}),"\n",(0,r.jsx)(n.li,{children:"Use low-resolution scans"}),"\n",(0,r.jsx)(n.li,{children:"Mix unrelated content in single file"}),"\n",(0,r.jsx)(n.li,{children:"Rely on OCR for perfect accuracy"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"future-enhancements",children:"Future Enhancements"}),"\n",(0,r.jsx)(n.p,{children:"Planned features:"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Support for more formats (RTF, ODT, Pages)"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Improved OCR with multiple engines"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Real-time processing on upload"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Incremental re-processing for updated files"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Format-specific metadata extraction"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Custom format handlers via plugins"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: Can I process password-protected files?"}),(0,r.jsx)(n.br,{}),"\n","A: No, password-protected files cannot be extracted. Remove password first."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: How accurate is OCR?"}),(0,r.jsx)(n.br,{}),"\n","A: 90-98% accuracy for good quality scans (300 DPI, clear text). Lower for poor scans."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: Can I process files retroactively?"}),(0,r.jsx)(n.br,{}),"\n","A: Yes! Use bulk vectorization in File Management dialog."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: Do I need to re-process files after changing chunk strategy?"}),(0,r.jsx)(n.br,{}),"\n","A: Yes, existing chunks won't update automatically. Re-vectorize to apply new strategy."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: What happens to old chunks when I re-process?"}),(0,r.jsx)(n.br,{}),"\n","A: Old chunks are replaced with new ones. Vector database is updated accordingly."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: Can I see extracted text before vectorization?"}),(0,r.jsx)(n.br,{}),"\n","A: Check logs with debug mode enabled. Text is logged before chunking."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:"Last updated: October 13, 2025"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.em,{children:"OpenRegister Version: 2.4.0+"})]})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);