"use strict";(self.webpackChunkopen_catalogi_docs=self.webpackChunkopen_catalogi_docs||[]).push([[3418],{28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var i=s(96540);const t={},r=i.createContext(t);function l(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}},64799:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"features/agents","title":"Agents","description":"Overview","source":"@site/docs/features/agents.md","sourceDirName":"features","slug":"/features/agents","permalink":"/docs/features/agents","draft":false,"unlisted":false,"editUrl":"https://github.com/conductionnl/openregister/tree/main/website/docs/features/agents.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Default Organisation Configuration","permalink":"/docs/features/organisation-default-configuration"},"next":{"title":"AI Features & Setup Guide","permalink":"/docs/features/ai"}}');var t=s(74848),r=s(28453);const l={},a="Agents",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Creating an Agent",id:"creating-an-agent",level:2},{value:"Step 1: Basic Settings",id:"step-1-basic-settings",level:3},{value:"Required Fields",id:"required-fields",level:4},{value:"Configuration Options",id:"configuration-options",level:4},{value:"Step 2: RAG Configuration",id:"step-2-rag-configuration",level:3},{value:"Step 3: Privacy &amp; Sharing",id:"step-3-privacy--sharing",level:3},{value:"Step 4: Resource Quotas",id:"step-4-resource-quotas",level:3},{value:"Step 5: Security (Advanced)",id:"step-5-security-advanced",level:3},{value:"Agent Access Control (RBAC)",id:"agent-access-control-rbac",level:2},{value:"Access Rules",id:"access-rules",level:3},{value:"Modification Rights",id:"modification-rights",level:3},{value:"Function Tools",id:"function-tools",level:2},{value:"Overview",id:"overview-1",level:3},{value:"Built-in Tools (OpenRegister)",id:"built-in-tools-openregister",level:3},{value:"Tools from Other Apps",id:"tools-from-other-apps",level:3},{value:"Enabling Tools",id:"enabling-tools",level:3},{value:"Security &amp; Permissions",id:"security--permissions",level:3},{value:"Use Cases",id:"use-cases",level:3},{value:"Configuration Example",id:"configuration-example",level:3},{value:"Best Practices",id:"best-practices",level:3},{value:"Using Agents in Conversations",id:"using-agents-in-conversations",level:2},{value:"Starting a Conversation",id:"starting-a-conversation",level:3},{value:"Agent-Specific Context",id:"agent-specific-context",level:3},{value:"Conversation Features",id:"conversation-features",level:3},{value:"API Usage",id:"api-usage",level:2},{value:"Listing Agents",id:"listing-agents",level:3},{value:"Getting a Single Agent",id:"getting-a-single-agent",level:3},{value:"Creating an Agent",id:"creating-an-agent-1",level:3},{value:"Updating an Agent",id:"updating-an-agent",level:3},{value:"Deleting an Agent",id:"deleting-an-agent",level:3},{value:"Best Practices",id:"best-practices-1",level:2},{value:"Prompt Engineering",id:"prompt-engineering",level:3},{value:"View Configuration",id:"view-configuration",level:3},{value:"Temperature Tuning",id:"temperature-tuning",level:3},{value:"Resource Management",id:"resource-management",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Agent Not Appearing in List",id:"agent-not-appearing-in-list",level:3},{value:"Poor Quality Responses",id:"poor-quality-responses",level:3},{value:"&quot;No context found&quot; Errors",id:"no-context-found-errors",level:3},{value:"Access Denied Errors",id:"access-denied-errors",level:3},{value:"Advanced Topics",id:"advanced-topics",level:2},{value:"Multi-Tenancy",id:"multi-tenancy",level:3},{value:"Integration with Views",id:"integration-with-views",level:3},{value:"Conversation Architecture",id:"conversation-architecture",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"agents",children:"Agents"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"Agents in OpenRegister provide conversational AI capabilities that can interact with your data using natural language. Agents can be configured with different LLM providers, custom prompts, and access to specific data sources through views."}),"\n",(0,t.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mermaid",children:"graph TB\n    User[User] --\x3e|creates/manages| Agent[Agent]\n    User --\x3e|starts| Conversation[Conversation]\n    Conversation --\x3e|uses| Agent\n    Conversation --\x3e|contains| Message[Messages]\n    Agent --\x3e|filters data via| View[Data Views]\n    Agent --\x3e|searches in| Files[Files]\n    Agent --\x3e|searches in| Objects[Objects]\n    Agent --\x3e|uses| Tools[Function Tools]\n    Tools --\x3e|RegisterTool| Registers[Registers]\n    Tools --\x3e|SchemaTool| Schemas[Schemas]\n    Tools --\x3e|ObjectsTool| Objects\n    Agent --\x3e|belongs to| Organisation[Organisation]\n    Agent --\x3e|accessible by| Groups[Groups]\n    Agent --\x3e|can invite| InvitedUsers[Invited Users]\n    Conversation --\x3e|belongs to| Organisation\n    Conversation --\x3e|owned by| User\n    Message --\x3e|role: user/assistant| LLM[LLM Provider]\n    Message --\x3e|includes| Sources[RAG Sources]\n    \n    style Agent fill:#e1f5ff\n    style Conversation fill:#fff4e1\n    style Message fill:#f0e1ff\n    style Organisation fill:#e1ffe1\n    style Tools fill:#ffe1ff\n"})}),"\n",(0,t.jsx)(n.h2,{id:"creating-an-agent",children:"Creating an Agent"}),"\n",(0,t.jsx)(n.h3,{id:"step-1-basic-settings",children:"Step 1: Basic Settings"}),"\n",(0,t.jsxs)(n.p,{children:["Access the Agents page from the main navigation and click ",(0,t.jsx)(n.strong,{children:"Add Agent"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"required-fields",children:"Required Fields"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Name"}),': A unique identifier for your agent (e.g., "Customer Support Assistant")']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Description"}),": Optional description of the agent's purpose and capabilities"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Agent Type"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"chat"}),": Conversational AI assistant (default)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"automation"}),": Automated task execution"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"analysis"}),": Data analysis and insights"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"assistant"}),": General purpose assistant"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"LLM Provider"}),"\nSelect the Large Language Model provider for your agent:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"openai"}),": OpenAI GPT-4, GPT-3.5 Turbo"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ollama"}),": Local LLM execution"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"fireworks"}),": Fast, optimized inference"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"azure"}),": Azure OpenAI (Enterprise-grade)"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Model"}),"\nSpecify the model to use (e.g., ",(0,t.jsx)(n.code,{children:"gpt-4o-mini"}),", ",(0,t.jsx)(n.code,{children:"llama3"}),", ",(0,t.jsx)(n.code,{children:"claude-3-sonnet"}),")"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"System Prompt"}),"\nDefine the agent's behavior and persona. Example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are a helpful assistant that helps users find information in their document management system. \nBe concise and cite your sources.\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Temperature"})," (0.0 - 2.0)"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Lower values (0.0 - 0.5): More focused and deterministic responses"}),"\n",(0,t.jsx)(n.li,{children:"Medium values (0.5 - 1.0): Balanced creativity"}),"\n",(0,t.jsx)(n.li,{children:"Higher values (1.0 - 2.0): More creative and diverse responses"}),"\n",(0,t.jsx)(n.li,{children:"Default: 0.7"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Max Tokens"}),"\nMaximum number of tokens the agent can generate per response. Default: 1000"]}),"\n",(0,t.jsx)(n.h3,{id:"step-2-rag-configuration",children:"Step 2: RAG Configuration"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Enable RAG"})," (Retrieval-Augmented Generation)\nToggle this to allow the agent to search and retrieve context from your data."]}),"\n",(0,t.jsx)(n.p,{children:"When RAG is enabled, configure:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Search Mode"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"hybrid"}),": Combined keyword + semantic search (recommended)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"semantic"}),": AI-powered semantic search only"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"keyword"}),": Traditional keyword search only"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Number of Sources"})," (1-20)\nHow many relevant documents/objects to retrieve as context. Default: 5"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Search Scope"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"searchFiles"}),": Include files in the search (toggleable)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"searchObjects"}),": Include database objects in the search (toggleable)"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Views"})," (Data Scope)\nSelect which views the agent can query. This restricts the agent to specific data sets based on view filters."]}),"\n",(0,t.jsx)(n.h3,{id:"step-3-privacy--sharing",children:"Step 3: Privacy & Sharing"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Privacy Settings"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Is Private"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"When enabled, only you and invited users can access this agent"}),"\n",(0,t.jsx)(n.li,{children:"When disabled, all users in your organisation can use the agent"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Invited Users"}),"\nAdd specific Nextcloud users who should have access to this private agent. Type usernames to search and select."]}),"\n",(0,t.jsx)(n.h3,{id:"step-4-resource-quotas",children:"Step 4: Resource Quotas"}),"\n",(0,t.jsx)(n.p,{children:"Set usage limits for your agent:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Request Quota"})," (per day)\nMaximum number of requests the agent can handle per day. Use 0 for unlimited."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Token Quota"})," (per request)\nMaximum tokens the agent can consume per request. Use 0 for unlimited."]}),"\n",(0,t.jsx)(n.h3,{id:"step-5-security-advanced",children:"Step 5: Security (Advanced)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Group Access Control"}),"\nSelect Nextcloud groups that have access to this agent. Leave empty to allow all users in your organisation."]}),"\n",(0,t.jsx)(n.h2,{id:"agent-access-control-rbac",children:"Agent Access Control (RBAC)"}),"\n",(0,t.jsx)(n.p,{children:"Agents follow a hierarchical access model:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Organisation Level"}),": Agents are tied to the organisation where they were created"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Privacy Level"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Public agents"})," (",(0,t.jsx)(n.code,{children:"isPrivate = false"}),"): Accessible to all users in the organisation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Private agents"})," (",(0,t.jsx)(n.code,{children:"isPrivate = true"}),"): Only accessible to the owner and invited users"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Group Level"}),": Additional restriction by Nextcloud group membership"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"access-rules",children:"Access Rules"}),"\n",(0,t.jsx)(n.p,{children:"A user can access an agent if:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The agent belongs to their current organisation, AND"}),"\n",(0,t.jsx)(n.li,{children:"The agent is public OR (the agent is private AND the user is the owner OR the user is invited), AND"}),"\n",(0,t.jsx)(n.li,{children:"No group restrictions exist OR the user belongs to one of the specified groups"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"modification-rights",children:"Modification Rights"}),"\n",(0,t.jsx)(n.p,{children:"Only the agent owner can:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Modify agent settings"}),"\n",(0,t.jsx)(n.li,{children:"Change privacy settings"}),"\n",(0,t.jsx)(n.li,{children:"Manage invited users"}),"\n",(0,t.jsx)(n.li,{children:"Delete the agent"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"function-tools",children:"Function Tools"}),"\n",(0,t.jsx)(n.h3,{id:"overview-1",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"Function tools allow agents to perform actions beyond just providing information. Through function calling (powered by LLM function calling), agents can interact directly with your OpenRegister data and even functionality from other installed Nextcloud apps. This enables agents to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Execute CRUD operations"})," on registers, schemas, and objects"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Integrate with other apps"})," (e.g., OpenCatalogi's CMS tool for managing pages and menus)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Automate workflows"})," by combining multiple tool calls"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Maintain security"})," with automatic RBAC and permission checks"]}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{title:"For Developers",type:"info",children:[(0,t.jsx)(n.p,{children:"Want to create custom tools for your app? See the comprehensive developer guides:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/development/tool-registration",children:"Tool Registration Guide"})})," - Step-by-step guide to creating and registering tools"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/development/tool-metadata-architecture",children:"Tool Metadata Architecture"})})," - Understanding how tool metadata works"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/development/tool-registration-testing",children:"Tool Registration Testing"})})," - Testing your tools"]}),"\n"]})]}),"\n",(0,t.jsx)(n.h3,{id:"built-in-tools-openregister",children:"Built-in Tools (OpenRegister)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"RegisterTool"})," (",(0,t.jsx)(n.code,{children:"openregister.register"}),")"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"List all accessible registers"}),"\n",(0,t.jsx)(n.li,{children:"Get details about a specific register"}),"\n",(0,t.jsx)(n.li,{children:"Create new registers"}),"\n",(0,t.jsx)(n.li,{children:"Update register properties"}),"\n",(0,t.jsx)(n.li,{children:"Delete registers"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"SchemaTool"})," (",(0,t.jsx)(n.code,{children:"openregister.schema"}),")"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"List all accessible schemas"}),"\n",(0,t.jsx)(n.li,{children:"Get schema details including properties"}),"\n",(0,t.jsx)(n.li,{children:"Create new schemas with JSON Schema definitions"}),"\n",(0,t.jsx)(n.li,{children:"Update existing schemas"}),"\n",(0,t.jsx)(n.li,{children:"Delete schemas"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"ObjectsTool"})," (",(0,t.jsx)(n.code,{children:"openregister.objects"}),")"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Search for objects with filters"}),"\n",(0,t.jsx)(n.li,{children:"Get object details"}),"\n",(0,t.jsx)(n.li,{children:"Create new objects conforming to schemas"}),"\n",(0,t.jsx)(n.li,{children:"Update existing objects"}),"\n",(0,t.jsx)(n.li,{children:"Delete objects"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"tools-from-other-apps",children:"Tools from Other Apps"}),"\n",(0,t.jsx)(n.p,{children:"Tools are automatically discovered from installed apps. For example:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"CMSTool"})," (",(0,t.jsx)(n.code,{children:"opencatalogi.cms"}),") - ",(0,t.jsx)(n.em,{children:"When OpenCatalogi is installed"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Create and manage pages"}),"\n",(0,t.jsx)(n.li,{children:"Create and manage menus"}),"\n",(0,t.jsx)(n.li,{children:"Add menu items linking to pages or URLs"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Other apps can register their own tools to extend agent capabilities!"}),"\n",(0,t.jsx)(n.h3,{id:"enabling-tools",children:"Enabling Tools"}),"\n",(0,t.jsx)(n.p,{children:"To enable tools for an agent:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Open the Edit Agent modal"}),"\n",(0,t.jsxs)(n.li,{children:["Navigate to the ",(0,t.jsx)(n.strong,{children:"Tools"})," tab"]}),"\n",(0,t.jsx)(n.li,{children:"Check the tools you want to enable"}),"\n",(0,t.jsxs)(n.li,{children:["Optionally set a ",(0,t.jsx)(n.strong,{children:"Default User"})," for cron/background scenarios"]}),"\n",(0,t.jsx)(n.li,{children:"Save the agent"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"security--permissions",children:"Security & Permissions"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Tool execution follows these rules:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tools run with the current user's session permissions (automatic RBAC)"}),"\n",(0,t.jsx)(n.li,{children:"If no session exists (cron jobs), tools use the agent's configured user"}),"\n",(0,t.jsx)(n.li,{children:"Tools respect the agent's configured views for data filtering"}),"\n",(0,t.jsx)(n.li,{children:"All operations are subject to organization boundaries"}),"\n",(0,t.jsx)(n.li,{children:"Tool usage counts against the agent's request quota"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example:"}),"\nIf a user asks an agent to 'create a new person schema', the agent will:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Check if SchemaTool is enabled"}),"\n",(0,t.jsx)(n.li,{children:"Parse the request parameters"}),"\n",(0,t.jsxs)(n.li,{children:["Call the tool's ",(0,t.jsx)(n.code,{children:"create_schema"})," function"]}),"\n",(0,t.jsx)(n.li,{children:"Execute with the user's permissions"}),"\n",(0,t.jsx)(n.li,{children:"Return the result in natural language"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"use-cases",children:"Use Cases"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Data Management Assistant"}),"\nEnable all three tools to create an agent that can help users manage their data through natural language:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"'Create a new register called Customers'"}),"\n",(0,t.jsx)(n.li,{children:"'Show me all schemas in the Products register'"}),"\n",(0,t.jsx)(n.li,{children:"'Find all objects with status=active'"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Schema Designer"}),"\nEnable SchemaTool to help users design and modify schemas:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"'Create a Person schema with name, email, and phone properties'"}),"\n",(0,t.jsx)(n.li,{children:"'Add an address property to the Person schema'"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Read-Only Query Agent"}),"\nEnable only the list/get functions for a safe, read-only assistant:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Disable creation, update, and deletion"}),"\n",(0,t.jsx)(n.li,{children:"Agent can only retrieve and display information"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"configuration-example",children:"Configuration Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:"{\n  'name': 'Data Management Assistant',\n  'tools': ['register', 'schema', 'objects'],\n  'user': 'admin',\n  'views': ['view-uuid-1', 'view-uuid-2'],\n  'isPrivate': false\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Least Privilege"}),": Only enable tools the agent actually needs"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Set Default User"}),": Always configure a default user for background scenarios"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use Views"}),": Restrict data access using views when possible"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Monitor Usage"}),": Track tool usage through request quotas"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test Thoroughly"}),": Test agents in a development environment first"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"using-agents-in-conversations",children:"Using Agents in Conversations"}),"\n",(0,t.jsx)(n.h3,{id:"starting-a-conversation",children:"Starting a Conversation"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Navigate to the AI Assistant page"}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"New Conversation"})]}),"\n",(0,t.jsx)(n.li,{children:"Select an agent from the available agents"}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Start Conversation"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"agent-specific-context",children:"Agent-Specific Context"}),"\n",(0,t.jsx)(n.p,{children:"When you chat with an agent, it:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Uses the configured LLM provider and model"}),"\n",(0,t.jsx)(n.li,{children:"Applies the system prompt to shape responses"}),"\n",(0,t.jsx)(n.li,{children:"Retrieves context from sources within its configured views"}),"\n",(0,t.jsxs)(n.li,{children:["Respects the ",(0,t.jsx)(n.code,{children:"searchFiles"})," and ",(0,t.jsx)(n.code,{children:"searchObjects"})," settings"]}),"\n",(0,t.jsx)(n.li,{children:"Adheres to token and request quotas"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"conversation-features",children:"Conversation Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Automatic Title Generation"}),": The agent generates a concise title for your conversation based on the first message"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Context Summarization"}),": When the conversation grows large, the agent automatically creates a summary to maintain context within token limits"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Source Citations"}),": Responses include references to the files and objects used to generate the answer"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Conversation History"}),": All messages are persisted and can be reopened at any time"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"api-usage",children:"API Usage"}),"\n",(0,t.jsx)(n.h3,{id:"listing-agents",children:"Listing Agents"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"GET /index.php/apps/openregister/api/agents\n"})}),"\n",(0,t.jsx)(n.p,{children:"Returns all agents accessible to the current user based on RBAC rules."}),"\n",(0,t.jsx)(n.h3,{id:"getting-a-single-agent",children:"Getting a Single Agent"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"GET /index.php/apps/openregister/api/agents/{id}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Returns agent details if the user has access."}),"\n",(0,t.jsx)(n.h3,{id:"creating-an-agent-1",children:"Creating an Agent"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:'POST /index.php/apps/openregister/api/agents\nContent-Type: application/json\n\n{\n  "name": "Support Assistant",\n  "description": "Helps users with common questions",\n  "type": "chat",\n  "provider": "openai",\n  "model": "gpt-4o-mini",\n  "prompt": "You are a helpful support assistant...",\n  "temperature": 0.7,\n  "maxTokens": 1000,\n  "enableRag": true,\n  "searchFiles": true,\n  "searchObjects": true,\n  "views": ["uuid-of-view-1", "uuid-of-view-2"],\n  "tools": ["objects", "schema"],\n  "user": "admin",\n  "isPrivate": false,\n  "invitedUsers": []\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"The agent is automatically assigned to the current user's active organisation."}),"\n",(0,t.jsx)(n.h3,{id:"updating-an-agent",children:"Updating an Agent"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:'PUT /index.php/apps/openregister/api/agents/{id}\nContent-Type: application/json\n\n{\n  "name": "Updated Name",\n  "temperature": 0.8\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Only the owner can update an agent."}),"\n",(0,t.jsx)(n.h3,{id:"deleting-an-agent",children:"Deleting an Agent"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"DELETE /index.php/apps/openregister/api/agents/{id}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Only the owner can delete an agent."}),"\n",(0,t.jsx)(n.h2,{id:"best-practices-1",children:"Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"prompt-engineering",children:"Prompt Engineering"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Be Specific"}),": Clearly define the agent's role and constraints"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Set Tone"}),": Specify the desired communication style (professional, friendly, technical)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Define Behavior"}),": Explain how the agent should handle edge cases"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cite Sources"}),": Instruct the agent to always reference where information came from"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are a technical documentation assistant for a software company. \nYour role is to help developers find information in the API documentation.\n\nGuidelines:\n- Always provide code examples when relevant\n- Cite the specific documentation page or section\n- If you don't know something, say so - don't make up information\n- Use technical language appropriate for developers\n- Be concise but thorough\n"})}),"\n",(0,t.jsx)(n.h3,{id:"view-configuration",children:"View Configuration"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Limit agents to specific views to reduce context and improve accuracy"}),"\n",(0,t.jsx)(n.li,{children:'Create focused views for different agent purposes (e.g., "Customer Data", "Product Catalog")'}),"\n",(0,t.jsx)(n.li,{children:"Use views to implement data access policies"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"temperature-tuning",children:"Temperature Tuning"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Customer Support"})," (0.3-0.5): Consistent, factual responses"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Content Creation"})," (0.7-0.9): Creative but controlled"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Brainstorming"})," (1.0-1.5): Highly creative and diverse ideas"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"resource-management",children:"Resource Management"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Set request quotas for production agents to control costs"}),"\n",(0,t.jsx)(n.li,{children:"Use token limits to prevent runaway generation"}),"\n",(0,t.jsx)(n.li,{children:"Monitor agent usage through audit trails"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"agent-not-appearing-in-list",children:"Agent Not Appearing in List"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Check that you're in the correct organisation"}),"\n",(0,t.jsx)(n.li,{children:"Verify the agent isn't private (unless you're the owner or invited)"}),"\n",(0,t.jsx)(n.li,{children:"Ensure your user is in the allowed groups (if group restrictions are set)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"poor-quality-responses",children:"Poor Quality Responses"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Refine the system prompt to be more specific"}),"\n",(0,t.jsx)(n.li,{children:"Adjust the temperature (lower for more focused responses)"}),"\n",(0,t.jsx)(n.li,{children:"Increase the number of RAG sources"}),"\n",(0,t.jsx)(n.li,{children:"Verify the agent has access to relevant views"}),"\n",(0,t.jsxs)(n.li,{children:["Check that ",(0,t.jsx)(n.code,{children:"searchFiles"})," and ",(0,t.jsx)(n.code,{children:"searchObjects"})," are enabled appropriately"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"no-context-found-errors",children:'"No context found" Errors'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Ensure RAG is enabled"}),"\n",(0,t.jsx)(n.li,{children:"Verify the agent has views configured"}),"\n",(0,t.jsx)(n.li,{children:"Check that the views contain relevant data"}),"\n",(0,t.jsx)(n.li,{children:"Confirm files and objects are published (only published items are searchable)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"access-denied-errors",children:"Access Denied Errors"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Verify you're the owner or have been invited (for private agents)"}),"\n",(0,t.jsx)(n.li,{children:"Check group membership (if group restrictions are set)"}),"\n",(0,t.jsx)(n.li,{children:"Ensure you're in the correct organisation"}),"\n",(0,t.jsx)(n.li,{children:"Confirm the agent hasn't been deleted"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"advanced-topics",children:"Advanced Topics"}),"\n",(0,t.jsx)(n.h3,{id:"multi-tenancy",children:"Multi-Tenancy"}),"\n",(0,t.jsx)(n.p,{children:"Agents are organisation-scoped. When a user switches organisations:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"They see only agents belonging to the new organisation"}),"\n",(0,t.jsx)(n.li,{children:"Conversations are also organisation-specific"}),"\n",(0,t.jsx)(n.li,{children:"Previous conversations become inaccessible until switching back"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"integration-with-views",children:"Integration with Views"}),"\n",(0,t.jsx)(n.p,{children:"Agents leverage the View system to scope their data access. When configuring an agent:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Create views that filter data to what the agent needs"}),"\n",(0,t.jsx)(n.li,{children:"Assign these views to the agent"}),"\n",(0,t.jsx)(n.li,{children:"The agent will only retrieve context from objects matching these view filters"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This provides:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Security"}),": Agents can't access data outside their views"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Relevance"}),": Context is limited to pertinent information"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Performance"}),": Smaller search space improves response times"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"conversation-architecture",children:"Conversation Architecture"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"User \u2192 Conversation \u2192 Agent \u2192 LLM Provider\n         \u2193\n      Messages\n         \u2193\n      RAG Context (Files + Objects filtered by Views)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Each conversation:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Is tied to a single agent"}),"\n",(0,t.jsx)(n.li,{children:"Belongs to a specific user and organisation"}),"\n",(0,t.jsx)(n.li,{children:"Contains a history of messages with sources"}),"\n",(0,t.jsx)(n.li,{children:"Generates a title automatically"}),"\n",(0,t.jsx)(n.li,{children:"Can be archived (soft deleted) and restored"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);