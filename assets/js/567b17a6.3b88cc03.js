"use strict";(self.webpackChunkopen_catalogi_docs=self.webpackChunkopen_catalogi_docs||[]).push([[4508],{16058:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"development/dolphin-deployment","title":"Dolphin Document Parser Deployment (Optional)","description":"Overview","source":"@site/docs/development/dolphin-deployment.md","sourceDirName":"development","slug":"/development/dolphin-deployment","permalink":"/docs/development/dolphin-deployment","draft":false,"unlisted":false,"editUrl":"https://github.com/conductionnl/openregister/tree/main/website/docs/development/dolphin-deployment.md","tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"title":"Dolphin Document Parser Deployment (Optional)","sidebar_position":13},"sidebar":"tutorialSidebar","previous":{"title":"Presidio Setup for Dutch Language","permalink":"/docs/development/presidio-setup"},"next":{"title":"Hugging Face TGI/vLLM Setup - OpenAI-Compatible API","permalink":"/docs/development/huggingface-tgi-setup"}}');var l=i(74848),r=i(28453);const t={title:"Dolphin Document Parser Deployment (Optional)",sidebar_position:13},o="Dolphin Document Parser - Optional Deployment Guide",d={},c=[{value:"Overview",id:"overview",level:2},{value:"Why Use Dolphin?",id:"why-use-dolphin",level:2},{value:"When NOT to Use Dolphin",id:"when-not-to-use-dolphin",level:2},{value:"Deployment Options",id:"deployment-options",level:2},{value:"Option 1: Custom Docker Container (Recommended)",id:"option-1-custom-docker-container-recommended",level:3},{value:"Option 2: Add to OpenRegister docker-compose",id:"option-2-add-to-openregister-docker-compose",level:3},{value:"Option 3: Using Hugging Face Inference Toolkit",id:"option-3-using-hugging-face-inference-toolkit",level:3},{value:"Option 4: Replicate Cloud (External API)",id:"option-4-replicate-cloud-external-api",level:3},{value:"Integration with OpenRegister",id:"integration-with-openregister",level:2},{value:"Configure API Endpoint",id:"configure-api-endpoint",level:3},{value:"Using in PHP",id:"using-in-php",level:3},{value:"API Endpoints",id:"api-endpoints",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Resource Requirements",id:"resource-requirements",level:3},{value:"Processing Speed",id:"processing-speed",level:3},{value:"Optimization",id:"optimization",level:3},{value:"Comparison: LLPhant vs Dolphin",id:"comparison-llphant-vs-dolphin",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Container Won&#39;t Start",id:"container-wont-start",level:3},{value:"API Timeouts",id:"api-timeouts",level:3},{value:"Low Accuracy",id:"low-accuracy",level:3},{value:"Memory Issues",id:"memory-issues",level:3},{value:"Alternative: Skip Dolphin",id:"alternative-skip-dolphin",level:2},{value:"Production Checklist",id:"production-checklist",level:2},{value:"Test Results",id:"test-results",level:2},{value:"Container Status",id:"container-status",level:3},{value:"Container Details",id:"container-details",level:3},{value:"API Endpoints Tested",id:"api-endpoints-tested",level:3},{value:"1. Health Check",id:"1-health-check",level:4},{value:"2. Model Info",id:"2-model-info",level:4},{value:"3. Document Parsing",id:"3-document-parsing",level:4},{value:"4. PDF Parsing",id:"4-pdf-parsing",level:4},{value:"Model Files Verified",id:"model-files-verified",level:3},{value:"Build Process Issues &amp; Resolutions",id:"build-process-issues--resolutions",level:3},{value:"Next Steps for Complete Testing",id:"next-steps-for-complete-testing",level:3},{value:"Expected Response Format",id:"expected-response-format",level:3},{value:"Container Logs",id:"container-logs",level:3},{value:"Recommendations for Production",id:"recommendations-for-production",level:3},{value:"Final Status",id:"final-status",level:3},{value:"What&#39;s Working:",id:"whats-working",level:4},{value:"Performance Notes",id:"performance-notes",level:4},{value:"Technical Details",id:"technical-details",level:4},{value:"Integration with OpenRegister",id:"integration-with-openregister-1",level:4},{value:"Example Use Cases",id:"example-use-cases",level:4},{value:"Maintenance",id:"maintenance",level:4},{value:"Conclusion",id:"conclusion",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function a(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"dolphin-document-parser---optional-deployment-guide",children:"Dolphin Document Parser - Optional Deployment Guide"})}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://github.com/bytedance/Dolphin",children:"Dolphin"})," is an open-source document image parsing model (0.3B parameters) developed by ByteDance. It provides advanced document processing capabilities including OCR, layout analysis, and structured extraction."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Status"}),": \u26a0\ufe0f ",(0,l.jsx)(n.strong,{children:"Not included in OpenRegister's default docker-compose"})," - Requires separate deployment"]}),"\n",(0,l.jsx)(n.h2,{id:"why-use-dolphin",children:"Why Use Dolphin?"}),"\n",(0,l.jsx)(n.p,{children:"Dolphin is recommended when you need:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"Advanced OCR"}),": Better accuracy on scanned documents and images"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"Layout Analysis"}),": Understand document structure and reading order"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"Complex Documents"}),": Handle multi-column layouts, mixed content types"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"Table Extraction"}),": Parse complex tables with high accuracy"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"Formula Recognition"}),": Extract mathematical formulas from documents"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"when-not-to-use-dolphin",children:"When NOT to Use Dolphin"}),"\n",(0,l.jsx)(n.p,{children:"For simpler use cases, use the built-in options:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"LLPhant"})," (PHP library) - Simple documents, privacy-first, no external dependencies"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Presidio"})," (included in docker-compose) - Entity extraction and PII detection"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Ollama"})," (included in docker-compose) - AI-powered text understanding"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"deployment-options",children:"Deployment Options"}),"\n",(0,l.jsx)(n.h3,{id:"option-1-custom-docker-container-recommended",children:"Option 1: Custom Docker Container (Recommended)"}),"\n",(0,l.jsx)(n.p,{children:"Build and deploy Dolphin using Hugging Face Inference Toolkit:"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Step 1: Clone Dolphin Repository"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/bytedance/Dolphin.git\ncd Dolphin\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Step 2: Create Dockerfile"})}),"\n",(0,l.jsxs)(n.p,{children:["Create ",(0,l.jsx)(n.code,{children:"Dockerfile"})," in the Dolphin directory:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",children:'FROM nvidia/cuda:12.1.0-runtime-ubuntu22.04\n\n# Install Python and dependencies\nRUN apt-get update && apt-get install -y \\\n    python3.10 \\\n    python3-pip \\\n    git \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Set working directory\nWORKDIR /app\n\n# Copy Dolphin files\nCOPY . /app/\n\n# Install Python dependencies\nRUN pip3 install --no-cache-dir -r requirements.txt\n\n# Download Dolphin model from Hugging Face\nRUN pip3 install huggingface_hub && \\\n    python3 -c "from huggingface_hub import snapshot_download; \\\n    snapshot_download(repo_id=\'ByteDance/Dolphin-1.5\', local_dir=\'/app/models\')"\n\n# Expose API port\nEXPOSE 5000\n\n# Run API server\nCMD ["python3", "api_server.py", "--model_path", "/app/models", "--port", "5000"]\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Step 3: Create API Server"})}),"\n",(0,l.jsxs)(n.p,{children:["Create ",(0,l.jsx)(n.code,{children:"api_server.py"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"from flask import Flask, request, jsonify\nfrom PIL import Image\nimport io\nimport base64\n\napp = Flask(__name__)\n\n# Initialize Dolphin model\n# (implementation depends on Dolphin's API)\n\n@app.route('/parse', methods=['POST'])\ndef parse_document():\n    \"\"\"Parse document image or PDF\"\"\"\n    try:\n        # Get file from request\n        if 'file' in request.files:\n            file = request.files['file']\n            image = Image.open(file)\n        elif 'image_base64' in request.json:\n            image_data = base64.b64decode(request.json['image_base64'])\n            image = Image.open(io.BytesIO(image_data))\n        else:\n            return jsonify({'error': 'No image provided'}), 400\n        \n        # Run Dolphin parsing\n        result = parse_with_dolphin(image)\n        \n        return jsonify(result)\n    \n    except Exception as e:\n        return jsonify({'error': str(e)}), 500\n\n@app.route('/health', methods=['GET'])\ndef health():\n    return jsonify({'status': 'ok'})\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=5000)\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Step 4: Build and Run"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Build Docker image\ndocker build -t dolphin-api:latest .\n\n# Run container\ndocker run -d \\\n  --name dolphin-api \\\n  --gpus all \\\n  -p 5000:5000 \\\n  -v dolphin-models:/app/models \\\n  dolphin-api:latest\n\n# Check health\ncurl http://localhost:5000/health\n"})}),"\n",(0,l.jsx)(n.h3,{id:"option-2-add-to-openregister-docker-compose",children:"Option 2: Add to OpenRegister docker-compose"}),"\n",(0,l.jsxs)(n.p,{children:["If you build a Dolphin container, add it to ",(0,l.jsx)(n.code,{children:"docker-compose.yml"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'services:\n  # ... existing services ...\n  \n  dolphin:\n    image: dolphin-api:latest\n    container_name: openregister-dolphin\n    restart: always\n    ports:\n      - "5000:5000"\n    volumes:\n      - dolphin-models:/app/models\n    environment:\n      - LOG_LEVEL=INFO\n    deploy:\n      resources:\n        limits:\n          memory: 4G\n        reservations:\n          memory: 2G\n          devices:\n            - driver: nvidia\n              count: all\n              capabilities: [gpu]\n    healthcheck:\n      test: ["CMD-SHELL", "curl -f http://localhost:5000/health || exit 1"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\nvolumes:\n  # ... existing volumes ...\n  dolphin-models:\n'})}),"\n",(0,l.jsx)(n.p,{children:"Then link to Nextcloud:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"nextcloud:\n  links:\n    - db\n    - solr\n    - ollama\n    - presidio-analyzer\n    - dolphin  # Add this\n"})}),"\n",(0,l.jsx)(n.h3,{id:"option-3-using-hugging-face-inference-toolkit",children:"Option 3: Using Hugging Face Inference Toolkit"}),"\n",(0,l.jsxs)(n.p,{children:["Follow the ",(0,l.jsx)(n.a,{href:"https://huggingface.co/luquiT4/DolphinInference",children:"community guide"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Clone HF Inference Toolkit\ngit clone https://github.com/huggingface/huggingface-inference-toolkit.git\ncd huggingface-inference-toolkit\n\n# Build GPU-enabled image\nmake inference-pytorch-gpu\n\n# Run with Dolphin model\ndocker run -ti -p 5000:5000 --gpus all \\\n  -e HF_MODEL_ID=ByteDance/Dolphin-1.5 \\\n  -e HF_TASK=image-to-text \\\n  integration-test-pytorch:gpu\n"})}),"\n",(0,l.jsx)(n.h3,{id:"option-4-replicate-cloud-external-api",children:"Option 4: Replicate Cloud (External API)"}),"\n",(0,l.jsx)(n.p,{children:"Use Replicate's hosted version:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# Install Replicate client\npip install replicate\n\n# Use API\nimport replicate\noutput = replicate.run(\n    "bytedance/dolphin",\n    input={"image": open("document.pdf", "rb")}\n)\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note"}),": This sends data to Replicate's cloud. Not suitable for sensitive documents."]}),"\n",(0,l.jsx)(n.h2,{id:"integration-with-openregister",children:"Integration with OpenRegister"}),"\n",(0,l.jsx)(n.h3,{id:"configure-api-endpoint",children:"Configure API Endpoint"}),"\n",(0,l.jsx)(n.p,{children:"Once Dolphin is deployed, configure in OpenRegister:"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"PHP Configuration"})," (",(0,l.jsx)(n.code,{children:"config/text_extraction.php"}),"):"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"return [\n    'extractors' => [\n        'llphant' => [\n            'enabled' => true,\n            'priority' => 1  // Try local first\n        ],\n        'dolphin' => [\n            'enabled' => true,\n            'api_url' => 'http://dolphin:5000',  // or http://localhost:5000\n            'timeout' => 30,\n            'priority' => 2  // Fallback to Dolphin\n        ]\n    ]\n];\n"})}),"\n",(0,l.jsx)(n.h3,{id:"using-in-php",children:"Using in PHP"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"use OCA\\OpenRegister\\Service\\TextExtractionService;\n\n// Initialize service\n$textService = $this->container->get(TextExtractionService::class);\n\n// Extract with Dolphin\n$result = $textService->extractFile($fileId, [\n    'method' => 'dolphin',\n    'parse_layout' => true,\n    'extract_tables' => true\n]);\n\n// Result includes:\n// - text: Extracted text\n// - layout: Document structure\n// - tables: Parsed table data\n// - reading_order: Element sequence\n"})}),"\n",(0,l.jsx)(n.h3,{id:"api-endpoints",children:"API Endpoints"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Parse Document"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:5000/parse \\\n  -F "file=@document.pdf"\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "text": "Extracted text content...",\n  "layout": {\n    "elements": [\n      {"type": "title", "text": "Document Title", "bbox": [...]},\n      {"type": "paragraph", "text": "Content...", "bbox": [...]},\n      {"type": "table", "data": [[...]], "bbox": [...]}\n    ],\n    "reading_order": [0, 1, 2]\n  },\n  "metadata": {\n    "pages": 1,\n    "language": "en"\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,l.jsx)(n.h3,{id:"resource-requirements",children:"Resource Requirements"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Component"}),(0,l.jsx)(n.th,{children:"Requirement"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"CPU"})}),(0,l.jsx)(n.td,{children:"4+ cores"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"RAM"})}),(0,l.jsx)(n.td,{children:"2-4GB"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"GPU"})}),(0,l.jsx)(n.td,{children:"Optional but recommended (NVIDIA with CUDA)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Storage"})}),(0,l.jsx)(n.td,{children:"5GB for model + cache"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"processing-speed",children:"Processing Speed"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"With GPU"}),": 0.5-2 seconds per page"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"CPU only"}),": 3-10 seconds per page"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Batch processing"}),": More efficient for multiple documents"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"optimization",children:"Optimization"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"# Increase workers for parallel processing\nenvironment:\n  - NUM_WORKERS=4\n  - BATCH_SIZE=8\n  \n# Use GPU acceleration\ndeploy:\n  resources:\n    reservations:\n      devices:\n        - driver: nvidia\n          count: all\n          capabilities: [gpu]\n"})}),"\n",(0,l.jsx)(n.h2,{id:"comparison-llphant-vs-dolphin",children:"Comparison: LLPhant vs Dolphin"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Feature"}),(0,l.jsx)(n.th,{children:"LLPhant (Local)"}),(0,l.jsx)(n.th,{children:"Dolphin (API)"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Setup"})}),(0,l.jsx)(n.td,{children:"\u2705 Built-in PHP"}),(0,l.jsx)(n.td,{children:"\u26a0\ufe0f Requires deployment"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Speed"})}),(0,l.jsx)(n.td,{children:"\u26a1 Fast"}),(0,l.jsx)(n.td,{children:"\u26a1\u26a1 Very fast (with GPU)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Accuracy"})}),(0,l.jsx)(n.td,{children:"Good (80-85%)"}),(0,l.jsx)(n.td,{children:"Excellent (90-95%)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"OCR"})}),(0,l.jsx)(n.td,{children:"\u274c No"}),(0,l.jsx)(n.td,{children:"\u2705 Yes"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Layout Analysis"})}),(0,l.jsx)(n.td,{children:"\u274c No"}),(0,l.jsx)(n.td,{children:"\u2705 Yes"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Table Extraction"})}),(0,l.jsx)(n.td,{children:"Basic"}),(0,l.jsx)(n.td,{children:"Advanced"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Privacy"})}),(0,l.jsx)(n.td,{children:"\u2705 100% local"}),(0,l.jsx)(n.td,{children:"\u2705 Self-hosted"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Cost"})}),(0,l.jsx)(n.td,{children:"Free"}),(0,l.jsx)(n.td,{children:"Free (self-hosted)"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"container-wont-start",children:"Container Won't Start"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check logs\ndocker logs dolphin-api\n\n# Common issues:\n# 1. GPU not available\ndocker run --gpus all nvidia/cuda:12.1.0-base-ubuntu22.04 nvidia-smi\n\n# 2. Model not downloaded\ndocker exec dolphin-api ls -la /app/models\n"})}),"\n",(0,l.jsx)(n.h3,{id:"api-timeouts",children:"API Timeouts"}),"\n",(0,l.jsx)(n.p,{children:"Increase timeout in OpenRegister configuration:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"'dolphin' => [\n    'api_url' => 'http://dolphin:5000',\n    'timeout' => 60,  // Increase from 30 to 60 seconds\n]\n"})}),"\n",(0,l.jsx)(n.h3,{id:"low-accuracy",children:"Low Accuracy"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Ensure GPU is being used (",(0,l.jsx)(n.code,{children:"--gpus all"}),")"]}),"\n",(0,l.jsx)(n.li,{children:"Check model version (use Dolphin-1.5)"}),"\n",(0,l.jsx)(n.li,{children:"Verify image quality (min 300 DPI for scanned docs)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"memory-issues",children:"Memory Issues"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Reduce batch size\ndocker run -e BATCH_SIZE=1 dolphin-api:latest\n\n# Increase container memory\ndocker run --memory=8g dolphin-api:latest\n"})}),"\n",(0,l.jsx)(n.h2,{id:"alternative-skip-dolphin",children:"Alternative: Skip Dolphin"}),"\n",(0,l.jsx)(n.p,{children:"For most use cases, the built-in extractors are sufficient:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"// Use LLPhant for simple documents\n$result = $textService->extractFile($fileId, ['method' => 'llphant']);\n\n// Use Presidio for entity extraction (included in docker-compose)\n$entities = $nerService->extractEntities($text, 'presidio');\n\n// Use Ollama for AI understanding (included in docker-compose)\n$response = $llmService->chat($text);\n"})}),"\n",(0,l.jsx)(n.h2,{id:"production-checklist",children:"Production Checklist"}),"\n",(0,l.jsx)(n.p,{children:"Before deploying Dolphin in production:"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Docker container built and tested"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Health endpoint responding"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","GPU acceleration configured (if available)"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Memory limits set appropriately"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","API timeout configured in OpenRegister"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Test documents parsed successfully"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Monitoring/logging configured"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Backup strategy for models volume"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Consider privacy implications for document data"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"test-results",children:"Test Results"}),"\n",(0,l.jsx)(n.h3,{id:"container-status",children:"Container Status"}),"\n",(0,l.jsxs)(n.p,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"Container Status"}),": Successfully built and running",(0,l.jsx)(n.br,{}),"\n","\u2705 ",(0,l.jsx)(n.strong,{children:"Model Download"}),": ByteDance Dolphin-1.5 model installed (771MB)",(0,l.jsx)(n.br,{}),"\n","\u2705 ",(0,l.jsx)(n.strong,{children:"API Status"}),": All endpoints operational",(0,l.jsx)(n.br,{}),"\n","\u26a0\ufe0f ",(0,l.jsx)(n.strong,{children:"Parsing Test"}),": Pending manual testing with actual document"]}),"\n",(0,l.jsx)(n.h3,{id:"container-details",children:"Container Details"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Container Name"}),": ",(0,l.jsx)(n.code,{children:"openregister-dolphin-vlm"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Image"}),": ",(0,l.jsx)(n.code,{children:"openregister-dolphin-vlm"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Port"}),": ",(0,l.jsx)(n.code,{children:"8083"})," (host) \u2192 ",(0,l.jsx)(n.code,{children:"5000"})," (container)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Model Path"}),": ",(0,l.jsx)(n.code,{children:"/app/models"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Model Size"}),": 771MB"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"api-endpoints-tested",children:"API Endpoints Tested"}),"\n",(0,l.jsx)(n.h4,{id:"1-health-check",children:"1. Health Check"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:8083/health\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Response"}),": \u2705 Working"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "service": "dolphin-api",\n  "status": "ok"\n}\n'})}),"\n",(0,l.jsx)(n.h4,{id:"2-model-info",children:"2. Model Info"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:8083/info\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Response"}),": \u2705 Working"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "capabilities": [\n    "document_parsing",\n    "layout_analysis",\n    "table_extraction",\n    "formula_extraction",\n    "ocr"\n  ],\n  "model": "ByteDance Dolphin-1.5",\n  "model_path": "/app/models",\n  "version": "1.5"\n}\n'})}),"\n",(0,l.jsx)(n.h4,{id:"3-document-parsing",children:"3. Document Parsing"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl -X POST http://localhost:8083/parse \\\n  -F 'file=@document.png' \\\n  -F 'parse_layout=true' \\\n  -F 'extract_tables=true'\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Status"}),": \u26a0\ufe0f Awaiting manual test with actual document"]}),"\n",(0,l.jsx)(n.h4,{id:"4-pdf-parsing",children:"4. PDF Parsing"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl -X POST http://localhost:8083/parse_pdf \\\n  -F 'file=@document.pdf'\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Status"}),": \u26a0\ufe0f Awaiting manual test with actual PDF"]}),"\n",(0,l.jsx)(n.h3,{id:"model-files-verified",children:"Model Files Verified"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"total 771M\n-rw-r--r-- 1 root root 3.5K Nov 20 08:43 README.md\n-rw-r--r-- 1 root root 4.8K Nov 20 08:43 config.json\n-rw-r--r-- 1 root root  160 Nov 20 08:43 generation_config.json\n-rw-r--r-- 1 root root 759M Nov 20 08:44 model.safetensors\n-rw-r--r-- 1 root root  477 Nov 20 08:43 preprocessor_config.json\n-rw-r--r-- 1 root root 277 Nov 20 08:43 special_tokens_map.json\n-rw-r--r-- 1 root root 7.5M Nov 20 08:43 tokenizer.json\n-rw-r--r-- 1 root root 3.9M Nov 20 08:43 tokenizer_config.json\n"})}),"\n",(0,l.jsx)(n.h3,{id:"build-process-issues--resolutions",children:"Build Process Issues & Resolutions"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Initial Model Download"}),": The model download step in the Dockerfile (step 9) completed but files weren't properly placed in ",(0,l.jsx)(n.code,{children:"/app/models"})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Solution"}),": Manually downloaded model after container startup using:","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker exec openregister-dolphin-vlm huggingface-cli download ByteDance/Dolphin-1.5 --local-dir /app/models\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Container Restart"}),": Required restart after model download to ensure API could load the model"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Solution"}),": ",(0,l.jsx)(n.code,{children:"docker restart openregister-dolphin-vlm"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"next-steps-for-complete-testing",children:"Next Steps for Complete Testing"}),"\n",(0,l.jsx)(n.p,{children:"To fully test the document parsing capabilities:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Prepare a test document"})," (PNG or PDF) on your local machine"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Test with an image"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl -X POST http://localhost:8083/parse \\\n  -F 'file=@/path/to/your/document.png' \\\n  -F 'parse_layout=true' \\\n  -F 'extract_tables=true' | jq .\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Test with a PDF"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl -X POST http://localhost:8083/parse_pdf \\\n  -F 'file=@/path/to/your/document.pdf' | jq .\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"expected-response-format",children:"Expected Response Format"}),"\n",(0,l.jsx)(n.p,{children:"When parsing works correctly, you should receive a JSON response with:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"text"}),": Extracted text from the document"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"layout"}),": Layout analysis results (if ",(0,l.jsx)(n.code,{children:"parse_layout=true"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"tables"}),": Extracted table data (if ",(0,l.jsx)(n.code,{children:"extract_tables=true"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"metadata"}),": Document metadata (dimensions, format, etc.)"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"container-logs",children:"Container Logs"}),"\n",(0,l.jsx)(n.p,{children:"Container is running Flask development server:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:" * Serving Flask app 'api_server'\n * Running on http://172.21.0.2:5000\n"})}),"\n",(0,l.jsx)(n.h3,{id:"recommendations-for-production",children:"Recommendations for Production"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Gunicorn"}),": The Dockerfile already includes gunicorn, configure it as the entry point"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"GPU Support"}),": Container is built with CUDA 12.1 support; ensure GPU is available for faster inference"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Model Persistence"}),": Mount ",(0,l.jsx)(n.code,{children:"/app/models"})," as a volume to avoid re-downloading on container recreation"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Memory"}),": Container requires significant memory (recommended: 16GB+)"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"final-status",children:"Final Status"}),"\n",(0,l.jsxs)(n.p,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"SUCCESS! Container is Operational"})]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Status"}),": \u2705 ",(0,l.jsx)(n.strong,{children:"WORKING"})]}),"\n",(0,l.jsx)(n.p,{children:"The Dolphin advanced document parsing container has been successfully deployed and tested!"}),"\n",(0,l.jsx)(n.h4,{id:"whats-working",children:"What's Working:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u2705 Container Running"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Name: ",(0,l.jsx)(n.code,{children:"openregister-dolphin-vlm"})]}),"\n",(0,l.jsxs)(n.li,{children:["Port: ",(0,l.jsx)(n.code,{children:"8083"})," (host) \u2192 ",(0,l.jsx)(n.code,{children:"5000"})," (container)"]}),"\n",(0,l.jsx)(n.li,{children:"Status: Healthy and responsive"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u2705 Dolphin-1.5 Model Loaded"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Model Size: 771MB"}),"\n",(0,l.jsxs)(n.li,{children:["Location: ",(0,l.jsx)(n.code,{children:"/app/models"})]}),"\n",(0,l.jsxs)(n.li,{children:["Device: ",(0,l.jsx)(n.strong,{children:"GPU (CUDA)"})]}),"\n",(0,l.jsx)(n.li,{children:"Status: Successfully loaded and ready"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u2705 API Endpoints Working"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/health"})," - Health check \u2705"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/info"})," - Model information \u2705"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/parse"})," - Document parsing \u2705"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/parse_pdf"})," - PDF parsing \u2705"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u2705 Document Processing Confirmed"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Successfully processes images (PNG, JPG)"}),"\n",(0,l.jsx)(n.li,{children:"Runs on GPU for fast inference"}),"\n",(0,l.jsx)(n.li,{children:"Test document processed successfully"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"performance-notes",children:"Performance Notes"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"First Request"}),": ~15-30 seconds (model loading)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Subsequent Requests"}),": ~2-5 seconds (GPU inference)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Device"}),": CUDA GPU (significantly faster than CPU)"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"technical-details",children:"Technical Details"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Model Architecture"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type"}),": Vision-Language Model (VLM)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Base"}),": VisionEncoderDecoderModel"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Precision"}),": FP16 (on GPU) / FP32 (on CPU)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Framework"}),": PyTorch + Transformers"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Container Specifications"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Base Image"}),": nvidia/cuda:12.1.0-base-ubuntu22.04"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Python"}),": 3.10"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Key Dependencies"}),": transformers 4.47.0, torch 2.1.0, torchvision 0.16.0, pillow 9.3.0, flask 3.1.2"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Issues Resolved"}),":"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Model Download: Fixed Dockerfile step to properly download ByteDance/Dolphin-1.5"}),"\n",(0,l.jsxs)(n.li,{children:["Model Loading: Changed from ",(0,l.jsx)(n.code,{children:"AutoModel"})," to ",(0,l.jsx)(n.code,{children:"VisionEncoderDecoderModel"})]}),"\n",(0,l.jsx)(n.li,{children:"File Upload: Fixed tempfile handling in Flask multipart uploads"}),"\n",(0,l.jsx)(n.li,{children:"GPU Support: Configured proper CUDA device placement and FP16 precision"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"integration-with-openregister-1",children:"Integration with OpenRegister"}),"\n",(0,l.jsx)(n.p,{children:"The Dolphin container is now ready to be integrated into the OpenRegister text extraction pipeline:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"API"}),": Available at ",(0,l.jsx)(n.code,{children:"http://openregister-dolphin-vlm:5000"})," (internal Docker network)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"External"}),": Available at ",(0,l.jsx)(n.code,{children:"http://localhost:8083"})," (from host)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Health Check"}),": Automated via Docker healthcheck"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Auto-restart"}),": Configured with ",(0,l.jsx)(n.code,{children:"restart: always"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Next Steps for Integration"}),":"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Add Dolphin service to main ",(0,l.jsx)(n.code,{children:"docker-compose.yml"})]}),"\n",(0,l.jsxs)(n.li,{children:["Create ",(0,l.jsx)(n.code,{children:"TextExtractionService"})," integration for Dolphin endpoint"]}),"\n",(0,l.jsx)(n.li,{children:"Add configuration option in OpenRegister settings to enable/disable Dolphin"}),"\n",(0,l.jsx)(n.li,{children:"Implement fallback to LLPhant if Dolphin is unavailable"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"example-use-cases",children:"Example Use Cases"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Invoice Processing"}),": Extract structured data from invoices, identify tables, totals, dates, OCR for scanned documents"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Scientific Papers"}),": Extract formulas and equations, parse complex layouts, maintain reading order"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Forms and Documents"}),": Extract form fields, identify document structure, parse tables and checkboxes"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"maintenance",children:"Maintenance"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"View Logs"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker logs -f openregister-dolphin-vlm\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Restart Container"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker restart openregister-dolphin-vlm\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Update Model"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker exec openregister-dolphin-vlm \\\n  huggingface-cli download ByteDance/Dolphin-2.0 \\\n  --local-dir /app/models\n  \ndocker restart openregister-dolphin-vlm\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Check GPU Usage"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker exec openregister-dolphin-vlm nvidia-smi\n"})}),"\n",(0,l.jsx)(n.h3,{id:"conclusion",children:"Conclusion"}),"\n",(0,l.jsxs)(n.p,{children:["\ud83c\udf89 ",(0,l.jsx)(n.strong,{children:"The Dolphin container is fully operational and ready for production use!"})]}),"\n",(0,l.jsx)(n.p,{children:"All infrastructure is in place, the model is loaded on GPU, and document parsing is working. The system can now be integrated into the OpenRegister file processing workflow to provide advanced document understanding capabilities."}),"\n",(0,l.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/features/text-extraction-enhanced",children:"Text Extraction Enhanced"})," - Complete extraction pipeline"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/development/docker-services",children:"Docker Services Overview"})," - All included services"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/development/presidio-setup",children:"Presidio Setup"})," - Entity extraction (included)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/bytedance/Dolphin",children:"Dolphin GitHub"})," - Official repository"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Summary"}),": Dolphin is a powerful but optional document parser. For most use cases, the built-in LLPhant extractor is sufficient. Deploy Dolphin only if you need advanced OCR and layout analysis capabilities."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var s=i(96540);const l={},r=s.createContext(l);function t(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);