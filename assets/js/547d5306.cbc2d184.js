"use strict";(self.webpackChunkopen_catalogi_docs=self.webpackChunkopen_catalogi_docs||[]).push([[3595],{3487:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"technical/entity-relationships-addition","title":"Entity Relationships Addition","description":"Overview","source":"@site/docs/technical/entity-relationships-addition.md","sourceDirName":"technical","slug":"/technical/entity-relationships-addition","permalink":"/docs/technical/entity-relationships-addition","draft":false,"unlisted":false,"editUrl":"https://github.com/conductionnl/openregister/tree/main/website/docs/technical/entity-relationships-addition.md","tags":[],"version":"current","sidebarPosition":122,"frontMatter":{"title":"Entity Relationships Addition","sidebar_position":122},"sidebar":"tutorialSidebar","previous":{"title":"Entity Relationship Model Update","permalink":"/docs/technical/entity-relationship-model-updated"},"next":{"title":"Entity Relationships Correction","permalink":"/docs/technical/entity-relationships-corrected"}}');var s=i(74848),r=i(28453);const o={title:"Entity Relationships Addition",sidebar_position:122},l="Entity Relationships Model - Updated Structure",d={},a=[{value:"Overview",id:"overview",level:2},{value:"Key Improvements",id:"key-improvements",level:2},{value:"What Was Changed",id:"what-was-changed",level:2},{value:"1. Entity Table: Added belongs_to_entity_id",id:"1-entity-table-added-belongs_to_entity_id",level:3},{value:"2. EntityRelation Table: Added role and source tracking",id:"2-entityrelation-table-added-role-and-source-tracking",level:3},{value:"3. Relationship Pattern: Parent-Child",id:"3-relationship-pattern-parent-child",level:3},{value:"4. Role-Based GDPR Compliance",id:"4-role-based-gdpr-compliance",level:3},{value:"5. Source Tracking Benefits",id:"5-source-tracking-benefits",level:3},{value:"6. PHP Entity Classes Updated",id:"6-php-entity-classes-updated",level:3},{value:"7. Use Cases",id:"7-use-cases",level:3},{value:"Use Case 1: Complete GDPR Profile",id:"use-case-1-complete-gdpr-profile",level:4},{value:"Use Case 2: Role-Based Anonymization",id:"use-case-2-role-based-anonymization",level:4},{value:"Use Case 3: Source Document Retrieval",id:"use-case-3-source-document-retrieval",level:4},{value:"Use Case 4: Entity Deduplication",id:"use-case-4-entity-deduplication",level:4},{value:"8. Query Patterns",id:"8-query-patterns",level:3},{value:"9. API Endpoints",id:"9-api-endpoints",level:3},{value:"Benefits",id:"benefits",level:2},{value:"1. Simpler Data Model",id:"1-simpler-data-model",level:3},{value:"2. GDPR Compliance",id:"2-gdpr-compliance",level:3},{value:"3. Robust Source Tracking",id:"3-robust-source-tracking",level:3},{value:"4. Flexible Anonymization",id:"4-flexible-anonymization",level:3},{value:"5. Query Performance",id:"5-query-performance",level:3},{value:"Example: Complete Entity Structure",id:"example-complete-entity-structure",level:2},{value:"Database Structure",id:"database-structure",level:3},{value:"Visual Hierarchy",id:"visual-hierarchy",level:3},{value:"Detection Example",id:"detection-example",level:2},{value:"Implementation Notes",id:"implementation-notes",level:2},{value:"Storage Considerations",id:"storage-considerations",level:3},{value:"Performance Improvements",id:"performance-improvements",level:3},{value:"Database Indexes",id:"database-indexes",level:3},{value:"Integration with Existing Features",id:"integration-with-existing-features",level:2},{value:"Entity Extraction",id:"entity-extraction",level:3},{value:"GDPR Reports",id:"gdpr-reports",level:3},{value:"Anonymization (Future)",id:"anonymization-future",level:3},{value:"Documentation Updated",id:"documentation-updated",level:2},{value:"Files Modified",id:"files-modified",level:3},{value:"Total Database Tables",id:"total-database-tables",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Implementation Priority",id:"implementation-priority",level:3},{value:"Testing Strategy",id:"testing-strategy",level:3},{value:"Migration Strategy",id:"migration-strategy",level:2},{value:"From EntityLink Table (if exists)",id:"from-entitylink-table-if-exists",level:3},{value:"Questions for Stakeholders",id:"questions-for-stakeholders",level:3},{value:"Conclusion",id:"conclusion",level:2},{value:"Key Improvements Over Original Design",id:"key-improvements-over-original-design",level:3}];function c(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"entity-relationships-model---updated-structure",children:"Entity Relationships Model - Updated Structure"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Updated"})," the entity relationship model to use a more efficient ",(0,s.jsx)(n.strong,{children:"parent-child structure"})," with ",(0,s.jsx)(n.code,{children:"belongs_to_entity_id"})," field on entities, plus ",(0,s.jsx)(n.strong,{children:"role-based GDPR compliance"})," and ",(0,s.jsx)(n.strong,{children:"source tracking"})," on entity relations."]}),"\n",(0,s.jsx)(n.h2,{id:"key-improvements",children:"Key Improvements"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"BelongsTo Field"}),": Direct parent reference on child entities (phone/email/address \u2192 person/organization)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Role Field"}),": Track entity context for GDPR anonymization decisions (public_figure, employee, private_individual, etc.)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Source Tracking"}),": Track ultimate source document (file_id, object_id, email_id) for complete audit trail"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"what-was-changed",children:"What Was Changed"}),"\n",(0,s.jsx)(n.h3,{id:"1-entity-table-added-belongs_to_entity_id",children:"1. Entity Table: Added belongs_to_entity_id"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose"}),": Direct parent-child relationships for contact information ownership."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Schema Changes"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE oc_openregister_entities \nADD COLUMN belongs_to_entity_id BIGINT,\nADD INDEX idx_belongs_to (belongs_to_entity_id),\nADD FOREIGN KEY (belongs_to_entity_id) REFERENCES oc_openregister_entities(id) ON DELETE SET NULL;\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Replaces"}),": EntityLink table for 'belongs_to' relationships (many-to-many \u2192 many-to-one)"]}),"\n",(0,s.jsx)(n.h3,{id:"2-entityrelation-table-added-role-and-source-tracking",children:"2. EntityRelation Table: Added role and source tracking"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose"}),": Track entity context and original source documents for GDPR compliance."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Schema Changes"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE oc_openregister_entity_relations\nADD COLUMN role VARCHAR(50),\nADD COLUMN file_id BIGINT,\nADD COLUMN object_id BIGINT,\nADD COLUMN email_id BIGINT,\nADD INDEX idx_role (role),\nADD INDEX idx_file (file_id),\nADD INDEX idx_object (object_id),\nADD INDEX idx_email (email_id);\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"New Fields"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"role"}),": Context of entity ('public_figure', 'employee', 'private_individual', 'customer', 'contractor', 'author', 'recipient', 'mentioned')"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"file_id"}),": Original file containing this entity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"object_id"}),": Original object containing this entity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"email_id"}),": Original email containing this entity"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-relationship-pattern-parent-child",children:"3. Relationship Pattern: Parent-Child"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"BelongsTo"})," creates direct parent-child relationships:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Phone"})," \u2192 belongs to \u2192 ",(0,s.jsx)(n.strong,{children:"Person"})," (phone.belongs_to_entity_id = person.id)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Email"})," \u2192 belongs to \u2192 ",(0,s.jsx)(n.strong,{children:"Person"})," (email.belongs_to_entity_id = person.id)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Address"})," \u2192 belongs to \u2192 ",(0,s.jsx)(n.strong,{children:"Organization"})," (address.belongs_to_entity_id = organization.id)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Phone"})," \u2192 belongs to \u2192 ",(0,s.jsx)(n.strong,{children:"Organization"})," (phone.belongs_to_entity_id = organization.id)"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Query Pattern"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- Get all contact info for a person\nSELECT * FROM oc_openregister_entities \nWHERE belongs_to_entity_id = {person_id};\n\n-- Get parent entity for a phone\nSELECT parent.* FROM oc_openregister_entities child\nJOIN oc_openregister_entities parent ON child.belongs_to_entity_id = parent.id\nWHERE child.id = {phone_id};\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note"}),": We do NOT track person-to-person (family) or person-to-organization (employment) relationships. Only attributes/contact info belonging to entities."]}),"\n",(0,s.jsx)(n.h3,{id:"4-role-based-gdpr-compliance",children:"4. Role-Based GDPR Compliance"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Role Types"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"public_figure"}),": May not require anonymization (e.g., CEO in press release)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"employee"}),": In official capacity, may not require anonymization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"private_individual"}),": Always requires anonymization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"customer"}),": Context-dependent anonymization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"contractor"}),": Context-dependent anonymization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"author"}),": Document creator, context-dependent"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"recipient"}),": Document recipient, context-dependent"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"mentioned"}),": Mentioned in passing, context-dependent"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Anonymization Logic"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function requiresAnonymization(): bool\n{\n    $nonPrivateRoles = [\n        self::ROLE_PUBLIC_FIGURE,\n        self::ROLE_EMPLOYEE,\n    ];\n    \n    if ($this->role && in_array($this->role, $nonPrivateRoles)) {\n        return false; // May not require anonymization\n    }\n    \n    if ($this->role === self::ROLE_PRIVATE_INDIVIDUAL) {\n        return true; // Always requires anonymization\n    }\n    \n    return true; // Default: require anonymization for safety\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"5-source-tracking-benefits",children:"5. Source Tracking Benefits"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Why track file_id/object_id/email_id?"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Chunks may change"}),": Re-chunking, content updates"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"GDPR requests"}),": Need original source documents"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Anonymization"}),": Must trace back to original files"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Audit trails"}),": Require source document references"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Entity: John Doe\nFound in:\n- File #100 (contract.pdf) as role='employee'\n- Object #500 (customer record) as role='mentioned'\n- Email #300 (thread) as role='recipient'\n- File #150 (personal letter) as role='private_individual' \u2190 REQUIRES ANONYMIZATION\n"})}),"\n",(0,s.jsx)(n.h3,{id:"6-php-entity-classes-updated",children:"6. PHP Entity Classes Updated"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"GdprEntity class"})," now includes:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"belongs_to_entity_id"})," property"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"getParent()"})," method"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"getChildren()"})," method (via mapper)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"canHaveChildren()"})," helper method"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"EntityRelation class"})," now includes:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"role"})," property with role constants"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"file_id"}),", ",(0,s.jsx)(n.code,{children:"object_id"}),", ",(0,s.jsx)(n.code,{children:"email_id"})," properties"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"requiresAnonymization()"})," method"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"getSourceType()"})," and ",(0,s.jsx)(n.code,{children:"getSourceId()"})," helper methods"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"7-use-cases",children:"7. Use Cases"}),"\n",(0,s.jsx)(n.h4,{id:"use-case-1-complete-gdpr-profile",children:"Use Case 1: Complete GDPR Profile"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:'// Find person\n$person = $entityMapper->findByValue(\'John Doe\', GdprEntity::TYPE_PERSON);\n\n// Get all contact info (simple query with belongs_to_entity_id)\n$contactInfo = $entityMapper->findByBelongsTo($person->getId());\n\n// Get all occurrences with role and source information\n$relations = $entityRelationMapper->findByEntityId($person->getId());\n\nforeach ($relations as $relation) {\n    echo "Role: {$relation->getRole()}\\n";\n    echo "Source: {$relation->getSourceType()} #{$relation->getSourceId()}\\n";\n    echo "Requires anonymization: " . ($relation->requiresAnonymization() ? \'Yes\' : \'No\') . "\\n";\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Output"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Contact Information:\n- Phone: +31612345678\n- Phone: +31687654321\n- Email: john.doe@example.com\n- Email: j.doe@company.com\n- Address: 123 Main St, Amsterdam\n\nFound In:\n- File #100 (contract.pdf): role=employee, anonymization=No\n- Object #500 (customer record): role=mentioned, anonymization=Yes\n- Email #300 (email thread): role=recipient, anonymization=Yes\n- File #150 (personal letter): role=private_individual, anonymization=Yes\n"})}),"\n",(0,s.jsx)(n.h4,{id:"use-case-2-role-based-anonymization",children:"Use Case 2: Role-Based Anonymization"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// Find all private individual occurrences\n$relations = $entityRelationMapper->findByRole(EntityRelation::ROLE_PRIVATE_INDIVIDUAL);\n\nforeach ($relations as $relation) {\n    if ($relation->requiresAnonymization()) {\n        $entity = $entityMapper->find($relation->getEntityId());\n        \n        // Anonymize this occurrence\n        $anonymizedValue = $this->anonymizeEntity($entity->getType(), $entity->getValue());\n        $relation->setAnonymized(true);\n        $relation->setAnonymizedValue($anonymizedValue);\n        $entityRelationMapper->update($relation);\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"use-case-3-source-document-retrieval",children:"Use Case 3: Source Document Retrieval"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// GDPR request: All documents containing John Doe\n$person = $entityMapper->findByValue('John Doe', GdprEntity::TYPE_PERSON);\n$relations = $entityRelationMapper->findByEntityId($person->getId());\n\n$sources = [\n    'files' => [],\n    'objects' => [],\n    'emails' => []\n];\n\nforeach ($relations as $relation) {\n    $sourceType = $relation->getSourceType();\n    $sourceId = $relation->getSourceId();\n    \n    if ($sourceType === 'file') {\n        $sources['files'][] = $sourceId;\n    } elseif ($sourceType === 'object') {\n        $sources['objects'][] = $sourceId;\n    } elseif ($sourceType === 'email') {\n        $sources['emails'][] = $sourceId;\n    }\n}\n\n// Retrieve actual documents\n$files = $fileMapper->findByIds(array_unique($sources['files']));\n$objects = $objectMapper->findByIds(array_unique($sources['objects']));\n$emails = $emailMapper->findByIds(array_unique($sources['emails']));\n"})}),"\n",(0,s.jsx)(n.h4,{id:"use-case-4-entity-deduplication",children:"Use Case 4: Entity Deduplication"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// Find phone number shared by multiple persons\n$phone = $entityMapper->findByValue('+31612345678', GdprEntity::TYPE_PHONE);\n$potentialParents = $entityMapper->findAll(); // Filter by type=person with same phone\n\n// Check if phone belongs to multiple persons (data quality issue)\n$personsWithThisPhone = [];\nforeach ($potentialParents as $person) {\n    if ($phone->getBelongsToEntityId() === $person->getId()) {\n        $personsWithThisPhone[] = $person;\n    }\n}\n\n// If >1 person, may need deduplication\nif (count($personsWithThisPhone) > 1) {\n    // Merge logic...\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"8-query-patterns",children:"8. Query Patterns"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Get all contact info for a person"})," (Simple!):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM oc_openregister_entities \nWHERE belongs_to_entity_id = {person_id};\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Get parent entity for contact info"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT parent.* FROM oc_openregister_entities child\nJOIN oc_openregister_entities parent ON child.belongs_to_entity_id = parent.id\nWHERE child.id = {contact_id};\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Find all entities requiring anonymization"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT DISTINCT e.* \nFROM oc_openregister_entities e\nJOIN oc_openregister_entity_relations er ON e.id = er.entity_id\nWHERE er.role IN ('private_individual', 'customer')\n  AND er.anonymized = FALSE;\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Find all documents containing a specific entity"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT \n    er.file_id,\n    er.object_id,\n    er.email_id,\n    er.role,\n    er.confidence\nFROM oc_openregister_entities e\nJOIN oc_openregister_entity_relations er ON e.id = er.entity_id\nWHERE e.value = 'John Doe' AND e.type = 'person';\n"})}),"\n",(0,s.jsx)(n.h3,{id:"9-api-endpoints",children:"9. API Endpoints"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"GET  /api/entities/{id}/contact-info\n     - Get all contact information for a person/organization\n\nGET  /api/entities/{id}/parent\n     - Get parent entity (person/org) for contact info\n\nGET  /api/entities/{id}/occurrences\n     - Get all occurrences with role and source tracking\n\nGET  /api/gdpr/profile/{entityId}\n     - Complete GDPR profile with contact info and sources\n\nGET  /api/gdpr/documents/{entityId}\n     - All source documents containing this entity\n\nGET  /api/gdpr/anonymization-required\n     - List of entities requiring anonymization (by role)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"benefits",children:"Benefits"}),"\n",(0,s.jsx)(n.h3,{id:"1-simpler-data-model",children:"1. Simpler Data Model"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 Direct foreign key instead of join table (belongs_to_entity_id)"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 One query to get all contact info for a person"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Intuitive parent-child structure"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Better performance on common queries"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-gdpr-compliance",children:"2. GDPR Compliance"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 Role-based anonymization decisions"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Context-aware entity handling (public figure vs private individual)"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Complete data subject profiles"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 All contact information properly linked"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-robust-source-tracking",children:"3. Robust Source Tracking"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 Always trace back to original document"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Survives re-chunking operations"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Complete audit trail"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 GDPR request support (all documents containing entity)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"4-flexible-anonymization",children:"4. Flexible Anonymization"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 Public figures may not require anonymization"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Employees in official capacity handled appropriately"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Private individuals always protected"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Context-dependent decisions"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"5-query-performance",children:"5. Query Performance"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 Indexed belongs_to lookups"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Indexed role-based queries"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Indexed source-based queries"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Efficient parent-child traversal"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"example-complete-entity-structure",children:"Example: Complete Entity Structure"}),"\n",(0,s.jsx)(n.h3,{id:"database-structure",children:"Database Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"oc_openregister_entities:\nid | type         | value                    | belongs_to_entity_id\n---|--------------|--------------------------|--------------------\n1  | person       | John Doe                 | NULL (root entity)\n2  | phone        | +31612345678             | 1 (belongs to John)\n3  | phone        | +31687654321             | 1 (belongs to John)\n4  | email        | john.doe@example.com     | 1 (belongs to John)\n5  | email        | j.doe@company.com        | 1 (belongs to John)\n6  | address      | 123 Main St, Amsterdam   | 1 (belongs to John)\n10 | organization | Acme Corp                | NULL (root entity)\n11 | phone        | +31201234567             | 10 (belongs to Acme)\n12 | email        | info@acme.com            | 10 (belongs to Acme)\n13 | email        | sales@acme.com           | 10 (belongs to Acme)\n14 | address      | 456 Business Park        | 10 (belongs to Acme)\n\noc_openregister_entity_relations:\nid | entity_id | chunk_id | role              | file_id | confidence\n---|-----------|----------|-------------------|---------|----------\n1  | 1         | 100      | employee          | 50      | 0.92\n2  | 2         | 100      | employee          | 50      | 0.85\n3  | 1         | 200      | private_individual| 75      | 0.88\n4  | 4         | 200      | private_individual| 75      | 0.90\n5  | 10        | 300      | mentioned         | NULL    | 0.95 (object_id=25)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"visual-hierarchy",children:"Visual Hierarchy"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Person: John Doe (id=1)\n  \u251c\u2500 Phone: +31612345678 (id=2)\n  \u2502  \u2514\u2500 Occurrences:\n  \u2502     \u2514\u2500 File #50 (contract.pdf) as employee\n  \u251c\u2500 Phone: +31687654321 (id=3)\n  \u251c\u2500 Email: john.doe@example.com (id=4)\n  \u2502  \u2514\u2500 Occurrences:\n  \u2502     \u2514\u2500 File #75 (personal.pdf) as private_individual \u2190 REQUIRES ANONYMIZATION\n  \u251c\u2500 Email: j.doe@company.com (id=5)\n  \u2514\u2500 Address: 123 Main St, Amsterdam (id=6)\n\nOrganization: Acme Corp (id=10)\n  \u251c\u2500 Phone: +31201234567 (id=11)\n  \u251c\u2500 Email: info@acme.com (id=12)\n  \u251c\u2500 Email: sales@acme.com (id=13)\n  \u2514\u2500 Address: 456 Business Park (id=14)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"detection-example",children:"Detection Example"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Input Text"})," (from contract.pdf, file_id=100):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Contact Information:\nJohn Doe, Sales Manager\nAcme Corporation\nPhone: +31612345678\nEmail: john.doe@acme.com\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Entities Created"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"1. Person: John Doe (id=1, belongs_to_entity_id=NULL)\n2. Organization: Acme Corporation (id=2, belongs_to_entity_id=NULL)\n3. Phone: +31612345678 (id=3, belongs_to_entity_id=1) \u2190 belongs to John\n4. Email: john.doe@acme.com (id=4, belongs_to_entity_id=1) \u2190 belongs to John\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"EntityRelation Records"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"1. entity_id=1 (John), chunk_id=50, role='employee', file_id=100, conf=0.92\n2. entity_id=2 (Acme), chunk_id=50, role='mentioned', file_id=100, conf=0.95\n3. entity_id=3 (Phone), chunk_id=50, role='employee', file_id=100, conf=0.85\n4. entity_id=4 (Email), chunk_id=50, role='employee', file_id=100, conf=0.90\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Anonymization Decision"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All entities have role='employee' \u2192 May NOT require anonymization (business context)"}),"\n",(0,s.jsx)(n.li,{children:"If same person appears in personal letter with role='private_individual' \u2192 WOULD require anonymization"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"implementation-notes",children:"Implementation Notes"}),"\n",(0,s.jsx)(n.h3,{id:"storage-considerations",children:"Storage Considerations"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Per 10,000 documents"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Entities: ~1,000 unique entities \xd7 600 bytes = 600 KB (with belongs_to_entity_id)\nEntityRelations: ~50,000 occurrences \xd7 250 bytes = 12.5 MB (with role and source fields)\n\nTotal: ~13 MB (minimal overhead)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"performance-improvements",children:"Performance Improvements"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Get Contact Info"}),": ~5-20ms (single indexed query on belongs_to_entity_id)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Role-Based Query"}),": ~10-50ms (indexed on role)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Source Document Query"}),": ~10-50ms (indexed on file_id/object_id/email_id)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"GDPR Profile"}),": ~50-200ms for complete profile (faster than join table)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"database-indexes",children:"Database Indexes"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- Entity table\nCREATE INDEX idx_belongs_to ON oc_openregister_entities(belongs_to_entity_id);\nCREATE INDEX idx_type ON oc_openregister_entities(type);\n\n-- EntityRelation table\nCREATE INDEX idx_role ON oc_openregister_entity_relations(role);\nCREATE INDEX idx_file ON oc_openregister_entity_relations(file_id);\nCREATE INDEX idx_object ON oc_openregister_entity_relations(object_id);\nCREATE INDEX idx_email ON oc_openregister_entity_relations(email_id);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"integration-with-existing-features",children:"Integration with Existing Features"}),"\n",(0,s.jsx)(n.h3,{id:"entity-extraction",children:"Entity Extraction"}),"\n",(0,s.jsx)(n.p,{children:"When entities are extracted:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Detect entities in chunk"}),"\n",(0,s.jsx)(n.li,{children:"Create Entity records"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"NEW"}),": Detect relationships and set belongs_to_entity_id"]}),"\n",(0,s.jsxs)(n.li,{children:["Create EntityRelation records with ",(0,s.jsx)(n.strong,{children:"role"})," and ",(0,s.jsx)(n.strong,{children:"source tracking"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"gdpr-reports",children:"GDPR Reports"}),"\n",(0,s.jsx)(n.p,{children:"Enhanced reports now include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Complete contact profiles (via belongs_to_entity_id)"}),"\n",(0,s.jsx)(n.li,{children:"Role-based categorization"}),"\n",(0,s.jsx)(n.li,{children:"Source document references"}),"\n",(0,s.jsx)(n.li,{children:"Anonymization requirements per occurrence"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"anonymization-future",children:"Anonymization (Future)"}),"\n",(0,s.jsx)(n.p,{children:"Context-aware anonymization:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Check role for each occurrence"}),"\n",(0,s.jsx)(n.li,{children:"Public figures/employees may be excluded"}),"\n",(0,s.jsx)(n.li,{children:"Private individuals always anonymized"}),"\n",(0,s.jsx)(n.li,{children:"Trace back to source documents for replacement"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"documentation-updated",children:"Documentation Updated"}),"\n",(0,s.jsx)(n.h3,{id:"files-modified",children:"Files Modified"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/technical/text-extraction-entities",children:"Text Extraction Database Entities"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Updated Entity table schema with belongs_to_entity_id field"}),"\n",(0,s.jsx)(n.li,{children:"Updated EntityRelation table schema with role and source tracking fields"}),"\n",(0,s.jsx)(n.li,{children:"Complete PHP class updates with new methods"}),"\n",(0,s.jsx)(n.li,{children:"Updated ERD diagram"}),"\n",(0,s.jsx)(n.li,{children:"Query examples and use cases"}),"\n",(0,s.jsx)(n.li,{children:"~600 lines of comprehensive documentation"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/technical/entity-relationship-model-updated",children:"Entity Relationship Model Update"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"NEW comprehensive guide to the updated model"}),"\n",(0,s.jsx)(n.li,{children:"Detailed rationale for changes"}),"\n",(0,s.jsx)(n.li,{children:"Complete examples and use cases"}),"\n",(0,s.jsx)(n.li,{children:"Migration strategy from EntityLink table"}),"\n",(0,s.jsx)(n.li,{children:"PHP code examples"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Entity Relationship Diagram (ERD)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Updated to show belongs_to_entity_id relationship"}),"\n",(0,s.jsx)(n.li,{children:"Shows parent-child structure clearly"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"total-database-tables",children:"Total Database Tables"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Text Extraction & GDPR (5 tables)"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"oc_openregister_file_texts"})," (existing, unchanged)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"oc_openregister_object_texts"})," (new)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"oc_openregister_chunks"})," (new)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"oc_openregister_entities"})," (new, ",(0,s.jsx)(n.strong,{children:"with belongs_to_entity_id"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"oc_openregister_entity_relations"})," (new, ",(0,s.jsx)(n.strong,{children:"with role and source tracking"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Entity Relationships"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"REMOVED"}),": ",(0,s.jsx)(n.code,{children:"oc_openregister_entity_links"})," table (replaced by belongs_to_entity_id field)"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Archiving & Metadata (4 tables)"})," - Future:\n6. ",(0,s.jsx)(n.code,{children:"oc_openregister_classifications"}),"\n7. ",(0,s.jsx)(n.code,{children:"oc_openregister_taxonomies"}),"\n8. ",(0,s.jsx)(n.code,{children:"oc_openregister_suggestions"}),"\n9. ",(0,s.jsx)(n.code,{children:"oc_openregister_metadata"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Total"}),": 9 tables across all features (simplified from original 10)"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsx)(n.h3,{id:"implementation-priority",children:"Implementation Priority"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Phase 1"}),": Add belongs_to_entity_id to Entity table"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Phase 2"}),": Add role, file_id, object_id, email_id to EntityRelation table"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Phase 3"}),": Implement relationship detection (proximity-based)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Phase 4"}),": Implement role detection (LLM or pattern-based)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Phase 5"}),": Add source tracking in extraction pipeline"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"testing-strategy",children:"Testing Strategy"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Unit tests for Entity.getChildren() and Entity.getParent()"}),"\n",(0,s.jsx)(n.li,{children:"Unit tests for EntityRelation.requiresAnonymization()"}),"\n",(0,s.jsx)(n.li,{children:"Integration tests for relationship detection"}),"\n",(0,s.jsx)(n.li,{children:"Performance tests for belongs_to queries"}),"\n",(0,s.jsx)(n.li,{children:"GDPR profile generation tests with role-based filtering"}),"\n",(0,s.jsx)(n.li,{children:"Source tracking tests (re-chunking scenarios)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"migration-strategy",children:"Migration Strategy"}),"\n",(0,s.jsx)(n.h3,{id:"from-entitylink-table-if-exists",children:"From EntityLink Table (if exists)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- Migrate 'belongs_to' relationships to Entity.belongs_to_entity_id\nUPDATE oc_openregister_entities e\nJOIN oc_openregister_entity_links el ON e.id = el.source_entity_id\nSET e.belongs_to_entity_id = el.target_entity_id\nWHERE el.relationship_type = 'belongs_to';\n\n-- Verify migration\nSELECT COUNT(*) FROM oc_openregister_entities WHERE belongs_to_entity_id IS NOT NULL;\n\n-- Drop EntityLink table if no other relationship types are needed\nDROP TABLE IF EXISTS oc_openregister_entity_links;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"questions-for-stakeholders",children:"Questions for Stakeholders"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Role Detection"}),": Should we use LLM, pattern matching, or manual assignment for roles?"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Anonymization Policy"}),": Should public figures be automatically excluded from anonymization?"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Source Tracking"}),": Should we track chat/comment sources in addition to file/object/email?"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Relationship Confidence"}),": What threshold for auto-setting belongs_to_entity_id?"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UI Visualization"}),": Should we show entity hierarchies in the interface?"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Entity relationship model updated"})," with more efficient structure and GDPR compliance features:"]}),"\n",(0,s.jsxs)(n.p,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Simpler Model"}),": ",(0,s.jsx)(n.code,{children:"belongs_to_entity_id"})," field replaces EntityLink table for parent-child relationships",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Role-Based GDPR"}),": Context-aware anonymization (public figure, employee, private individual)",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Source Tracking"}),": Complete audit trail with file_id/object_id/email_id fields",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Better Performance"}),": Direct foreign key queries instead of join table",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"PHP Classes Updated"}),": GdprEntity and EntityRelation with new methods",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Complete Use Cases"}),": GDPR profiles, anonymization, source retrieval",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"API Endpoints"}),": Simplified queries for common patterns",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"~800 lines"})," of comprehensive documentation across 3 files"]}),"\n",(0,s.jsx)(n.h3,{id:"key-improvements-over-original-design",children:"Key Improvements Over Original Design"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Simplified"}),": 9 tables instead of 10 (removed EntityLink table)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Faster"}),": Single query to get contact info (5-20ms vs 50-200ms)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Smarter"}),": Role-based anonymization decisions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Traceable"}),": Always know which document contains which entity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Compliant"}),": Full GDPR data subject request support"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This updated model provides a solid foundation for enterprise-grade GDPR entity management with optimal performance and maintainability."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Documentation Status"}),": \u2705 Complete and ready for implementation"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var t=i(96540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);