"use strict";(self.webpackChunkopen_catalogi_docs=self.webpackChunkopen_catalogi_docs||[]).push([[2456],{28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var t=i(96540);const s={},l=t.createContext(s);function r(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(l.Provider,{value:n},e.children)}},40039:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"features/text-extraction-enhanced","title":"Enhanced Text Extraction & GDPR Entity Tracking","description":"Overview","source":"@site/docs/features/text-extraction-enhanced.md","sourceDirName":"features","slug":"/features/text-extraction-enhanced","permalink":"/docs/features/text-extraction-enhanced","draft":false,"unlisted":false,"editUrl":"https://github.com/conductionnl/openregister/tree/main/website/docs/features/text-extraction-enhanced.md","tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"title":"Enhanced Text Extraction & GDPR Entity Tracking","sidebar_position":15},"sidebar":"tutorialSidebar","previous":{"title":"Text Extraction Sources","permalink":"/docs/features/text-extraction-sources"},"next":{"title":"Archiving and Metadata Classification","permalink":"/docs/features/archiving-and-metadata"}}');var s=i(74848),l=i(28453);const r={title:"Enhanced Text Extraction & GDPR Entity Tracking",sidebar_position:15},a="Enhanced Text Extraction & GDPR Entity Tracking",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Sources: Files vs Objects",id:"sources-files-vs-objects",level:3},{value:"1. File Processing",id:"1-file-processing",level:4},{value:"2. Object Processing",id:"2-object-processing",level:4},{value:"The Chunking Process",id:"the-chunking-process",level:3},{value:"Chunk Storage",id:"chunk-storage",level:3},{value:"Enhancement Pipeline",id:"enhancement-pipeline",level:2},{value:"Processing Methods",id:"processing-methods",level:2},{value:"1. Local Algorithms",id:"1-local-algorithms",level:3},{value:"2. External Services",id:"2-external-services",level:3},{value:"3. LLM/AI Processing",id:"3-llmai-processing",level:3},{value:"4. Hybrid Approach (Recommended for Critical Applications)",id:"4-hybrid-approach-recommended-for-critical-applications",level:3},{value:"GDPR Entity Register",id:"gdpr-entity-register",level:2},{value:"Entity Types",id:"entity-types",level:3},{value:"Entity Entity",id:"entity-entity",level:3},{value:"Entity Relation Entity",id:"entity-relation-entity",level:3},{value:"Entity Link Entity (Entity-to-Entity Relationships)",id:"entity-link-entity-entity-to-entity-relationships",level:3},{value:"Preparing for Anonymization",id:"preparing-for-anonymization",level:3},{value:"1. Precise Location Tracking",id:"1-precise-location-tracking",level:4},{value:"2. Consistency Across Documents",id:"2-consistency-across-documents",level:4},{value:"3. Reversible Anonymization",id:"3-reversible-anonymization",level:4},{value:"4. Metadata Preservation",id:"4-metadata-preservation",level:4},{value:"Language Detection &amp; Assessment",id:"language-detection--assessment",level:2},{value:"Language Detection",id:"language-detection",level:3},{value:"Language Level Assessment",id:"language-level-assessment",level:3},{value:"Extended Chunking Support",id:"extended-chunking-support",level:2},{value:"Email Chunking",id:"email-chunking",level:3},{value:"Chat Message Chunking",id:"chat-message-chunking",level:3},{value:"Processing Flow Example",id:"processing-flow-example",level:2},{value:"Complete File Processing Flow",id:"complete-file-processing-flow",level:3},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Text Extraction Settings",id:"text-extraction-settings",level:3},{value:"Enhancement Settings",id:"enhancement-settings",level:3},{value:"Language Detection",id:"language-detection-1",level:4},{value:"Language Level Assessment",id:"language-level-assessment-1",level:4},{value:"Entity Extraction (GDPR)",id:"entity-extraction-gdpr",level:4},{value:"Vector/RAG Support",id:"vectorrag-support",level:4},{value:"API Endpoints",id:"api-endpoints",level:2},{value:"Chunk Management",id:"chunk-management",level:3},{value:"Entity Register (GDPR)",id:"entity-register-gdpr",level:3},{value:"Entity Links (Knowledge Graph)",id:"entity-links-knowledge-graph",level:3},{value:"Language Analysis",id:"language-analysis",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"1. GDPR Compliance Audit",id:"1-gdpr-compliance-audit",level:3},{value:"2. Multi-Language Content Management",id:"2-multi-language-content-management",level:3},{value:"3. Accessibility Compliance",id:"3-accessibility-compliance",level:3},{value:"4. Intelligent Search with Context",id:"4-intelligent-search-with-context",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Processing Times",id:"processing-times",level:3},{value:"Recommendations",id:"recommendations",level:3},{value:"Database Schema",id:"database-schema",level:2},{value:"Updated Chunks Table",id:"updated-chunks-table",level:3},{value:"New Entity Table",id:"new-entity-table",level:3},{value:"New Entity Relation Table",id:"new-entity-relation-table",level:3},{value:"Security &amp; Privacy",id:"security--privacy",level:2},{value:"Data Protection",id:"data-protection",level:3},{value:"External Service Considerations",id:"external-service-considerations",level:3},{value:"Future Enhancements",id:"future-enhancements",level:2},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"enhanced-text-extraction--gdpr-entity-tracking",children:"Enhanced Text Extraction & GDPR Entity Tracking"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:["OpenRegister provides a comprehensive text extraction, chunking, and analysis pipeline that processes both ",(0,s.jsx)(n.strong,{children:"files"})," and ",(0,s.jsx)(n.strong,{children:"objects"})," into searchable, analyzable chunks. The system supports multiple processing paths and optional enhancement steps including entity extraction for GDPR compliance, language detection, and language level assessment."]}),"\n",(0,s.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,s.jsx)(n.h3,{id:"sources-files-vs-objects",children:"Sources: Files vs Objects"}),"\n",(0,s.jsx)(n.p,{children:"The text extraction system processes two distinct types of sources:"}),"\n",(0,s.jsx)(n.h4,{id:"1-file-processing",children:"1. File Processing"}),"\n",(0,s.jsx)(n.p,{children:"Files (PDF, DOCX, images, etc.) are converted into text through extraction services:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"LLPhant"}),": Local PHP-based extraction for standard documents"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dolphin"}),": AI-powered extraction with OCR support for complex documents and images"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"2-object-processing",children:"2. Object Processing"}),"\n",(0,s.jsx)(n.p,{children:"OpenRegister objects (structured data) are converted into text blobs:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Property values are concatenated into a searchable text representation"}),"\n",(0,s.jsx)(n.li,{children:"Maintains references to source object and properties"}),"\n",(0,s.jsx)(n.li,{children:"Enables full-text search across structured data"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"the-chunking-process",children:"The Chunking Process"}),"\n",(0,s.jsxs)(n.p,{children:["Both files and objects follow a path to ",(0,s.jsx)(n.strong,{children:"chunks"})," - smaller, manageable pieces of text optimized for processing:"]}),"\n",(0,s.jsx)(n.mermaid,{value:"graph TB\n    subgraph Sources\n        A[File Upload]\n        B[Object Creation/Update]\n    end\n    \n    subgraph File_Processing[File Text Extraction]\n        C{Extractor Selection}\n        C --\x3e|LLPhant| D1[PHP Libraries]\n        C --\x3e|Dolphin| D2[AI API with OCR]\n        D1 --\x3e E[Complete Text]\n        D2 --\x3e E\n    end\n    \n    subgraph Object_Processing[Object Text Extraction]\n        F[Object Properties]\n        F --\x3e G[Concatenate Values]\n        G --\x3e H[Text Blob]\n    end\n    \n    subgraph Chunking[Text Chunking]\n        E --\x3e I{Chunking Strategy}\n        H --\x3e I\n        I --\x3e|Recursive| J1[Smart splitting by paragraphs/sentences]\n        I --\x3e|Fixed Size| J2[Fixed 1000 chars + 200 overlap]\n        J1 --\x3e K[Text Chunks]\n        J2 --\x3e K\n        K --\x3e L[(Store in Database)]\n    end\n    \n    A --\x3e C\n    B --\x3e F\n    \n    style A fill:#e3f2fd\n    style B fill:#e3f2fd\n    style E fill:#fff9c4\n    style H fill:#fff9c4\n    style K fill:#c8e6c9\n    style L fill:#b39ddb"}),"\n",(0,s.jsx)(n.h3,{id:"chunk-storage",children:"Chunk Storage"}),"\n",(0,s.jsx)(n.p,{children:"Chunks are stored with comprehensive metadata:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Original text content"}),"\n",(0,s.jsx)(n.li,{children:"Start/end offsets"}),"\n",(0,s.jsx)(n.li,{children:"Source reference (file ID or object ID)"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Language"})," (e.g., 'en', 'nl', 'de')"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Language Level"})," (e.g., 'A1', 'B2', 'C1' or reading difficulty score)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"enhancement-pipeline",children:"Enhancement Pipeline"}),"\n",(0,s.jsx)(n.p,{children:"Once chunks are created, they can undergo multiple optional enhancement processes:"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph TD\n    A[Text Chunk Created] --\x3e B{Enhancement Options}\n    \n    B --\x3e|Text Search| C1[Index in Solr]\n    C1 --\x3e C2[Enable full-text search]\n    \n    B --\x3e|Vector Search| D1[Generate Embedding]\n    D1 --\x3e D2[Vector Representation]\n    D2 --\x3e D3[Index in Vector DB]\n    D3 --\x3e D4[Enable RAG Support]\n    \n    B --\x3e|GDPR Compliance| E1[Entity Extraction]\n    E1 --\x3e E2{Entity Detection}\n    E2 --\x3e|Person| E3[Person Entity]\n    E2 --\x3e|Organization| E4[Organization Entity]\n    E2 --\x3e|Location| E5[Location Entity]\n    E2 --\x3e|Email| E6[Email/Contact Entity]\n    E3 --\x3e E7[Link to Chunk]\n    E4 --\x3e E7\n    E5 --\x3e E7\n    E6 --\x3e E7\n    E7 --\x3e E8[GDPR Register]\n    \n    B --\x3e|Language Analysis| F1[Language Detection]\n    F1 --\x3e F2[Identify Language]\n    F2 --\x3e F3[Store in Chunk]\n    \n    B --\x3e|Readability| G1[Language Level Assessment]\n    G1 --\x3e G2[Calculate Difficulty]\n    G2 --\x3e G3[Store Level in Chunk]\n    \n    style A fill:#c8e6c9\n    style C2 fill:#fff3e0\n    style D4 fill:#b2dfdb\n    style E8 fill:#ffccbc\n    style F3 fill:#e1bee7\n    style G3 fill:#f8bbd0"}),"\n",(0,s.jsx)(n.h2,{id:"processing-methods",children:"Processing Methods"}),"\n",(0,s.jsx)(n.p,{children:"Each enhancement can be performed by different methods based on requirements:"}),"\n",(0,s.jsx)(n.h3,{id:"1-local-algorithms",children:"1. Local Algorithms"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Advantages"}),": Privacy-friendly, no external dependencies, fast"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use Cases"}),": Language detection, basic entity patterns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Examples"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Regular expressions for email/phone detection"}),"\n",(0,s.jsx)(n.li,{children:"Statistical language detection libraries"}),"\n",(0,s.jsx)(n.li,{children:"Readability formulas (Flesch-Kincaid, etc.)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-external-services",children:"2. External Services"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Advantages"}),": Specialized accuracy, maintained by experts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use Cases"}),": Complex entity recognition, advanced NLP"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Examples"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Presidio"}),": Microsoft's PII detection service"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"NLDocs"}),": Dutch document analysis"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dolphin"}),": Advanced text analysis"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-llmai-processing",children:"3. LLM/AI Processing"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Advantages"}),": Context-aware, handles ambiguity, multi-task"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use Cases"}),": Complex entities, context-dependent detection"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Examples"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"GPT-4 for nuanced entity extraction"}),"\n",(0,s.jsx)(n.li,{children:"Custom prompts for domain-specific entities"}),"\n",(0,s.jsx)(n.li,{children:"Combined analysis (language + entities + sentiment)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"4-hybrid-approach-recommended-for-critical-applications",children:"4. Hybrid Approach (Recommended for Critical Applications)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Strategy"}),": Multiple methods with confidence scoring"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example Flow"}),":","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Local regex detects potential email: confidence 0.6"}),"\n",(0,s.jsx)(n.li,{children:"Presidio confirms: confidence 0.85"}),"\n",(0,s.jsx)(n.li,{children:"LLM validates in context: confidence 0.95"}),"\n",(0,s.jsx)(n.li,{children:"Final decision: Entity confirmed with 0.95 confidence"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"gdpr-entity-register",children:"GDPR Entity Register"}),"\n",(0,s.jsx)(n.p,{children:"The system maintains a comprehensive register of all personal data found in your content."}),"\n",(0,s.jsx)(n.h3,{id:"entity-types",children:"Entity Types"}),"\n",(0,s.jsx)(n.mermaid,{value:'classDiagram\n    class Chunk {\n        +int id\n        +string text\n        +int startOffset\n        +int endOffset\n        +string language\n        +string languageLevel\n        +int sourceId\n        +string sourceType\n    }\n    \n    class Entity {\n        +int id\n        +string uuid\n        +string type\n        +string value\n        +string category\n        +datetime detected\n        +datetime updated\n    }\n    \n    class EntityRelation {\n        +int id\n        +int entityId\n        +int chunkId\n        +int positionStart\n        +int positionEnd\n        +float confidence\n        +string detectionMethod\n        +array context\n        +bool anonymized\n        +datetime created\n    }\n    \n    Chunk "1" -- "*" EntityRelation : contains\n    Entity "1" -- "*" EntityRelation : appears in\n    EntityRelation : links entity to chunk location\n    \n    class EntityTypes {\n        <<enumeration>>\n        PERSON\n        ORGANIZATION\n        LOCATION\n        EMAIL\n        PHONE\n        DATE_OF_BIRTH\n        ID_NUMBER\n        BANK_ACCOUNT\n        IP_ADDRESS\n        OTHER_PII\n    }\n    \n    Entity -- EntityTypes : has type'}),"\n",(0,s.jsx)(n.h3,{id:"entity-entity",children:"Entity Entity"}),"\n",(0,s.jsx)(n.p,{children:"Represents a unique piece of personally identifiable information:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"id"}),": Primary key"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"uuid"}),": Unique identifier for API access"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"type"}),": Type of entity (person, organization, email, etc.)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"value"}),": The actual entity value (e.g., '",(0,s.jsx)(n.a,{href:"mailto:john.doe@example.com",children:"john.doe@example.com"}),"')"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"category"}),": Classification (PII, sensitive PII, business data)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"detectedAt"}),": First detection timestamp"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"updatedAt"}),": Last occurrence timestamp"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"metadata"}),": Additional context (normalized forms, aliases)"]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{title:"Entity Knowledge Graph",type:"tip",children:[(0,s.jsx)(n.p,{children:"Entities can be linked to each other! Contact information (phone, email, address) can belong to persons or organizations. This creates a knowledge graph that helps with:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Complete GDPR profiles (all contact info per person)"}),"\n",(0,s.jsx)(n.li,{children:"Better anonymization planning"}),"\n",(0,s.jsx)(n.li,{children:"Contact information consolidation"}),"\n",(0,s.jsx)(n.li,{children:"Entity deduplication"}),"\n"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note"}),": We track contact info ownership, NOT employment or family relationships."]})]}),"\n",(0,s.jsx)(n.h3,{id:"entity-relation-entity",children:"Entity Relation Entity"}),"\n",(0,s.jsx)(n.p,{children:"Links entities to specific chunk locations:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"id"}),": Primary key"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"entityId"}),": Reference to Entity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"chunkId"}),": Reference to Chunk"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"positionStart"}),": Character position where entity starts in chunk"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"positionEnd"}),": Character position where entity ends in chunk"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"confidence"}),": Detection confidence (0.0 - 1.0)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"detectionMethod"}),": How it was found ('regex', 'presidio', 'llm', 'hybrid')"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"context"}),": Surrounding text for verification"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"anonymized"}),": Whether this occurrence has been anonymized"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"anonymizedValue"}),": Replacement value if anonymized"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"createdAt"}),": Detection timestamp"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"entity-link-entity-entity-to-entity-relationships",children:"Entity Link Entity (Entity-to-Entity Relationships)"}),"\n",(0,s.jsx)(n.p,{children:"Links entities to each other to create a knowledge graph:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"id"}),": Primary key"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"sourceEntityId"}),": Source entity in the relationship"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"targetEntityId"}),": Target entity in the relationship"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"relationshipType"}),": Type of relationship","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"'belongs_to' - Contact info (phone/email/address) belongs to person or organization"}),"\n",(0,s.jsx)(n.li,{children:"'associated_with' - Generic association for uncertain relationships"}),"\n",(0,s.jsx)(n.li,{children:"'primary_contact' - Marks primary contact method"}),"\n",(0,s.jsx)(n.li,{children:"'alternate_contact' - Marks alternate contact method"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"confidence"}),": Relationship confidence (0.0 - 1.0)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"detectionMethod"}),": How detected ('proximity', 'pattern', 'llm', 'manual', 'inference')"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"metadata"}),": Additional context about the relationship"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"createdAt"}),": When relationship was detected"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example Relationships"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Contact Info \u2192 belongs_to \u2192 Person or Organization:\n- Phone(+31612345678) \u2192 belongs_to \u2192 Person(John Doe)\n- Email(john@company.com) \u2192 belongs_to \u2192 Person(John Doe)\n- Email(info@acme.com) \u2192 belongs_to \u2192 Organization(Acme Corp)\n- Address(123 Main St) \u2192 belongs_to \u2192 Person(John Doe)\n- Address(456 Business Park) \u2192 belongs_to \u2192 Organization(Acme Corp)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"preparing-for-anonymization",children:"Preparing for Anonymization"}),"\n",(0,s.jsx)(n.p,{children:"The system is designed to support future anonymization features:"}),"\n",(0,s.jsx)(n.h4,{id:"1-precise-location-tracking",children:"1. Precise Location Tracking"}),"\n",(0,s.jsx)(n.p,{children:"Every entity relation records exact character positions, enabling surgical replacement:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Original chunk: 'Contact John Doe at john.doe@example.com for details.'\nEntity: type=PERSON, value='John Doe'\nRelation: positionStart=8, positionEnd=16\nAnonymization: Replace positions 8-16 with '[PERSON_1]'\nResult: 'Contact [PERSON_1] at john.doe@example.com for details.'\n"})}),"\n",(0,s.jsx)(n.h4,{id:"2-consistency-across-documents",children:"2. Consistency Across Documents"}),"\n",(0,s.jsx)(n.p,{children:"The Entity table ensures the same person/email is anonymized consistently:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Entity UUID: '550e8400-...'\nValue: 'john.doe@example.com'\nAnonymized to: '[EMAIL_42]' (same across all occurrences)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"3-reversible-anonymization",children:"3. Reversible Anonymization"}),"\n",(0,s.jsx)(n.p,{children:"The system can maintain a secure mapping for authorized users:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Anonymized View: 'Contact [PERSON_1] at [EMAIL_42]'\nAdmin View: 'Contact John Doe at john.doe@example.com'\n"})}),"\n",(0,s.jsx)(n.h4,{id:"4-metadata-preservation",children:"4. Metadata Preservation"}),"\n",(0,s.jsx)(n.p,{children:"Context and confidence scores help validate anonymization:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:"{\n  'entity': 'john.doe@example.com',\n  'anonymized': '[EMAIL_42]',\n  'confidence': 0.95,\n  'method': 'hybrid',\n  'context': '...Contact John Doe at john.doe@example.com for...',\n  'verified': true\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"language-detection--assessment",children:"Language Detection & Assessment"}),"\n",(0,s.jsx)(n.h3,{id:"language-detection",children:"Language Detection"}),"\n",(0,s.jsx)(n.p,{children:"Identifies the primary language of each chunk:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Methods"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Local Algorithm"}),": Fast statistical detection (e.g., lingua, language-detect)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"External Service"}),": Cloud-based detection (e.g., Google Cloud Translation API)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"LLM"}),": Context-aware language identification"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Storage"}),": ISO 639-1 codes ('en', 'nl', 'de', 'fr', etc.)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Use Cases"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Route to appropriate language models"}),"\n",(0,s.jsx)(n.li,{children:"Filter search results by language"}),"\n",(0,s.jsx)(n.li,{children:"Trigger language-specific processing"}),"\n",(0,s.jsx)(n.li,{children:"Compliance with language requirements"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"language-level-assessment",children:"Language Level Assessment"}),"\n",(0,s.jsx)(n.p,{children:"Determines reading difficulty or proficiency level:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Methods"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Readability Formulas"}),": Flesch-Kincaid, SMOG, Coleman-Liau"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"External Services"}),": Specialized readability APIs"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"LLM Analysis"}),": Context-aware difficulty assessment"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Scales"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CEFR"}),": A1, A2, B1, B2, C1, C2 (language proficiency)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reading Level"}),": Grade 1-12, College, Graduate"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Numeric Score"}),": Custom difficulty score (0-100)"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Storage"}),": String field in chunk entity (e.g., 'B2', 'Grade 8', '65')"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Use Cases"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Content accessibility evaluation"}),"\n",(0,s.jsx)(n.li,{children:"Educational material classification"}),"\n",(0,s.jsx)(n.li,{children:"Simplified language recommendations"}),"\n",(0,s.jsx)(n.li,{children:"Regulatory compliance (plain language laws)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"extended-chunking-support",children:"Extended Chunking Support"}),"\n",(0,s.jsx)(n.h3,{id:"email-chunking",children:"Email Chunking"}),"\n",(0,s.jsx)(n.p,{children:"Emails are chunked with special handling:"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[Email Message] --\x3e B{Segment Email}\n    B --\x3e C[Headers Chunk]\n    B --\x3e D[Body Chunk]\n    B --\x3e E[Signature Chunk]\n    B --\x3e F[Attachments]\n    \n    C --\x3e G[Store with metadata]\n    D --\x3e G\n    E --\x3e G\n    F --\x3e H[Process as Files]\n    H --\x3e G\n    \n    G --\x3e I[Link chunks to email object]\n    \n    style A fill:#e3f2fd\n    style G fill:#c8e6c9\n    style I fill:#b39ddb"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Metadata Stored"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Email sender/recipients (as entities for GDPR)"}),"\n",(0,s.jsx)(n.li,{children:"Subject line"}),"\n",(0,s.jsx)(n.li,{children:"Timestamp"}),"\n",(0,s.jsx)(n.li,{children:"Email thread ID"}),"\n",(0,s.jsx)(n.li,{children:"Attachment references"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"chat-message-chunking",children:"Chat Message Chunking"}),"\n",(0,s.jsx)(n.p,{children:"Chat messages (Talk app) are chunked with conversation context:"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[Chat Conversation] --\x3e B{Process Messages}\n    B --\x3e C[Individual Messages]\n    B --\x3e D[Conversation Context]\n    \n    C --\x3e E[Chunk Message]\n    D --\x3e E\n    \n    E --\x3e F[Store with metadata]\n    F --\x3e G[Link to conversation]\n    F --\x3e H[Link to participants]\n    \n    style A fill:#e3f2fd\n    style E fill:#c8e6c9\n    style G fill:#b39ddb\n    style H fill:#b39ddb"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Metadata Stored"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Conversation ID"}),"\n",(0,s.jsx)(n.li,{children:"Message sender (as entity for GDPR)"}),"\n",(0,s.jsx)(n.li,{children:"Timestamp"}),"\n",(0,s.jsx)(n.li,{children:"Reply-to references"}),"\n",(0,s.jsx)(n.li,{children:"Participant list"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Context Preservation"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Include previous 2-3 messages in chunk context for coherent search"}),"\n",(0,s.jsx)(n.li,{children:"Maintain conversation threading"}),"\n",(0,s.jsx)(n.li,{children:"Link related chunks"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"processing-flow-example",children:"Processing Flow Example"}),"\n",(0,s.jsx)(n.h3,{id:"complete-file-processing-flow",children:"Complete File Processing Flow"}),"\n",(0,s.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant User\n    participant NC as Nextcloud\n    participant Extractor\n    participant Chunker\n    participant DB as Database\n    participant Solr\n    participant LLM\n    participant GDPR as GDPR Register\n    \n    User->>NC: Upload file\n    NC->>Extractor: Extract text\n    \n    alt LLPhant\n        Extractor->>Extractor: Local processing\n    else Dolphin\n        Extractor->>Extractor: API + OCR\n    end\n    \n    Extractor--\x3e>Chunker: Complete text\n    \n    Chunker->>Chunker: Apply strategy\n    Chunker->>DB: Store chunks\n    \n    Note over DB: Chunks stored without enhancements\n    \n    opt Text Search Enabled\n        DB->>Solr: Index chunks\n    end\n    \n    opt Language Detection Enabled\n        DB->>LLM: Detect language\n        LLM--\x3e>DB: Update chunk.language\n    end\n    \n    opt Language Level Enabled\n        DB->>LLM: Assess level\n        LLM--\x3e>DB: Update chunk.languageLevel\n    end\n    \n    opt Vector Search Enabled\n        DB->>LLM: Generate embedding\n        LLM--\x3e>DB: Store vector\n    end\n    \n    opt GDPR Tracking Enabled\n        DB->>LLM: Extract entities\n        LLM--\x3e>GDPR: Create entities\n        GDPR->>GDPR: Create relations\n        GDPR--\x3e>DB: Link to chunks\n    end\n    \n    DB--\x3e>User: Processing complete"}),"\n",(0,s.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,s.jsx)(n.h3,{id:"text-extraction-settings",children:"Text Extraction Settings"}),"\n",(0,s.jsxs)(n.p,{children:["Located in ",(0,s.jsx)(n.strong,{children:"Settings \u2192 OpenRegister \u2192 File Configuration"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Extraction Scope"}),": None, All Files, Specific Folders, Object Files"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Extraction Engine"}),": LLPhant or Dolphin"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Chunking Strategy"}),": Recursive (smart) or Fixed Size"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Chunk Size"}),": Default 1000 characters"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Chunk Overlap"}),": Default 200 characters"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"enhancement-settings",children:"Enhancement Settings"}),"\n",(0,s.jsxs)(n.p,{children:["Located in ",(0,s.jsx)(n.strong,{children:"Settings \u2192 OpenRegister \u2192 Text Analysis"}),":"]}),"\n",(0,s.jsx)(n.h4,{id:"language-detection-1",children:"Language Detection"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enable Language Detection"}),": Yes/No"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Detection Method"}),": Local Algorithm / External Service / LLM / Hybrid"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Confidence Threshold"}),": Minimum confidence to store result (0.0-1.0)"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"language-level-assessment-1",children:"Language Level Assessment"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enable Level Assessment"}),": Yes/No"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Assessment Method"}),": Formula / Service / LLM"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Scale"}),": CEFR / Reading Level / Numeric Score"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"entity-extraction-gdpr",children:"Entity Extraction (GDPR)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enable Entity Extraction"}),": Yes/No"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Extraction Method"}),": Local Patterns / Presidio / LLM / Hybrid"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Entity Types"}),": Select which types to detect"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Confidence Threshold"}),": Minimum confidence (0.0-1.0)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Context Window"}),": Characters to store around entity"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"vectorrag-support",children:"Vector/RAG Support"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enable Vectorization"}),": Yes/No"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Embedding Model"}),": Select model"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Vector Backend"}),": Solr / Dedicated Vector DB"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"api-endpoints",children:"API Endpoints"}),"\n",(0,s.jsx)(n.h3,{id:"chunk-management",children:"Chunk Management"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"GET /api/chunks\n  - List all chunks with filters\n  - Filters: sourceType, sourceId, language, languageLevel\n\nGET /api/chunks/{id}\n  - Get single chunk with all metadata\n\nPOST /api/chunks/{id}/analyze\n  - Trigger analysis (language, level, entities)\n  - Body: { 'features': ['language', 'level', 'entities'] }\n"})}),"\n",(0,s.jsx)(n.h3,{id:"entity-register-gdpr",children:"Entity Register (GDPR)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"GET /api/entities\n  - List all detected entities\n  - Filters: type, category, dateRange\n\nGET /api/entities/{id}\n  - Get entity details with all occurrences\n\nGET /api/entities/{id}/occurrences\n  - List all chunks containing this entity\n\nGET /api/entities/{id}/links\n  - Get all entities linked to this entity\n  - Shows relationships (phone belongs to person, etc.)\n\nPOST /api/entities/{id}/anonymize\n  - Mark entity for anonymization\n  - Body: { 'replacement': '[PERSON_1]' }\n\nGET /api/gdpr/report\n  - Generate GDPR compliance report\n  - Shows all PII found in system\n\nGET /api/gdpr/profile/{entityId}\n  - Complete GDPR profile for a person\n  - Includes all contact info, employment, relationships\n"})}),"\n",(0,s.jsx)(n.h3,{id:"entity-links-knowledge-graph",children:"Entity Links (Knowledge Graph)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"GET /api/entity-links?sourceId={id}\n  - Get all links from an entity\n\nGET /api/entity-links?targetId={id}\n  - Get all links to an entity\n\nPOST /api/entity-links\n  - Create entity relationship\n  - Body: { 'sourceEntityId': 1, 'targetEntityId': 2, 'relationshipType': 'belongs_to' }\n\nGET /api/entities/{id}/graph\n  - Get knowledge graph around an entity\n  - Shows all related entities and relationships\n"})}),"\n",(0,s.jsx)(n.h3,{id:"language-analysis",children:"Language Analysis"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"GET /api/chunks/languages\n  - Get language distribution statistics\n\nGET /api/chunks/levels\n  - Get language level distribution\n\nPOST /api/chunks/batch-analyze\n  - Analyze multiple chunks\n  - Body: { 'chunkIds': [1,2,3], 'features': ['language'] }\n"})}),"\n",(0,s.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,s.jsx)(n.h3,{id:"1-gdpr-compliance-audit",children:"1. GDPR Compliance Audit"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Scenario"}),": Organization needs to identify all personal data."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Process"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Enable entity extraction with hybrid method"}),"\n",(0,s.jsx)(n.li,{children:"Process all existing files and objects"}),"\n",(0,s.jsxs)(n.li,{children:["System detects entities and their relationships:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Persons"}),"\n",(0,s.jsx)(n.li,{children:"Email addresses (linked to persons)"}),"\n",(0,s.jsx)(n.li,{children:"Phone numbers (linked to persons)"}),"\n",(0,s.jsx)(n.li,{children:"Organizations (linked to persons via employment)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Generate GDPR report showing:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All persons with complete profiles"}),"\n",(0,s.jsx)(n.li,{children:"All contact information per person"}),"\n",(0,s.jsx)(n.li,{children:"Organizations they work for"}),"\n",(0,s.jsx)(n.li,{children:"All document locations"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Review and verify entities and relationships"}),"\n",(0,s.jsx)(n.li,{children:"Prepare comprehensive data subject access requests"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example Output"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Data Subject: John Doe\n\nContact Information:\n- Phone: +31612345678 (primary)\n- Phone: +31687654321 (alternate)\n- Email: john.doe@example.com (primary)\n- Email: j.doe@company.com (alternate)\n- Address: 123 Main St, Amsterdam\n\nFound in:\n- 15 documents\n- 45 chunks\n- 3 email threads\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-multi-language-content-management",children:"2. Multi-Language Content Management"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Scenario"}),": Organization has content in multiple languages."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Process"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Enable language detection"}),"\n",(0,s.jsx)(n.li,{children:"Process all content"}),"\n",(0,s.jsx)(n.li,{children:"Filter searches by language"}),"\n",(0,s.jsx)(n.li,{children:"Route to appropriate language models for AI"}),"\n",(0,s.jsx)(n.li,{children:"Generate language distribution reports"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-accessibility-compliance",children:"3. Accessibility Compliance"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Scenario"}),": Government agency must ensure plain language."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Process"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Enable language level assessment"}),"\n",(0,s.jsx)(n.li,{children:"Set target level (e.g., B1 / Grade 8)"}),"\n",(0,s.jsx)(n.li,{children:"Process all public-facing documents"}),"\n",(0,s.jsx)(n.li,{children:"Identify documents exceeding target complexity"}),"\n",(0,s.jsx)(n.li,{children:"Flag for simplification"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"4-intelligent-search-with-context",children:"4. Intelligent Search with Context"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Scenario"}),": Users need semantic search across emails and documents."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Process"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Enable chunking for files, objects, and emails"}),"\n",(0,s.jsx)(n.li,{children:"Generate embeddings for vector search"}),"\n",(0,s.jsx)(n.li,{children:"Enable language detection for result filtering"}),"\n",(0,s.jsx)(n.li,{children:"User searches: 'budget discussion with John'"}),"\n",(0,s.jsxs)(n.li,{children:["System finds:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Email chunks mentioning budget + John"}),"\n",(0,s.jsx)(n.li,{children:"Document chunks about budget meetings"}),"\n",(0,s.jsx)(n.li,{children:"Chat messages discussing budget"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Results ranked by relevance and language preference"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,s.jsx)(n.h3,{id:"processing-times",children:"Processing Times"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Chunking"}),": ~50-100ms per 100KB of text\n",(0,s.jsx)(n.strong,{children:"Language Detection"}),": ~10-50ms per chunk (local) or ~100-200ms (API)\n",(0,s.jsx)(n.strong,{children:"Language Level"}),": ~20-100ms per chunk (formula) or ~200-500ms (LLM)\n",(0,s.jsx)(n.strong,{children:"Entity Extraction"}),": ~100-300ms per chunk (patterns) or ~500-2000ms (LLM)"]}),"\n",(0,s.jsx)(n.h3,{id:"recommendations",children:"Recommendations"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Batch Processing"}),": Process enhancements in background jobs"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Selective Enhancement"}),": Only enable features you need"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Confidence Thresholds"}),": Higher thresholds = fewer false positives but may miss entities"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hybrid Approach"}),": Use fast local methods first, then validate with LLM only when uncertain"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"database-schema",children:"Database Schema"}),"\n",(0,s.jsx)(n.h3,{id:"updated-chunks-table",children:"Updated Chunks Table"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE oc_openregister_file_texts ADD COLUMN language VARCHAR(10) DEFAULT NULL;\nALTER TABLE oc_openregister_file_texts ADD COLUMN language_level VARCHAR(20) DEFAULT NULL;\n\n-- Note: Chunks currently stored in chunks_json field\n-- Future migration will separate into dedicated chunk table\n"})}),"\n",(0,s.jsx)(n.h3,{id:"new-entity-table",children:"New Entity Table"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE oc_openregister_entities (\n    id BIGINT AUTO_INCREMENT PRIMARY KEY,\n    uuid VARCHAR(255) NOT NULL UNIQUE,\n    type VARCHAR(50) NOT NULL,\n    value TEXT NOT NULL,\n    category VARCHAR(50) NOT NULL,\n    metadata JSON,\n    detected_at DATETIME NOT NULL,\n    updated_at DATETIME NOT NULL,\n    INDEX idx_type (type),\n    INDEX idx_category (category),\n    INDEX idx_detected (detected_at)\n);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"new-entity-relation-table",children:"New Entity Relation Table"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE oc_openregister_entity_relations (\n    id BIGINT AUTO_INCREMENT PRIMARY KEY,\n    entity_id BIGINT NOT NULL,\n    chunk_id BIGINT NOT NULL,\n    position_start INT NOT NULL,\n    position_end INT NOT NULL,\n    confidence DECIMAL(3,2) NOT NULL,\n    detection_method VARCHAR(50) NOT NULL,\n    context TEXT,\n    anonymized BOOLEAN DEFAULT FALSE,\n    anonymized_value VARCHAR(255),\n    created_at DATETIME NOT NULL,\n    FOREIGN KEY (entity_id) REFERENCES oc_openregister_entities(id) ON DELETE CASCADE,\n    FOREIGN KEY (chunk_id) REFERENCES oc_openregister_chunks(id) ON DELETE CASCADE,\n    INDEX idx_entity (entity_id),\n    INDEX idx_chunk (chunk_id),\n    INDEX idx_confidence (confidence),\n    INDEX idx_anonymized (anonymized)\n);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"security--privacy",children:"Security & Privacy"}),"\n",(0,s.jsx)(n.h3,{id:"data-protection",children:"Data Protection"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Entity Storage"}),": Entities are stored encrypted at rest"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Access Control"}),": GDPR register access requires admin privileges"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Audit Trail"}),": All entity access is logged"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Retention"}),": Configurable retention periods for entity data"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"external-service-considerations",children:"External Service Considerations"}),"\n",(0,s.jsx)(n.p,{children:"When using external services (Presidio, Dolphin, etc.):"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Transmission"}),": Consider data sensitivity before sending to external APIs"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Compliance"}),": Ensure services comply with GDPR, HIPAA, or relevant regulations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Contracts"}),": Establish data processing agreements"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fallback"}),": Always have local method fallback if service unavailable"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"future-enhancements",children:"Future Enhancements"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Anonymization Engine"}),": Automatic replacement of entities in source documents"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Pseudonymization"}),": Consistent fake data generation for testing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consent Tracking"}),": Link entities to user consent records"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Right to Erasure"}),": Automated entity removal across all chunks"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cross-Reference Detection"}),": Link related entities (e.g., person + their email)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sentiment Analysis"}),": Per-chunk sentiment scoring"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Topic Modeling"}),": Automatic categorization of chunks by topic"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Summarization"}),": LLM-generated summaries of long documents"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsx)(n.p,{children:"The enhanced text extraction system provides a comprehensive foundation for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Searchability"}),": Full-text and semantic search"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Compliance"}),": GDPR entity tracking and future anonymization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Accessibility"}),": Language and readability analysis"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Intelligence"}),": AI-ready chunked content for RAG and analysis"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"By processing both files and objects into a unified chunk structure, OpenRegister enables powerful cross-content search, analysis, and compliance features while maintaining flexibility in processing methods and preparing for future capabilities."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\ud83d\udcda See Also"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/Features/text-extraction-vectorization-ner",children:"Text Extraction, Vectorization & Named Entity Recognition"})})," - Unified documentation covering text extraction, vectorization, and NER in one place"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/features/text-extraction-sources",children:"Text Extraction Sources"})," - Detailed source-specific documentation"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);