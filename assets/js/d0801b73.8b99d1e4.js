"use strict";(self.webpackChunkopen_catalogi_docs=self.webpackChunkopen_catalogi_docs||[]).push([[3992],{28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var s=i(96540);const t={},r=s.createContext(t);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}},30962:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Features/applications","title":"Applications","description":"Application Management and Access Control","source":"@site/docs/Features/applications.md","sourceDirName":"Features","slug":"/Features/applications","permalink":"/docs/Features/applications","draft":false,"unlisted":false,"editUrl":"https://github.com/conductionnl/openregister/tree/main/website/docs/Features/applications.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"title":"Applications","sidebar_position":11,"description":"Application Management and Access Control","keywords":["Open Register","Applications","Access Control","Multi-Tenancy"]},"sidebar":"tutorialSidebar","previous":{"title":"Organisations","permalink":"/docs/Features/organisations"},"next":{"title":"Documentation System","permalink":"/docs/Features/documentation-system"}}');var t=i(74848),r=i(28453);const a={title:"Applications",sidebar_position:11,description:"Application Management and Access Control",keywords:["Open Register","Applications","Access Control","Multi-Tenancy"]},l="Applications",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Key Features",id:"key-features",level:2},{value:"Organisation Integration",id:"organisation-integration",level:3},{value:"Group-Based Access Control",id:"group-based-access-control",level:3},{value:"Resource Management",id:"resource-management",level:3},{value:"Configuration Management",id:"configuration-management",level:3},{value:"Creating an Application",id:"creating-an-application",level:2},{value:"Via UI",id:"via-ui",level:3},{value:"Basic Information Tab",id:"basic-information-tab",level:4},{value:"Resource Allocation Tab",id:"resource-allocation-tab",level:4},{value:"Security Tab",id:"security-tab",level:4},{value:"Via API",id:"via-api",level:3},{value:"Managing Application Groups",id:"managing-application-groups",level:2},{value:"Group Assignment",id:"group-assignment",level:3},{value:"Adding Groups",id:"adding-groups",level:4},{value:"Group Access Logic",id:"group-access-logic",level:4},{value:"How Application Access Works",id:"how-application-access-works",level:3},{value:"Editing an Application",id:"editing-an-application",level:2},{value:"Deleting an Application",id:"deleting-an-application",level:2},{value:"Application Properties",id:"application-properties",level:2},{value:"Database Schema",id:"database-schema",level:3},{value:"Groups JSON Structure",id:"groups-json-structure",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"Department Application",id:"department-application",level:3},{value:"Project-Based Application",id:"project-based-application",level:3},{value:"Client Application",id:"client-application",level:3},{value:"Open Application",id:"open-application",level:3},{value:"Access Control Combinations",id:"access-control-combinations",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Naming and Organisation",id:"naming-and-organisation",level:3},{value:"Group Management",id:"group-management",level:3},{value:"Resource Quotas",id:"resource-quotas",level:3},{value:"Security",id:"security",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"List Applications",id:"list-applications",level:3},{value:"Get Application",id:"get-application",level:3},{value:"Create Application",id:"create-application",level:3},{value:"Update Application",id:"update-application",level:3},{value:"Delete Application",id:"delete-application",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Cannot Create Application",id:"cannot-create-application",level:3},{value:"Groups Not Appearing",id:"groups-not-appearing",level:3},{value:"Groups Not Saving",id:"groups-not-saving",level:3},{value:"Access Denied Despite Group Membership",id:"access-denied-despite-group-membership",level:3},{value:"Resource Quota Exceeded",id:"resource-quota-exceeded",level:3},{value:"PHP API Examples",id:"php-api-examples",level:2},{value:"Create Application with Groups",id:"create-application-with-groups",level:3},{value:"Check User Access",id:"check-user-access",level:3},{value:"Get User&#39;s Accessible Applications",id:"get-users-accessible-applications",level:3},{value:"Integration with Other Features",id:"integration-with-other-features",level:2},{value:"With Organisations",id:"with-organisations",level:3},{value:"With Configurations",id:"with-configurations",level:3},{value:"With RBAC",id:"with-rbac",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"applications",children:"Applications"})}),"\n",(0,t.jsx)(n.p,{children:"Applications in OpenRegister represent software modules, systems, or logical groupings of functionality. They can be assigned to organisations and configured with group-based access control to manage who can use them."}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"Applications provide a way to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Package Functionality"}),": Group related configurations, registers, and schemas"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Control Access"}),": Use Nextcloud groups to restrict who can access the application"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Manage Resources"}),": Set storage, bandwidth, and API request quotas"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Organise Structure"}),": Associate applications with organisations for better multi-tenancy"]}),"\n"]}),"\n",(0,t.jsx)(n.mermaid,{value:"graph TB\n    subgraph Application\n        A[Application Entity]\n        A --\x3e B[Name & Description]\n        A --\x3e C[Organisation]\n        A --\x3e D[Access Groups]\n        A --\x3e E[Resource Quotas]\n        A --\x3e F[Configurations]\n        A --\x3e G[Registers]\n        A --\x3e H[Schemas]\n    end\n    \n    style A fill:#e3f2fd\n    style B fill:#fff3e0\n    style C fill:#ffe0b2\n    style D fill:#c8e6c9\n    style E fill:#f3e5f5\n    style F fill:#e1f5fe\n    style G fill:#fff9c4\n    style H fill:#ffccbc"}),"\n",(0,t.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,t.jsx)(n.h3,{id:"organisation-integration",children:"Organisation Integration"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Applications can be assigned to organisations"}),"\n",(0,t.jsx)(n.li,{children:"Inherit organisation-level access controls"}),"\n",(0,t.jsx)(n.li,{children:"Support multi-tenant deployments"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"group-based-access-control",children:"Group-Based Access Control"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Restrict access using Nextcloud groups"}),"\n",(0,t.jsx)(n.li,{children:"Multiple groups can be assigned"}),"\n",(0,t.jsx)(n.li,{children:"Leave empty for open access to all users"}),"\n",(0,t.jsx)(n.li,{children:"Integrates with Nextcloud's native group system"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"resource-management",children:"Resource Management"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Storage Quota"}),": Limit total storage per application (0 = unlimited)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Bandwidth Quota"}),": Monthly bandwidth limits (0 = unlimited)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"API Request Quota"}),": Daily API request limits (0 = unlimited)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"configuration-management",children:"Configuration Management"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Associate configurations with applications"}),"\n",(0,t.jsx)(n.li,{children:"Link registers and schemas"}),"\n",(0,t.jsx)(n.li,{children:"Package complete application functionality"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"creating-an-application",children:"Creating an Application"}),"\n",(0,t.jsx)(n.h3,{id:"via-ui",children:"Via UI"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"Applications"})," in the OpenRegister app"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Create Application"})]}),"\n",(0,t.jsx)(n.li,{children:"Fill in the application details in the modal:"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"basic-information-tab",children:"Basic Information Tab"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Name"})," (required): The application name"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Description"})," (optional): Detailed description of what the application does"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Organisation"})," (optional): Select which organisation owns this application"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Nextcloud Groups"}),": Select which groups have access to this application"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"resource-allocation-tab",children:"Resource Allocation Tab"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Storage Quota (MB)"}),": Set storage limit (0 = unlimited)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Bandwidth Quota (MB/month)"}),": Set monthly bandwidth limit (0 = unlimited)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"API Request Quota (requests/day)"}),": Set daily API request limit (0 = unlimited)"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"security-tab",children:"Security Tab"}),"\n",(0,t.jsx)(n.p,{children:"View and manage the list of Nextcloud groups that have access to this application"}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Create"})," to save the application"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"via-api",children:"Via API"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"POST /index.php/apps/openregister/api/applications\nContent-Type: application/json\n\n{\n  'name': 'Research Portal',\n  'description': 'Application for research data management',\n  'organisation': 1,\n  'groups': [\n    'researchers',\n    'lab-managers'\n  ],\n  'storageQuota': 10737418240,  // 10GB in bytes\n  'bandwidthQuota': 53687091200, // 50GB in bytes\n  'requestQuota': 5000\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"managing-application-groups",children:"Managing Application Groups"}),"\n",(0,t.jsx)(n.h3,{id:"group-assignment",children:"Group Assignment"}),"\n",(0,t.jsx)(n.p,{children:"Applications use Nextcloud groups to control access. Only users who belong to at least one of the assigned groups can access the application."}),"\n",(0,t.jsx)(n.h4,{id:"adding-groups",children:"Adding Groups"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"Applications"})]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Edit"})," on an application"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Basic Information Tab"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use the 'Nextcloud Groups' multi-select dropdown"}),"\n",(0,t.jsx)(n.li,{children:"Select one or more groups"}),"\n",(0,t.jsx)(n.li,{children:"Groups are saved when you click Save"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Security Tab"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"View the complete list of assigned groups"}),"\n",(0,t.jsx)(n.li,{children:"Remove individual groups with the X button"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"group-access-logic",children:"Group Access Logic"}),"\n",(0,t.jsx)(n.mermaid,{value:"graph TD\n    A[User Requests Access] --\x3e B{Application has groups?}\n    B --\x3e|No groups assigned| C[Allow Access]\n    B --\x3e|Groups assigned| D{User in any group?}\n    D --\x3e|Yes| C\n    D --\x3e|No| E[Deny Access]\n    \n    F{Application has organisation?} --\x3e G{User in organisation?}\n    G --\x3e|No| E\n    G --\x3e|Yes| B\n    \n    A --\x3e F\n    \n    style C fill:#90EE90\n    style E fill:#FFB6C6"}),"\n",(0,t.jsx)(n.h3,{id:"how-application-access-works",children:"How Application Access Works"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Organisation Check"})," (if application belongs to organisation):"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"User must be a member of the application's organisation"}),"\n",(0,t.jsx)(n.li,{children:"If not a member \u2192 access denied"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Group Check"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If no groups assigned \u2192 all authorised users have access"}),"\n",(0,t.jsx)(n.li,{children:"If groups assigned \u2192 user must belong to at least one group"}),"\n",(0,t.jsx)(n.li,{children:"System administrators bypass group checks"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Resource Quotas"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Check if application is within quota limits"}),"\n",(0,t.jsx)(n.li,{children:"Deny operations that would exceed quotas"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant User\n    participant System\n    participant Application\n    participant Organisation\n    participant Groups as Nextcloud Groups\n    \n    User->>System: Request access to application\n    \n    alt Application has organisation\n        System->>Organisation: Check user membership\n        Organisation--\x3e>System: Membership status\n        \n        alt Not member\n            System--\x3e>User: Access Denied\n        end\n    end\n    \n    System->>Application: Check if groups assigned\n    \n    alt No groups assigned\n        Application--\x3e>System: Allow access\n    else Groups assigned\n        System->>Groups: Check user membership\n        Groups--\x3e>System: User group list\n        System->>Application: Verify user in allowed groups\n        \n        alt User in allowed group\n            Application--\x3e>System: Grant access\n        else User not in allowed group\n            Application--\x3e>System: Deny access\n        end\n    end\n    \n    System--\x3e>User: Access result"}),"\n",(0,t.jsx)(n.h2,{id:"editing-an-application",children:"Editing an Application"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"Applications"})]}),"\n",(0,t.jsx)(n.li,{children:"Find the application to edit"}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Actions"})," \u2192 ",(0,t.jsx)(n.strong,{children:"Edit"})]}),"\n",(0,t.jsxs)(n.li,{children:["Modify any of the tabs:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Basic Information (name, description, organisation, groups)"}),"\n",(0,t.jsx)(n.li,{children:"Resource Allocation (quotas)"}),"\n",(0,t.jsx)(n.li,{children:"Security (view/remove groups)"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Save"})," to apply changes"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"deleting-an-application",children:"Deleting an Application"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"Applications"})]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Actions"})," \u2192 ",(0,t.jsx)(n.strong,{children:"Delete"})]}),"\n",(0,t.jsx)(n.li,{children:"Confirm the deletion"}),"\n",(0,t.jsx)(n.li,{children:"The application is permanently removed"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note"}),": Deleting an application does not delete associated configurations, registers, schemas, or objects."]}),"\n",(0,t.jsx)(n.h2,{id:"application-properties",children:"Application Properties"}),"\n",(0,t.jsx)(n.h3,{id:"database-schema",children:"Database Schema"}),"\n",(0,t.jsx)(n.p,{children:"The Application entity includes these fields:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Field"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'uuid'"}),(0,t.jsx)(n.td,{children:"VARCHAR(255)"}),(0,t.jsx)(n.td,{children:"Unique identifier"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'name'"}),(0,t.jsx)(n.td,{children:"VARCHAR(255)"}),(0,t.jsx)(n.td,{children:"Application name (required)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'description'"}),(0,t.jsx)(n.td,{children:"TEXT"}),(0,t.jsx)(n.td,{children:"Detailed description"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'version'"}),(0,t.jsx)(n.td,{children:"VARCHAR(50)"}),(0,t.jsx)(n.td,{children:"Application version"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'organisation'"}),(0,t.jsx)(n.td,{children:"INTEGER"}),(0,t.jsx)(n.td,{children:"Organisation ID (nullable)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'groups'"}),(0,t.jsx)(n.td,{children:"JSON"}),(0,t.jsx)(n.td,{children:"Array of Nextcloud group definitions"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'configurations'"}),(0,t.jsx)(n.td,{children:"JSON"}),(0,t.jsx)(n.td,{children:"Array of configuration IDs"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'registers'"}),(0,t.jsx)(n.td,{children:"JSON"}),(0,t.jsx)(n.td,{children:"Array of register IDs"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'schemas'"}),(0,t.jsx)(n.td,{children:"JSON"}),(0,t.jsx)(n.td,{children:"Array of schema IDs"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'owner'"}),(0,t.jsx)(n.td,{children:"VARCHAR(255)"}),(0,t.jsx)(n.td,{children:"User who created the application"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'active'"}),(0,t.jsx)(n.td,{children:"BOOLEAN"}),(0,t.jsx)(n.td,{children:"Whether the application is active"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'storage_quota'"}),(0,t.jsx)(n.td,{children:"BIGINT"}),(0,t.jsx)(n.td,{children:"Storage limit in bytes (NULL = unlimited)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'bandwidth_quota'"}),(0,t.jsx)(n.td,{children:"BIGINT"}),(0,t.jsx)(n.td,{children:"Monthly bandwidth in bytes (NULL = unlimited)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'request_quota'"}),(0,t.jsx)(n.td,{children:"INTEGER"}),(0,t.jsx)(n.td,{children:"Daily API requests (NULL = unlimited)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'created'"}),(0,t.jsx)(n.td,{children:"DATETIME"}),(0,t.jsx)(n.td,{children:"Creation timestamp"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"'updated'"}),(0,t.jsx)(n.td,{children:"DATETIME"}),(0,t.jsx)(n.td,{children:"Last update timestamp"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"groups-json-structure",children:"Groups JSON Structure"}),"\n",(0,t.jsx)(n.p,{children:"Groups are stored as a simple array of group ID strings:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:"{\n  'groups': [\n    'group-id-1',\n    'group-id-2',\n    'group-id-3'\n  ]\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:"{\n  'groups': [\n    'engineers',\n    'managers',\n    'developers'\n  ]\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,t.jsx)(n.h3,{id:"department-application",children:"Department Application"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Application: 'Engineering Tools'\nOrganisation: Engineering Department\nGroups:\n  - 'engineers' (50 users) - Full access to engineering tools\n  - 'engineering-managers' (5 users) - Administrative access\n  - 'interns' (10 users) - Read-only access\nResource Quotas:\n  - Storage: 50 GB\n  - Bandwidth: 200 GB/month\n  - API Requests: 25,000/day\n"})}),"\n",(0,t.jsx)(n.h3,{id:"project-based-application",children:"Project-Based Application"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Application: 'Website Redesign Project'\nOrganisation: Marketing Department\nGroups:\n  - 'designers' (8 users) - Design tool access\n  - 'developers' (12 users) - Development tool access\n  - 'project-managers' (2 users) - Full project oversight\nResource Quotas:\n  - Storage: 30 GB\n  - Bandwidth: 100 GB/month\n  - API Requests: 10,000/day\n"})}),"\n",(0,t.jsx)(n.h3,{id:"client-application",children:"Client Application"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Application: 'Client Portal: Acme Corp'\nOrganisation: Acme Corp\nGroups:\n  - 'acme-admins' (3 users) - Client administrators\n  - 'acme-users' (100 users) - Regular client users\n  - 'support-staff' (10 users) - Internal support team\nResource Quotas:\n  - Storage: 200 GB\n  - Bandwidth: 500 GB/month\n  - API Requests: 50,000/day\n"})}),"\n",(0,t.jsx)(n.h3,{id:"open-application",children:"Open Application"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Application: 'Company Directory'\nOrganisation: (none)\nGroups: (empty)\nAccess: All authenticated users can access\nResource Quotas:\n  - Storage: Unlimited\n  - Bandwidth: Unlimited\n  - API Requests: Unlimited\n"})}),"\n",(0,t.jsx)(n.h2,{id:"access-control-combinations",children:"Access Control Combinations"}),"\n",(0,t.jsx)(n.p,{children:"Applications support various access control patterns:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Organisation"}),(0,t.jsx)(n.th,{children:"Groups"}),(0,t.jsx)(n.th,{children:"Result"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"None"}),(0,t.jsx)(n.td,{children:"None"}),(0,t.jsx)(n.td,{children:"All authenticated users"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"None"}),(0,t.jsx)(n.td,{children:"Assigned"}),(0,t.jsx)(n.td,{children:"Users in any assigned group"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Assigned"}),(0,t.jsx)(n.td,{children:"None"}),(0,t.jsx)(n.td,{children:"All organisation members"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Assigned"}),(0,t.jsx)(n.td,{children:"Assigned"}),(0,t.jsx)(n.td,{children:"Organisation members in assigned groups"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"naming-and-organisation",children:"Naming and Organisation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use descriptive application names"}),"\n",(0,t.jsx)(n.li,{children:"Group related functionality in a single application"}),"\n",(0,t.jsx)(n.li,{children:"Assign applications to organisations for better structure"}),"\n",(0,t.jsx)(n.li,{children:"Document the application's purpose in the description"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"group-management",children:"Group Management"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2705 Use descriptive Nextcloud group names ('marketing-editors' not 'group1')"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Start with specific groups assigned, not open to all"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Combine with organisation assignment for layered access control"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Regularly audit group membership"}),"\n",(0,t.jsx)(n.li,{children:"\u274c Don't mix unrelated permissions in a single group"}),"\n",(0,t.jsx)(n.li,{children:"\u274c Don't leave sensitive applications open to all users"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"resource-quotas",children:"Resource Quotas"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Set realistic quotas based on expected usage"}),"\n",(0,t.jsx)(n.li,{children:"Monitor quota usage regularly"}),"\n",(0,t.jsx)(n.li,{children:"Use 0 for unlimited where appropriate"}),"\n",(0,t.jsx)(n.li,{children:"Consider application complexity when setting quotas"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"security",children:"Security"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Only assign necessary groups to each application"}),"\n",(0,t.jsx)(n.li,{children:"Regularly review and update group assignments"}),"\n",(0,t.jsx)(n.li,{children:"Use the Security tab to audit current access"}),"\n",(0,t.jsx)(n.li,{children:"Combine organisation and group restrictions for sensitive applications"}),"\n",(0,t.jsx)(n.li,{children:"Remove inactive users from groups promptly"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,t.jsx)(n.h3,{id:"list-applications",children:"List Applications"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"GET /index.php/apps/openregister/api/applications\n"})}),"\n",(0,t.jsx)(n.h3,{id:"get-application",children:"Get Application"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"GET /index.php/apps/openregister/api/applications/{uuid}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"create-application",children:"Create Application"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"POST /index.php/apps/openregister/api/applications\nContent-Type: application/json\n\n{\n  'name': 'My Application',\n  'description': 'Application description',\n  'organisation': 1,\n  'groups': [\n    'group-1',\n    'group-2'\n  ]\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"update-application",children:"Update Application"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"PUT /index.php/apps/openregister/api/applications/{uuid}\nContent-Type: application/json\n\n{\n  'name': 'Updated Name',\n  'groups': [\n    'group-1',\n    'group-2',\n    'group-3'\n  ]\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"delete-application",children:"Delete Application"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DELETE /index.php/apps/openregister/api/applications/{uuid}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"cannot-create-application",children:"Cannot Create Application"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": Create button is disabled"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution"}),": Ensure the name field is filled in - it's required."]}),"\n",(0,t.jsx)(n.h3,{id:"groups-not-appearing",children:"Groups Not Appearing"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": Group dropdown is empty"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Verify Nextcloud groups exist: Settings \u2192 Users \u2192 Groups"}),"\n",(0,t.jsxs)(n.li,{children:["Check OCS API access: 'curl -u admin",":password"," ",(0,t.jsx)(n.a,{href:"http://nextcloud/ocs/v1.php/cloud/groups?format=json",children:"http://nextcloud/ocs/v1.php/cloud/groups?format=json"}),"'"]}),"\n",(0,t.jsx)(n.li,{children:"Review browser console for errors"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"groups-not-saving",children:"Groups Not Saving"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": Selected groups are not persisted"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Verify you clicked Save (not just closed the modal)"}),"\n",(0,t.jsx)(n.li,{children:"Check browser console for API errors"}),"\n",(0,t.jsx)(n.li,{children:"Ensure you have write permissions for applications"}),"\n",(0,t.jsx)(n.li,{children:"Check database column exists: 'SHOW COLUMNS FROM oc_openregister_applications LIKE (groups)'"}),"\n",(0,t.jsxs)(n.li,{children:["Run migrations: 'php occ migrations",":migrate"," openregister'"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"access-denied-despite-group-membership",children:"Access Denied Despite Group Membership"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": User is in the assigned group but cannot access"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Verify user is in the group: Settings \u2192 Users \u2192 search user"}),"\n",(0,t.jsx)(n.li,{children:"Check if application belongs to an organisation and user is a member"}),"\n",(0,t.jsx)(n.li,{children:"Check if application is active"}),"\n",(0,t.jsx)(n.li,{children:"Clear user session and login again"}),"\n",(0,t.jsx)(n.li,{children:"Review server logs for detailed errors"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"resource-quota-exceeded",children:"Resource Quota Exceeded"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": Cannot perform operations due to quota limits"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Check current usage in application details"}),"\n",(0,t.jsx)(n.li,{children:"Request quota increase from administrator"}),"\n",(0,t.jsx)(n.li,{children:"Clean up unused objects and files"}),"\n",(0,t.jsx)(n.li,{children:"Archive old data"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"php-api-examples",children:"PHP API Examples"}),"\n",(0,t.jsx)(n.h3,{id:"create-application-with-groups",children:"Create Application with Groups"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"use OCA\\OpenRegister\\Service\\ApplicationService;\n\n$application = $applicationService->createApplication(\n    'Research Portal',\n    'Application for research data management'\n);\n\n// Assign groups (just the IDs)\n$application->setGroups([\n    'researchers',\n    'lab-managers'\n]);\n\n// Assign to organisation\n$application->setOrganisation(1);\n\n// Set quotas\n$application->setStorageQuota(10737418240);  // 10GB\n$application->setBandwidthQuota(53687091200); // 50GB\n$application->setRequestQuota(5000);          // 5k requests/day\n\n$applicationMapper->update($application);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"check-user-access",children:"Check User Access"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Check if user can access application\n$hasAccess = $applicationService->userHasAccess($application, $userId);\n\nif ($hasAccess) {\n    // Allow access to application\n} else {\n    // Deny access\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"get-users-accessible-applications",children:"Get User's Accessible Applications"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"// Get all applications the user can access\n$applications = $applicationService->getUserApplications($userId);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"integration-with-other-features",children:"Integration with Other Features"}),"\n",(0,t.jsx)(n.h3,{id:"with-organisations",children:"With Organisations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Applications can belong to organisations"}),"\n",(0,t.jsx)(n.li,{children:"Organisation membership is checked first"}),"\n",(0,t.jsx)(n.li,{children:"Groups provide additional layer of access control within organisation"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"with-configurations",children:"With Configurations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Applications can have multiple configurations"}),"\n",(0,t.jsx)(n.li,{children:"Configurations package registers and schemas for the application"}),"\n",(0,t.jsx)(n.li,{children:"Export/import applications with their configurations"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"with-rbac",children:"With RBAC"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Application access control works alongside schema-level RBAC"}),"\n",(0,t.jsx)(n.li,{children:"Users must pass both application and schema access checks"}),"\n",(0,t.jsx)(n.li,{children:"Provides granular control at multiple levels"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/Features/organisations",children:"Organisations"})," - Organisation management"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/Features/configurations",children:"Configurations"})," - Configuration management"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/Features/access-control",children:"Access Control"})," - RBAC and security"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/Features/multi-tenancy",children:"Multi-Tenancy"})," - Multi-tenancy system"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/features/organisation-roles",children:"Organisation Roles"})," - Detailed RBAC documentation"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.nextcloud.com/server/latest/admin_manual/configuration_user/user_configuration.html",children:"Nextcloud Groups"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);