(self.webpackChunkopen_catalogi_docs=self.webpackChunkopen_catalogi_docs||[]).push([[8839],{7411:()=>{},11117:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"Features/text-extraction-vectorization-ner","title":"Text Extraction, Vectorization & Named Entity Recognition","description":"Unified documentation for text extraction, vectorization, and named entity recognition (NER)","source":"@site/docs/Features/text-extraction-vectorization-ner.md","sourceDirName":"Features","slug":"/Features/text-extraction-vectorization-ner","permalink":"/docs/Features/text-extraction-vectorization-ner","draft":false,"unlisted":false,"editUrl":"https://github.com/conductionnl/openregister/tree/main/website/docs/Features/text-extraction-vectorization-ner.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Text Extraction, Vectorization & Named Entity Recognition","sidebar_position":3,"description":"Unified documentation for text extraction, vectorization, and named entity recognition (NER)","keywords":["Text Extraction","Vectorization","Named Entity Recognition","NER","Chunking","Embeddings","RAG"]},"sidebar":"tutorialSidebar","previous":{"title":"Objects","permalink":"/docs/Features/objects"},"next":{"title":"Sources","permalink":"/docs/Features/sources"}}');var r=t(74848),s=t(28453);t(45673),t(65537),t(79329);const a={title:"Text Extraction, Vectorization & Named Entity Recognition",sidebar_position:3,description:"Unified documentation for text extraction, vectorization, and named entity recognition (NER)",keywords:["Text Extraction","Vectorization","Named Entity Recognition","NER","Chunking","Embeddings","RAG"]},c="Text Extraction, Vectorization & Named Entity Recognition",l={},d=[{value:"Overview",id:"overview",level:2},{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"Stage 1: Text Extraction",id:"stage-1-text-extraction",level:2},{value:"Handler Architecture",id:"handler-architecture",level:3},{value:"File Handler",id:"file-handler",level:3},{value:"Object Handler",id:"object-handler",level:3},{value:"Extraction Output",id:"extraction-output",level:3},{value:"Stage 2: Chunking",id:"stage-2-chunking",level:2},{value:"Chunking Strategies",id:"chunking-strategies",level:3},{value:"1. Recursive Character Splitting (Recommended)",id:"1-recursive-character-splitting-recommended",level:4},{value:"2. Fixed Size Splitting",id:"2-fixed-size-splitting",level:4},{value:"Chunk Structure",id:"chunk-structure",level:3},{value:"Chunk Storage",id:"chunk-storage",level:3},{value:"Stage 3: Vectorization",id:"stage-3-vectorization",level:2},{value:"Vectorization Flow",id:"vectorization-flow",level:3},{value:"Vectorization Strategies",id:"vectorization-strategies",level:3},{value:"File Strategy",id:"file-strategy",level:4},{value:"Object Strategy",id:"object-strategy",level:4},{value:"Embedding Models",id:"embedding-models",level:3},{value:"Vector Storage",id:"vector-storage",level:3},{value:"Semantic Search",id:"semantic-search",level:3},{value:"Stage 4: Named Entity Recognition (NER)",id:"stage-4-named-entity-recognition-ner",level:2},{value:"NER Flow",id:"ner-flow",level:3},{value:"Entity Types",id:"entity-types",level:3},{value:"Detection Methods",id:"detection-methods",level:3},{value:"1. Regex Patterns (Local)",id:"1-regex-patterns-local",level:4},{value:"2. Presidio (External Service)",id:"2-presidio-external-service",level:4},{value:"3. LLM-Based (AI)",id:"3-llm-based-ai",level:4},{value:"4. Hybrid Approach (Recommended)",id:"4-hybrid-approach-recommended",level:4},{value:"Entity Storage",id:"entity-storage",level:3},{value:"Entity Table",id:"entity-table",level:4},{value:"Entity Relation Table",id:"entity-relation-table",level:4},{value:"Complete Processing Flow",id:"complete-processing-flow",level:2},{value:"Integration Points",id:"integration-points",level:2},{value:"Text Extraction \u2192 Chunking",id:"text-extraction--chunking",level:3},{value:"Chunking \u2192 Vectorization",id:"chunking--vectorization",level:3},{value:"Chunking \u2192 NER",id:"chunking--ner",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Text Extraction Settings",id:"text-extraction-settings",level:3},{value:"Vectorization Settings",id:"vectorization-settings",level:3},{value:"NER Settings",id:"ner-settings",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Processing Times",id:"processing-times",level:3},{value:"Recommendations",id:"recommendations",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"Use Case 1: Document Search with RAG",id:"use-case-1-document-search-with-rag",level:3},{value:"Use Case 2: GDPR Compliance Audit",id:"use-case-2-gdpr-compliance-audit",level:3},{value:"Use Case 3: Multi-Modal Content Search",id:"use-case-3-multi-modal-content-search",level:3},{value:"API Examples",id:"api-examples",level:2},{value:"Extract Text from File",id:"extract-text-from-file",level:3},{value:"Vectorize Chunks",id:"vectorize-chunks",level:3},{value:"Extract Entities from Chunk",id:"extract-entities-from-chunk",level:3},{value:"Semantic Search",id:"semantic-search-1",level:3},{value:"Future Enhancements",id:"future-enhancements",level:2},{value:"Planned Handlers",id:"planned-handlers",level:3},{value:"Planned Features",id:"planned-features",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"Feature Documentation",id:"feature-documentation",level:3},{value:"Technical Documentation",id:"technical-documentation",level:3}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"text-extraction-vectorization--named-entity-recognition",children:"Text Extraction, Vectorization & Named Entity Recognition"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"OpenRegister's content processing system transforms raw content (files, objects, emails, calendar items) into searchable, analyzable, and AI-ready data through three main services:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Text Extraction"})," - Convert content to text and chunk it"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Vectorization"})," - Generate semantic embeddings for RAG"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Named Entity Recognition (NER)"})," - Extract entities for GDPR compliance"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,r.jsx)(n.mermaid,{value:"graph TB\n    subgraph Sources[Content Sources]\n        Files[Files<br/>PDF, DOCX, Images]\n        Objects[Objects<br/>Structured Data]\n        Emails[Emails<br/>Mail Threads]\n        Calendar[Calendar Items<br/>Events]\n    end\n    \n    subgraph Extraction[Text Extraction Service]\n        FileHandler[FileHandler]\n        ObjectHandler[ObjectHandler]\n        EmailHandler[EmailHandler<br/>Future]\n        CalendarHandler[CalendarHandler<br/>Future]\n    end\n    \n    subgraph Chunking[Chunking Service]\n        Chunker[Smart Chunking<br/>Recursive/Fixed]\n    end\n    \n    subgraph Enhancement[Enhancement Pipeline]\n        Vectorization[VectorizationService<br/>Generate Embeddings]\n        NER[NamedEntityRecognitionService<br/>Extract Entities]\n        SolrIndexing[Solr Indexing<br/>Full-Text Search]\n        LanguageDetect[Language Detection<br/>Future]\n    end\n    \n    subgraph Storage[Storage]\n        ChunksDB[(Chunks Table)]\n        VectorsDB[(Vectors Table)]\n        EntitiesDB[(Entities Table)]\n        RelationsDB[(Entity Relations)]\n    end\n    \n    Files --\x3e FileHandler\n    Objects --\x3e ObjectHandler\n    Emails --\x3e EmailHandler\n    Calendar --\x3e CalendarHandler\n    \n    FileHandler --\x3e Chunker\n    ObjectHandler --\x3e Chunker\n    EmailHandler --\x3e Chunker\n    CalendarHandler --\x3e Chunker\n    \n    Chunker --\x3e ChunksDB\n    \n    ChunksDB --\x3e Vectorization\n    ChunksDB --\x3e NER\n    ChunksDB --\x3e SolrIndexing\n    ChunksDB --\x3e LanguageDetect\n    \n    Vectorization --\x3e VectorsDB\n    NER --\x3e EntitiesDB\n    NER --\x3e RelationsDB\n    \n    style Sources fill:#e3f2fd,stroke:#1976d2,stroke-width:2px\n    style Extraction fill:#fff9c4,stroke:#f57f17,stroke-width:2px\n    style Chunking fill:#c8e6c9,stroke:#388e3c,stroke-width:2px\n    style Enhancement fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px\n    style Storage fill:#b39ddb,stroke:#5e35b1,stroke-width:2px"}),"\n",(0,r.jsx)(n.h2,{id:"stage-1-text-extraction",children:"Stage 1: Text Extraction"}),"\n",(0,r.jsx)(n.p,{children:"The Text Extraction Service uses a handler-based architecture to extract text from different source types."}),"\n",(0,r.jsx)(n.h3,{id:"handler-architecture",children:"Handler Architecture"}),"\n",(0,r.jsx)(n.mermaid,{value:"classDiagram\n    class TextExtractionHandlerInterface {\n        <<interface>>\n        +getSourceType() string\n        +extractText(int, array, bool) array\n        +needsExtraction(int, int, bool) bool\n        +getSourceMetadata(int) array\n        +getSourceTimestamp(int) int\n    }\n    \n    class FileHandler {\n        +extractText() array\n        +performTextExtraction() string\n        -detectLanguage() array\n    }\n    \n    class ObjectHandler {\n        +extractText() array\n        -extractTextFromArray() string\n    }\n    \n    class EmailHandler {\n        +extractText() array\n        -extractFromHeaders() string\n        -extractFromBody() string\n    }\n    \n    class CalendarHandler {\n        +extractText() array\n        -extractFromEvent() string\n    }\n    \n    TextExtractionHandlerInterface <|.. FileHandler\n    TextExtractionHandlerInterface <|.. ObjectHandler\n    TextExtractionHandlerInterface <|.. EmailHandler\n    TextExtractionHandlerInterface <|.. CalendarHandler"}),"\n",(0,r.jsx)(n.h3,{id:"file-handler",children:"File Handler"}),"\n",(0,r.jsx)(n.p,{children:"Extracts text from Nextcloud files using various extraction methods:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Supported Formats:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Documents"}),": PDF, DOCX, DOC, ODT, RTF"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Spreadsheets"}),": XLSX, XLS, CSV"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Presentations"}),": PPTX"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Text Files"}),": TXT, MD, HTML, JSON, XML"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Images"}),": JPG, PNG, GIF, WebP, TIFF (via OCR)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Extraction Methods:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"LLPhant"}),": Local PHP-based extraction"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Dolphin"}),": AI-powered extraction with OCR"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Native"}),": Direct text reading for plain text files"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"object-handler",children:"Object Handler"}),"\n",(0,r.jsx)(n.p,{children:"Converts OpenRegister objects to text by concatenating property values:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Process:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Extract schema and register information"}),"\n",(0,r.jsx)(n.li,{children:"Flatten nested object structures"}),"\n",(0,r.jsx)(n.li,{children:"Concatenate property values with context"}),"\n",(0,r.jsx)(n.li,{children:"Add metadata (UUID, version, organization)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'Input Object:\n{\n  "firstName": "Jane",\n  "lastName": "Smith",\n  "email": "jane@example.com",\n  "company": {\n    "name": "Acme Corp",\n    "industry": "Technology"\n  }\n}\n\nExtracted Text:\n"Object ID: 550e8400-...\nType: Contact\nRegister: Customers\nfirstName: Jane\nlastName: Smith\nemail: jane@example.com\ncompany.name: Acme Corp\ncompany.industry: Technology\nOrganization: Acme Corp"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"extraction-output",children:"Extraction Output"}),"\n",(0,r.jsx)(n.p,{children:"All handlers return a standardized payload:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "source_type": "file|object|email|calendar",\n  "source_id": 12345,\n  "text": "Full extracted text...",\n  "length": 1234,\n  "checksum": "sha256_hash",\n  "method": "extraction_method",\n  "owner": "user_id",\n  "organisation": "org_id",\n  "language": "en",\n  "language_level": "B2",\n  "language_confidence": 0.95,\n  "detection_method": "auto",\n  "metadata": {\n    "file_path": "/path/to/file.pdf",\n    "mime_type": "application/pdf",\n    "file_size": 245678\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"stage-2-chunking",children:"Stage 2: Chunking"}),"\n",(0,r.jsx)(n.p,{children:"Text is split into manageable chunks optimized for processing and search."}),"\n",(0,r.jsx)(n.h3,{id:"chunking-strategies",children:"Chunking Strategies"}),"\n",(0,r.jsx)(n.h4,{id:"1-recursive-character-splitting-recommended",children:"1. Recursive Character Splitting (Recommended)"}),"\n",(0,r.jsx)(n.p,{children:"Smart splitting that respects natural text boundaries:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Priority Order:\n1. Paragraph breaks (\\n\\n)\n2. Sentence endings (. ! ?)\n3. Line breaks (\\n)\n4. Commas and semicolons\n5. Word boundaries (spaces)\n6. Character split (fallback)\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Best for"}),": Natural language documents, articles, reports"]}),"\n",(0,r.jsx)(n.h4,{id:"2-fixed-size-splitting",children:"2. Fixed Size Splitting"}),"\n",(0,r.jsx)(n.p,{children:"Mechanical splitting with overlap:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Settings:\n- Chunk size: 1000 characters\n- Overlap: 200 characters\n- Minimum chunk: 100 characters\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Best for"}),": Structured data, code, logs"]}),"\n",(0,r.jsx)(n.h3,{id:"chunk-structure",children:"Chunk Structure"}),"\n",(0,r.jsx)(n.p,{children:"Each chunk contains:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "uuid": "chunk-uuid",\n  "source_type": "file",\n  "source_id": 12345,\n  "text_content": "The actual chunk content...",\n  "start_offset": 0,\n  "end_offset": 1000,\n  "chunk_index": 0,\n  "checksum": "sha256_hash",\n  "language": "en",\n  "language_level": "B2",\n  "language_confidence": 0.95,\n  "detection_method": "auto",\n  "indexed": false,\n  "vectorized": false,\n  "position_reference": {\n    "type": "chunk",\n    "source_type": "file",\n    "source_id": 12345\n  },\n  "created_at": "2025-01-15T10:30:00Z",\n  "updated_at": "2025-01-15T10:30:00Z"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"chunk-storage",children:"Chunk Storage"}),"\n",(0,r.jsxs)(n.p,{children:["Chunks are stored in the ",(0,r.jsx)(n.code,{children:"openregister_chunks"})," table with:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Full text content"}),"\n",(0,r.jsx)(n.li,{children:"Source references"}),"\n",(0,r.jsx)(n.li,{children:"Position information"}),"\n",(0,r.jsx)(n.li,{children:"Language metadata"}),"\n",(0,r.jsx)(n.li,{children:"Processing flags (indexed, vectorized)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"stage-3-vectorization",children:"Stage 3: Vectorization"}),"\n",(0,r.jsx)(n.p,{children:"The VectorizationService generates semantic embeddings for RAG (Retrieval Augmented Generation) and semantic search."}),"\n",(0,r.jsx)(n.h3,{id:"vectorization-flow",children:"Vectorization Flow"}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant Chunk\n    participant VectorService as VectorizationService\n    participant EmbeddingService as VectorEmbeddingService\n    participant Strategy as VectorizationStrategy\n    participant Storage as Vector Storage\n    \n    Chunk->>VectorService: Process chunk\n    VectorService->>Strategy: Get strategy for source type\n    Strategy->>Strategy: Extract vectorization items\n    Strategy->>Strategy: Prepare metadata\n    Strategy->>EmbeddingService: Generate embedding\n    EmbeddingService->>EmbeddingService: Call LLM API\n    EmbeddingService--\x3e>Strategy: Return embedding vector\n    Strategy->>Storage: Store vector with metadata\n    Storage--\x3e>Chunk: Mark as vectorized"}),"\n",(0,r.jsx)(n.h3,{id:"vectorization-strategies",children:"Vectorization Strategies"}),"\n",(0,r.jsx)(n.h4,{id:"file-strategy",children:"File Strategy"}),"\n",(0,r.jsx)(n.p,{children:"Processes file chunks individually:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// Each file chunk gets its own vector\nChunk 0: [0.123, -0.456, 0.789, ...]\nChunk 1: [0.234, -0.567, 0.890, ...]\nChunk 2: [0.345, -0.678, 0.901, ...]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Metadata includes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"File ID and path"}),"\n",(0,r.jsx)(n.li,{children:"Chunk index"}),"\n",(0,r.jsx)(n.li,{children:"Total chunks"}),"\n",(0,r.jsx)(n.li,{children:"File name and type"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"object-strategy",children:"Object Strategy"}),"\n",(0,r.jsx)(n.p,{children:"Processes entire objects as single vectors:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// Object gets one vector representing all content\nObject 12345: [0.123, -0.456, 0.789, ...]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Metadata includes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Object UUID"}),"\n",(0,r.jsx)(n.li,{children:"Schema and register"}),"\n",(0,r.jsx)(n.li,{children:"Version information"}),"\n",(0,r.jsx)(n.li,{children:"Organization"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"embedding-models",children:"Embedding Models"}),"\n",(0,r.jsx)(n.p,{children:"Supported embedding providers:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Provider"}),(0,r.jsx)(n.th,{children:"Models"}),(0,r.jsx)(n.th,{children:"Dimensions"}),(0,r.jsx)(n.th,{children:"Use Case"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"OpenAI"})}),(0,r.jsxs)(n.td,{children:["text-embedding-ada-002",(0,r.jsx)("br",{}),"text-embedding-3-small",(0,r.jsx)("br",{}),"text-embedding-3-large"]}),(0,r.jsxs)(n.td,{children:["1536",(0,r.jsx)("br",{}),"1536",(0,r.jsx)("br",{}),"3072"]}),(0,r.jsx)(n.td,{children:"General purpose, high quality"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Fireworks AI"})}),(0,r.jsxs)(n.td,{children:["nomic-ai/nomic-embed-text-v1.5",(0,r.jsx)("br",{}),"thenlper/gte-base"]}),(0,r.jsxs)(n.td,{children:["768",(0,r.jsx)("br",{}),"768"]}),(0,r.jsx)(n.td,{children:"Cost-effective, fast"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Ollama"})}),(0,r.jsx)(n.td,{children:"nomic-embed-text"}),(0,r.jsx)(n.td,{children:"384"}),(0,r.jsx)(n.td,{children:"Local, privacy-friendly"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"vector-storage",children:"Vector Storage"}),"\n",(0,r.jsx)(n.p,{children:"Vectors can be stored in:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Database"})," (",(0,r.jsx)(n.code,{children:"openregister_vectors"})," table)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Serialized binary format"}),"\n",(0,r.jsx)(n.li,{children:"Good for small to medium datasets"}),"\n",(0,r.jsx)(n.li,{children:"Enables PHP-based similarity search"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solr"})," (Dense Vector Fields)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Native vector support"}),"\n",(0,r.jsx)(n.li,{children:"KNN (K-Nearest Neighbors) search"}),"\n",(0,r.jsx)(n.li,{children:"Scalable for large datasets"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"semantic-search",children:"Semantic Search"}),"\n",(0,r.jsx)(n.p,{children:"Once vectorized, content can be searched semantically:"}),"\n",(0,r.jsx)(n.mermaid,{value:"graph LR\n    A[User Query] --\x3e B[Generate Query Embedding]\n    B --\x3e C[Vector Search]\n    C --\x3e D{KNN Search}\n    D --\x3e E[Solr KNN]\n    D --\x3e F[Database Cosine]\n    E --\x3e G[Ranked Results]\n    F --\x3e G\n    G --\x3e H[Return Top N]\n    \n    style A fill:#e3f2fd\n    style B fill:#fff9c4\n    style C fill:#c8e6c9\n    style G fill:#b39ddb"}),"\n",(0,r.jsx)(n.h2,{id:"stage-4-named-entity-recognition-ner",children:"Stage 4: Named Entity Recognition (NER)"}),"\n",(0,r.jsx)(n.p,{children:"The NamedEntityRecognitionService extracts entities (persons, organizations, emails, etc.) for GDPR compliance and data classification."}),"\n",(0,r.jsx)(n.h3,{id:"ner-flow",children:"NER Flow"}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant Chunk\n    participant NER as NamedEntityRecognitionService\n    participant Detector as Entity Detector\n    participant EntityDB as Entity Storage\n    participant RelationDB as Relation Storage\n    \n    Chunk->>NER: Extract entities\n    NER->>Detector: Detect entities (regex/presidio/llm)\n    Detector->>Detector: Find entities in text\n    Detector->>Detector: Calculate confidence\n    Detector--\x3e>NER: Return detected entities\n    \n    loop For each entity\n        NER->>EntityDB: Find or create entity\n        EntityDB--\x3e>NER: Entity ID\n        NER->>RelationDB: Create entity relation\n        RelationDB--\x3e>NER: Relation created\n    end\n    \n    NER--\x3e>Chunk: Entities extracted"}),"\n",(0,r.jsx)(n.h3,{id:"entity-types",children:"Entity Types"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Entity Type"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Examples"}),(0,r.jsx)(n.th,{children:"GDPR Category"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"PERSON"})}),(0,r.jsx)(n.td,{children:"Individual names"}),(0,r.jsx)(n.td,{children:"John Doe, Jane Smith"}),(0,r.jsx)(n.td,{children:"Personal Data"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"EMAIL"})}),(0,r.jsx)(n.td,{children:"Email addresses"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"mailto:john@example.com",children:"john@example.com"})}),(0,r.jsx)(n.td,{children:"Personal Data"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"PHONE"})}),(0,r.jsx)(n.td,{children:"Phone numbers"}),(0,r.jsx)(n.td,{children:"+31 6 12345678"}),(0,r.jsx)(n.td,{children:"Personal Data"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"ADDRESS"})}),(0,r.jsx)(n.td,{children:"Physical addresses"}),(0,r.jsx)(n.td,{children:"123 Main St, Amsterdam"}),(0,r.jsx)(n.td,{children:"Personal Data"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"ORGANIZATION"})}),(0,r.jsx)(n.td,{children:"Company/org names"}),(0,r.jsx)(n.td,{children:"Acme Corporation"}),(0,r.jsx)(n.td,{children:"Business Data"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"LOCATION"})}),(0,r.jsx)(n.td,{children:"Geographic locations"}),(0,r.jsx)(n.td,{children:"Amsterdam, Netherlands"}),(0,r.jsx)(n.td,{children:"Contextual Data"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"DATE"})}),(0,r.jsx)(n.td,{children:"Dates and times"}),(0,r.jsx)(n.td,{children:"2025-01-15, January 15th"}),(0,r.jsx)(n.td,{children:"Temporal Data"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"IBAN"})}),(0,r.jsx)(n.td,{children:"Bank account numbers"}),(0,r.jsx)(n.td,{children:"NL91 ABNA 0417 1643 00"}),(0,r.jsx)(n.td,{children:"Sensitive PII"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"SSN"})}),(0,r.jsx)(n.td,{children:"Social security numbers"}),(0,r.jsx)(n.td,{children:"123-45-6789"}),(0,r.jsx)(n.td,{children:"Sensitive PII"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"IP_ADDRESS"})}),(0,r.jsx)(n.td,{children:"IP addresses"}),(0,r.jsx)(n.td,{children:"192.168.1.1"}),(0,r.jsx)(n.td,{children:"Contextual Data"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"detection-methods",children:"Detection Methods"}),"\n",(0,r.jsx)(n.h4,{id:"1-regex-patterns-local",children:"1. Regex Patterns (Local)"}),"\n",(0,r.jsx)(n.p,{children:"Fast, privacy-friendly detection using regular expressions:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Advantages:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No external dependencies"}),"\n",(0,r.jsx)(n.li,{children:"Fast processing (~10-50ms per chunk)"}),"\n",(0,r.jsx)(n.li,{children:"Privacy-friendly (no data leaves server)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Limitations:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Lower accuracy for complex cases"}),"\n",(0,r.jsx)(n.li,{children:"Limited context awareness"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Supported Entities:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Email addresses"}),"\n",(0,r.jsx)(n.li,{children:"Phone numbers"}),"\n",(0,r.jsx)(n.li,{children:"IBANs"}),"\n",(0,r.jsx)(n.li,{children:"Basic patterns"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"2-presidio-external-service",children:"2. Presidio (External Service)"}),"\n",(0,r.jsx)(n.p,{children:"Microsoft's PII detection service:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Advantages:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"High accuracy"}),"\n",(0,r.jsx)(n.li,{children:"Specialized for PII detection"}),"\n",(0,r.jsx)(n.li,{children:"Maintained by experts"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Limitations:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Requires external service"}),"\n",(0,r.jsx)(n.li,{children:"Data sent to external API"}),"\n",(0,r.jsx)(n.li,{children:"Network latency"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"3-llm-based-ai",children:"3. LLM-Based (AI)"}),"\n",(0,r.jsx)(n.p,{children:"Context-aware entity extraction using Large Language Models:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Advantages:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Context-aware detection"}),"\n",(0,r.jsx)(n.li,{children:"Handles ambiguity"}),"\n",(0,r.jsx)(n.li,{children:"Can detect complex entities"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Limitations:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Slower processing (~500-2000ms per chunk)"}),"\n",(0,r.jsx)(n.li,{children:"Higher cost"}),"\n",(0,r.jsx)(n.li,{children:"Requires API access"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"4-hybrid-approach-recommended",children:"4. Hybrid Approach (Recommended)"}),"\n",(0,r.jsx)(n.p,{children:"Combines multiple methods for best results:"}),"\n",(0,r.jsx)(n.mermaid,{value:"graph TD\n    A[Text Chunk] --\x3e B[Regex Detection]\n    B --\x3e C{Confidence > 0.8?}\n    C --\x3e|Yes| D[Accept Entity]\n    C --\x3e|No| E[Presidio Validation]\n    E --\x3e F{Confidence > 0.9?}\n    F --\x3e|Yes| D\n    F --\x3e|No| G[LLM Validation]\n    G --\x3e H{Final Decision}\n    H --\x3e D\n    H --\x3e I[Reject Entity]\n    \n    style A fill:#e3f2fd\n    style D fill:#c8e6c9\n    style I fill:#ffccbc"}),"\n",(0,r.jsx)(n.h3,{id:"entity-storage",children:"Entity Storage"}),"\n",(0,r.jsx)(n.h4,{id:"entity-table",children:"Entity Table"}),"\n",(0,r.jsx)(n.p,{children:"Stores unique entities:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "id": 1,\n  "uuid": "entity-uuid",\n  "type": "PERSON",\n  "value": "John Doe",\n  "category": "personal_data",\n  "belongs_to_entity_id": null,\n  "metadata": {\n    "normalized": "john doe",\n    "aliases": ["J. Doe", "Johnny Doe"]\n  },\n  "detected_at": "2025-01-15T10:30:00Z",\n  "updated_at": "2025-01-15T10:30:00Z"\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"entity-relation-table",children:"Entity Relation Table"}),"\n",(0,r.jsx)(n.p,{children:"Links entities to chunk positions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "id": 1,\n  "entity_id": 1,\n  "chunk_id": 123,\n  "position_start": 45,\n  "position_end": 54,\n  "confidence": 0.95,\n  "detection_method": "hybrid",\n  "context": "...Contact John Doe at...",\n  "anonymized": false,\n  "created_at": "2025-01-15T10:30:00Z"\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"complete-processing-flow",children:"Complete Processing Flow"}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant Source as Content Source\n    participant Handler as Text Extraction Handler\n    participant Chunker as Chunking Service\n    participant Vectorizer as Vectorization Service\n    participant NER as NER Service\n    participant Storage as Storage Layer\n    \n    Source->>Handler: Content available\n    Handler->>Handler: Extract text\n    Handler->>Handler: Calculate checksum\n    Handler->>Handler: Detect language\n    Handler--\x3e>Chunker: Text payload\n    \n    Chunker->>Chunker: Apply chunking strategy\n    Chunker->>Storage: Store chunks\n    \n    par Parallel Enhancement\n        Storage->>Vectorizer: Process chunks\n        Vectorizer->>Vectorizer: Generate embeddings\n        Vectorizer->>Storage: Store vectors\n    and\n        Storage->>NER: Process chunks\n        NER->>NER: Detect entities\n        NER->>Storage: Store entities & relations\n    and\n        Storage->>Solr: Index chunks\n        Solr--\x3e>Storage: Indexed\n    end\n    \n    Storage--\x3e>Source: Processing complete"}),"\n",(0,r.jsx)(n.h2,{id:"integration-points",children:"Integration Points"}),"\n",(0,r.jsx)(n.h3,{id:"text-extraction--chunking",children:"Text Extraction \u2192 Chunking"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// TextExtractionService extracts text\n$payload = $handler->extractText($sourceId, $metadata);\n\n// Chunks are created\n$chunks = $textExtractionService->textToChunks($payload, $options);\n\n// Chunks are persisted\n$textExtractionService->persistChunksForSource(\n    $sourceType,\n    $sourceId,\n    $chunks,\n    $owner,\n    $organisation,\n    $timestamp,\n    $payload\n);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"chunking--vectorization",children:"Chunking \u2192 Vectorization"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// VectorizationService processes chunks\n$chunks = $chunkMapper->findBySource('file', $fileId);\n\nforeach ($chunks as $chunk) {\n    $vectorizationService->vectorizeEntity($chunk, $strategy);\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"chunking--ner",children:"Chunking \u2192 NER"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"// NamedEntityRecognitionService processes chunks\n$chunks = $chunkMapper->findBySource('file', $fileId);\n\nforeach ($chunks as $chunk) {\n    $nerService->extractFromChunk($chunk, [\n        'method' => 'hybrid',\n        'confidence_threshold' => 0.7\n    ]);\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"text-extraction-settings",children:"Text Extraction Settings"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Settings \u2192 OpenRegister \u2192 File Configuration"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Extraction Scope"}),": None, All Files, Specific Folders, Object Files"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Extraction Engine"}),": LLPhant or Dolphin"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Chunking Strategy"}),": Recursive or Fixed Size"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Chunk Size"}),": Default 1000 characters"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Chunk Overlap"}),": Default 200 characters"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"vectorization-settings",children:"Vectorization Settings"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Settings \u2192 OpenRegister \u2192 LLM Configuration"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Enable Vectorization"}),": Yes/No"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Embedding Provider"}),": OpenAI, Fireworks, Ollama"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Embedding Model"}),": Select model"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Vector Backend"}),": Database or Solr"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Batch Size"}),": Chunks per batch"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"ner-settings",children:"NER Settings"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Settings \u2192 OpenRegister \u2192 Text Analysis"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Enable Entity Extraction"}),": Yes/No"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Extraction Method"}),": Regex, Presidio, LLM, Hybrid"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Entity Types"}),": Select types to detect"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Confidence Threshold"}),": Minimum confidence (0.0-1.0)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Context Window"}),": Characters around entity (default: 50)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"processing-times",children:"Processing Times"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Stage"}),(0,r.jsx)(n.th,{children:"Time per Item"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Text Extraction"})}),(0,r.jsx)(n.td,{children:"2-60 seconds"}),(0,r.jsx)(n.td,{children:"Depends on file size and type"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Chunking"})}),(0,r.jsx)(n.td,{children:"50-100ms"}),(0,r.jsx)(n.td,{children:"Per 100KB of text"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Vectorization"})}),(0,r.jsx)(n.td,{children:"200-500ms"}),(0,r.jsx)(n.td,{children:"Per chunk (one-time)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"NER (Regex)"})}),(0,r.jsx)(n.td,{children:"10-50ms"}),(0,r.jsx)(n.td,{children:"Per chunk"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"NER (LLM)"})}),(0,r.jsx)(n.td,{children:"500-2000ms"}),(0,r.jsx)(n.td,{children:"Per chunk"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"recommendations",children:"Recommendations"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Batch Processing"}),": Process enhancements in background jobs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Selective Enhancement"}),": Only enable features you need"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hybrid NER"}),": Use fast regex first, validate with LLM only when needed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Vector Caching"}),": Cache embeddings to avoid regeneration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Incremental Processing"}),": Only process changed content (use checksums)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,r.jsx)(n.h3,{id:"use-case-1-document-search-with-rag",children:"Use Case 1: Document Search with RAG"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scenario"}),": Users need to search across documents semantically."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Process"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Files uploaded \u2192 Text extracted \u2192 Chunked"}),"\n",(0,r.jsx)(n.li,{children:"Chunks vectorized \u2192 Stored in vector database"}),"\n",(0,r.jsx)(n.li,{children:"User query \u2192 Generate query embedding"}),"\n",(0,r.jsx)(n.li,{children:"Semantic search \u2192 Find relevant chunks"}),"\n",(0,r.jsx)(n.li,{children:"Return results with context"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Result"}),': Users can search using natural language queries like "budget discussion with John" and find relevant content even if exact words don\'t match.']}),"\n",(0,r.jsx)(n.h3,{id:"use-case-2-gdpr-compliance-audit",children:"Use Case 2: GDPR Compliance Audit"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scenario"}),": Organization needs to identify all personal data."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Process"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"All content \u2192 Text extracted \u2192 Chunked"}),"\n",(0,r.jsx)(n.li,{children:"NER processes all chunks \u2192 Extracts entities"}),"\n",(0,r.jsx)(n.li,{children:"Entities stored \u2192 Linked to chunks"}),"\n",(0,r.jsx)(n.li,{children:"Generate GDPR report \u2192 Shows all PII locations"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Result"}),": Complete audit trail of where personal data appears in the system."]}),"\n",(0,r.jsx)(n.h3,{id:"use-case-3-multi-modal-content-search",children:"Use Case 3: Multi-Modal Content Search"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scenario"}),": Search across files, objects, emails, and calendar items."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Process"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"All sources \u2192 Unified text extraction"}),"\n",(0,r.jsx)(n.li,{children:"All content \u2192 Chunked consistently"}),"\n",(0,r.jsx)(n.li,{children:"All chunks \u2192 Vectorized with same model"}),"\n",(0,r.jsx)(n.li,{children:"Unified search \u2192 Returns results from all sources"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Result"}),": Single search interface finds content regardless of source type."]}),"\n",(0,r.jsx)(n.h2,{id:"api-examples",children:"API Examples"}),"\n",(0,r.jsx)(n.h3,{id:"extract-text-from-file",children:"Extract Text from File"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /api/files/12345/extract\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "chunks_created": 14,\n  "checksum": "sha256_hash"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"vectorize-chunks",children:"Vectorize Chunks"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:'POST /api/chunks/vectorize\nContent-Type: application/json\n\n{\n  "source_type": "file",\n  "source_id": 12345,\n  "provider": "openai"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "vectors_created": 14,\n  "model": "text-embedding-3-small",\n  "dimensions": 1536\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"extract-entities-from-chunk",children:"Extract Entities from Chunk"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:'POST /api/chunks/123/extract-entities\nContent-Type: application/json\n\n{\n  "method": "hybrid",\n  "confidence_threshold": 0.7\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "entities_found": 5,\n  "relations_created": 5,\n  "entities": [\n    {\n      "type": "PERSON",\n      "value": "John Doe",\n      "confidence": 0.95\n    },\n    {\n      "type": "EMAIL",\n      "value": "john@example.com",\n      "confidence": 0.9\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"semantic-search-1",children:"Semantic Search"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:'POST /api/search/semantic\nContent-Type: application/json\n\n{\n  "query": "budget discussion with John",\n  "limit": 10,\n  "filters": {\n    "source_type": ["file", "object"]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "results": [\n    {\n      "chunk_id": 123,\n      "source_type": "file",\n      "source_id": 12345,\n      "text": "...discussed budget with John Doe...",\n      "similarity": 0.87,\n      "metadata": {\n        "file_name": "meeting-notes.pdf",\n        "chunk_index": 3\n      }\n    }\n  ],\n  "total": 10\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"future-enhancements",children:"Future Enhancements"}),"\n",(0,r.jsx)(n.h3,{id:"planned-handlers",children:"Planned Handlers"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"EmailHandler"}),": Extract text from email threads"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CalendarHandler"}),": Extract text from calendar events"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ChatHandler"}),": Extract text from Talk conversations"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"planned-features",children:"Planned Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Incremental Processing"}),": Only process changed content"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Streaming Extraction"}),": Process large files in streams"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-Language Support"}),": Enhanced language detection"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Entity Linking"}),": Link related entities (person \u2192 email \u2192 phone)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Anonymization"}),": Automatic entity anonymization"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sentiment Analysis"}),": Per-chunk sentiment scoring"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Topic Modeling"}),": Automatic content categorization"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsx)(n.h3,{id:"feature-documentation",children:"Feature Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/features/text-extraction-sources",children:"Text Extraction Sources"})," - Detailed source-specific documentation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/features/text-extraction-enhanced",children:"Enhanced Text Extraction"})," - GDPR and language features"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/Features/ai",children:"AI Chat Interface"})," - RAG and semantic search usage"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/Features/search",children:"Search Features"})," - Search capabilities"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/Features/files",children:"Files Feature"})," - File management"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/Features/objects",children:"Objects Feature"})," - Object management"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"technical-documentation",children:"Technical Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/technical/text-extraction",children:"Text Extraction Technical Documentation"})," - Implementation details, database schema, handlers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/technical/vectorization",children:"Vectorization Technical Documentation"})," - Embedding generation, storage backends, performance"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/technical/named-entity-recognition",children:"Named Entity Recognition Technical Documentation"})," - Entity extraction, GDPR register, detection methods"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},28453:(e,n,t)=>{"use strict";t.d(n,{R:()=>a,x:()=>c});var i=t(96540);const r={},s=i.createContext(r);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:n},e.children)}},28825:()=>{},45673:(e,n,t)=>{"use strict";t.d(n,{A:()=>x});var i=t(96540),r=t(20053),s=t(44404),a=(t(34345),t(28794)),c=t(54022),l=t(72077);function d(e){const n=(0,l.kh)("docusaurus-plugin-redoc");return e?n?.[e]:Object.values(n??{})?.[0]}var o=t(74848);const h=e=>{let{id:n,example:t,pointer:l,...h}=e;const x=d(n),{store:u}=(0,c.r)(x);return(0,i.useEffect)((()=>{u.menu.dispose()}),[u]),(0,o.jsx)(s.ThemeProvider,{theme:u.options.theme,children:(0,o.jsx)("div",{className:(0,r.A)(["redocusaurus","redocusaurus-schema",t?null:"hide-example"]),children:(0,o.jsx)(a.SchemaDefinition,{parser:u.spec.parser,options:u.options,schemaRef:l,...h})})})};h.defaultProps={example:!1};const x=h},65537:(e,n,t)=>{"use strict";t.d(n,{A:()=>E});var i=t(96540),r=t(18215),s=t(65627),a=t(56347),c=t(50372),l=t(30604),d=t(11861),o=t(78749);function h(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function x(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:t,attributes:i,default:r}}=e;return{value:n,label:t,attributes:i,default:r}}))}(t);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function u(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function j(e){let{queryString:n=!1,groupId:t}=e;const r=(0,a.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(s),(0,i.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(r.location.search);n.set(s,e),r.replace({...r.location,search:n.toString()})}),[s,r])]}function g(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,s=x(e),[a,l]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:s}))),[d,h]=j({queryString:t,groupId:r}),[g,m]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,s]=(0,o.Dv)(t);return[r,(0,i.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:r}),p=(()=>{const e=d??g;return u({value:e,tabValues:s})?e:null})();(0,c.A)((()=>{p&&l(p)}),[p]);return{selectedValue:a,selectValue:(0,i.useCallback)((e=>{if(!u({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),m(e)}),[h,m,s]),tabValues:s}}var m=t(9136);const p={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=t(74848);function f(e){let{className:n,block:t,selectedValue:i,selectValue:a,tabValues:c}=e;const l=[],{blockElementScrollPositionUntilNextRender:d}=(0,s.a_)(),o=e=>{const n=e.currentTarget,t=l.indexOf(n),r=c[t].value;r!==i&&(d(n),a(r))},h=e=>{let n=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},n),children:c.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>{l.push(e)},onKeyDown:h,onClick:o,...s,className:(0,r.A)("tabs__item",p.tabItem,s?.className,{"tabs__item--active":i===n}),children:t??n},n)}))})}function b(e){let{lazy:n,children:t,selectedValue:s}=e;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===s));return e?(0,i.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function y(e){const n=g(e);return(0,v.jsxs)("div",{className:(0,r.A)("tabs-container",p.tabList),children:[(0,v.jsx)(f,{...n,...e}),(0,v.jsx)(b,{...n,...e})]})}function E(e){const n=(0,m.A)();return(0,v.jsx)(y,{...e,children:h(e.children)},String(n))}},67992:()=>{},79329:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});t(96540);var i=t(18215);const r={tabItem:"tabItem_Ymn6"};var s=t(74848);function a(e){let{children:n,hidden:t,className:a}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.A)(r.tabItem,a),hidden:t,children:n})}},92441:()=>{},93290:()=>{}}]);