"use strict";(self.webpackChunkopen_catalogi_docs=self.webpackChunkopen_catalogi_docs||[]).push([[3664],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var s=i(96540);const a={},r=s.createContext(a);function t(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(r.Provider,{value:n},e.children)}},89769:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"development/magic-mapper","title":"MagicMapper - Dynamic Schema-Based Table Management","description":"Overview","source":"@site/docs/development/magic-mapper.md","sourceDirName":"development","slug":"/development/magic-mapper","permalink":"/docs/development/magic-mapper","draft":false,"unlisted":false,"editUrl":"https://github.com/conductionnl/openregister/tree/main/website/docs/development/magic-mapper.md","tags":[],"version":"current","sidebarPosition":35,"frontMatter":{"title":"MagicMapper - Dynamic Schema-Based Table Management","sidebar_position":35},"sidebar":"tutorialSidebar","previous":{"title":"Solr Development Troubleshooting","permalink":"/docs/development/solr-development"},"next":{"title":"Integrated File Uploads Implementation","permalink":"/docs/development/file-uploads-implementation"}}');var a=i(74848),r=i(28453);const t={title:"MagicMapper - Dynamic Schema-Based Table Management",sidebar_position:35},l="MagicMapper - Dynamic Schema-Based Table Management",c={},d=[{value:"Overview",id:"overview",level:2},{value:"Key Features",id:"key-features",level:2},{value:"\ud83d\ude80 <strong>Dynamic Table Creation</strong>",id:"-dynamic-table-creation",level:3},{value:"\ud83d\udcca <strong>Metadata Integration</strong>",id:"-metadata-integration",level:3},{value:"\u26a1 <strong>Performance Optimizations</strong>",id:"-performance-optimizations",level:3},{value:"\ud83d\udd04 <strong>Schema Evolution</strong>",id:"-schema-evolution",level:3},{value:"\ud83d\udd0d <strong>Advanced Search</strong>",id:"-advanced-search",level:3},{value:"Table Structure",id:"table-structure",level:2},{value:"Naming Convention",id:"naming-convention",level:3},{value:"Column Types",id:"column-types",level:3},{value:"Example Table: <code>oc_openregister_table_users</code>",id:"example-table-oc_openregister_table_users",level:3},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Advanced Queries",id:"advanced-queries",level:3},{value:"Schema Configuration",id:"schema-configuration",level:2},{value:"Enable Magic Mapping",id:"enable-magic-mapping",level:3},{value:"When to Enable Magic Mapping",id:"when-to-enable-magic-mapping",level:3},{value:"Performance Benefits",id:"performance-benefits",level:2},{value:"Query Performance",id:"query-performance",level:3},{value:"Expected Improvements",id:"expected-improvements",level:3},{value:"JSON Schema to SQL Type Mapping",id:"json-schema-to-sql-type-mapping",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Graceful Degradation",id:"graceful-degradation",level:3},{value:"Common Issues",id:"common-issues",level:3},{value:"Monitoring and Debugging",id:"monitoring-and-debugging",level:2},{value:"Logging",id:"logging",level:3},{value:"Cache Management",id:"cache-management",level:3},{value:"Testing",id:"testing",level:2},{value:"Unit Tests",id:"unit-tests",level:3},{value:"Integration Testing",id:"integration-testing",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"SQL Injection Prevention",id:"sql-injection-prevention",level:3},{value:"Access Control",id:"access-control",level:3},{value:"Future Enhancements",id:"future-enhancements",level:2},{value:"Potential Improvements",id:"potential-improvements",level:3},{value:"Migration Path",id:"migration-path",level:3},{value:"Implementation Status",id:"implementation-status",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"magicmapper---dynamic-schema-based-table-management",children:"MagicMapper - Dynamic Schema-Based Table Management"})}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(n.p,{children:"The MagicMapper is a standalone service that provides dynamic table creation and management based on JSON schema definitions. Instead of storing all objects in a single generic table, it creates dedicated tables for each schema, providing significant performance improvements and better data organization."}),"\n",(0,a.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,a.jsxs)(n.h3,{id:"-dynamic-table-creation",children:["\ud83d\ude80 ",(0,a.jsx)(n.strong,{children:"Dynamic Table Creation"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Automatically creates database tables based on JSON schema properties"}),"\n",(0,a.jsx)(n.li,{children:"Supports all major database systems (MySQL, MariaDB, PostgreSQL)"}),"\n",(0,a.jsx)(n.li,{children:"Intelligent SQL type mapping from JSON schema types"}),"\n"]}),"\n",(0,a.jsxs)(n.h3,{id:"-metadata-integration",children:["\ud83d\udcca ",(0,a.jsx)(n.strong,{children:"Metadata Integration"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"All ObjectEntity metadata columns included with underscore prefix"}),"\n",(0,a.jsx)(n.li,{children:"Maintains compatibility with existing RBAC and multitenancy systems"}),"\n",(0,a.jsx)(n.li,{children:"Preserves all existing functionality (files, relations, authorization, etc.)"}),"\n"]}),"\n",(0,a.jsxs)(n.h3,{id:"-performance-optimizations",children:["\u26a1 ",(0,a.jsx)(n.strong,{children:"Performance Optimizations"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Schema-specific tables (faster queries, better indexing)"}),"\n",(0,a.jsx)(n.li,{children:"Automatic index creation for frequently filtered fields"}),"\n",(0,a.jsx)(n.li,{children:"Optimized storage with proper SQL column types"}),"\n",(0,a.jsx)(n.li,{children:"Better database query planning and statistics"}),"\n"]}),"\n",(0,a.jsxs)(n.h3,{id:"-schema-evolution",children:["\ud83d\udd04 ",(0,a.jsx)(n.strong,{children:"Schema Evolution"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Automatic table updates when schemas change"}),"\n",(0,a.jsx)(n.li,{children:"Version tracking for change detection"}),"\n",(0,a.jsx)(n.li,{children:"Safe column additions without data loss"}),"\n"]}),"\n",(0,a.jsxs)(n.h3,{id:"-advanced-search",children:["\ud83d\udd0d ",(0,a.jsx)(n.strong,{children:"Advanced Search"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Native SQL search within schema-specific tables"}),"\n",(0,a.jsx)(n.li,{children:"Support for complex filtering and pagination"}),"\n",(0,a.jsx)(n.li,{children:"Returns ObjectEntity objects for compatibility"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"table-structure",children:"Table Structure"}),"\n",(0,a.jsx)(n.h3,{id:"naming-convention",children:"Naming Convention"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"oc_openregister_table_{schema_slug}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"column-types",children:"Column Types"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Metadata Columns"}),": All ObjectEntity properties prefixed with ",(0,a.jsx)(n.code,{children:"_"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Schema Columns"}),": JSON schema properties mapped to appropriate SQL types"]}),"\n"]}),"\n",(0,a.jsxs)(n.h3,{id:"example-table-oc_openregister_table_users",children:["Example Table: ",(0,a.jsx)(n.code,{children:"oc_openregister_table_users"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"-- Metadata columns (from ObjectEntity)\n_id BIGINT PRIMARY KEY AUTO_INCREMENT,\n_uuid VARCHAR(36) UNIQUE NOT NULL,\n_register VARCHAR(255) NOT NULL,\n_schema VARCHAR(255) NOT NULL,\n_owner VARCHAR(64),\n_organisation VARCHAR(36),\n_name VARCHAR(255),\n_created DATETIME,\n_updated DATETIME,\n_published DATETIME,\n_files JSON,\n_relations JSON,\n-- ... all other ObjectEntity metadata\n\n-- Schema columns (from JSON schema)\nname VARCHAR(255) NOT NULL,        -- string property\nemail VARCHAR(320),               -- string with email format\nage SMALLINT,                     -- integer with range\nisActive BOOLEAN,                 -- boolean property\nprofile JSON,                     -- object property\ntags JSON,                        -- array property\ncreatedAt DATETIME                -- string with date-time format\n"})}),"\n",(0,a.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,a.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:"use OCA\\OpenRegister\\Service\\MagicMapper;\n\n// Initialize MagicMapper (usually via dependency injection)\n$magicMapper = new MagicMapper($db, $objectMapper, $schemaMapper, $registerMapper, $config, $logger);\n\n// 1. Create table for schema\n$schema = $schemaMapper->find('users');\n$magicMapper->ensureTableForSchema($schema);\n\n// 2. Save objects to schema table\n$objects = [\n    [\n        '@self' => [\n            'uuid' => 'user-123',\n            'register' => 'main-register',\n            'schema' => 'users',\n            'owner' => 'admin',\n            'organisation' => 'org-456'\n        ],\n        'name' => 'John Doe',\n        'email' => 'john@example.com',\n        'age' => 30,\n        'isActive' => true,\n        'profile' => ['theme' => 'dark', 'language' => 'en']\n    ]\n];\n\n$savedUuids = $magicMapper->saveObjectsToSchemaTable($objects, $schema);\n\n// 3. Search in schema table\n$query = [\n    'name' => 'John%',           // LIKE search\n    'age' => ['gt' => 18],       // Greater than\n    '@self' => ['owner' => 'admin'], // Metadata filter\n    '_limit' => 50,              // Pagination\n    '_offset' => 0\n];\n\n$results = $magicMapper->searchObjectsInSchemaTable($query, $schema);\n"})}),"\n",(0,a.jsx)(n.h3,{id:"advanced-queries",children:"Advanced Queries"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:"// Complex filtering\n$query = [\n    'isActive' => true,\n    'age' => ['gte' => 21, 'lte' => 65],\n    'email' => '%@company.com',\n    '@self' => [\n        'organisation' => 'org-123',\n        'published' => ['gt' => '2024-01-01']\n    ],\n    '_order' => ['name' => 'ASC', '@self.created' => 'DESC'],\n    '_limit' => 100\n];\n\n$results = $magicMapper->searchObjectsInSchemaTable($query, $schema);\n"})}),"\n",(0,a.jsx)(n.h2,{id:"schema-configuration",children:"Schema Configuration"}),"\n",(0,a.jsx)(n.h3,{id:"enable-magic-mapping",children:"Enable Magic Mapping"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Per Schema"})," (recommended):"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "configuration": {\n    "magicMapping": true\n  }\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Globally"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:"$config->setAppValue('openregister', 'magic_mapping_enabled', 'true');\n"})}),"\n",(0,a.jsx)(n.h3,{id:"when-to-enable-magic-mapping",children:"When to Enable Magic Mapping"}),"\n",(0,a.jsx)(n.p,{children:"Enable for schemas with:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"High volume"}),": >10,000 objects"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Frequent searches"}),": Heavy filtering and querying"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Performance requirements"}),": Sub-second response times needed"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Complex filtering"}),": Multiple property filters"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Keep disabled for:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Low volume"}),": <1,000 objects"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Simple schemas"}),": Few properties, minimal filtering"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Development"}),": When schema structure changes frequently"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"performance-benefits",children:"Performance Benefits"}),"\n",(0,a.jsx)(n.h3,{id:"query-performance",children:"Query Performance"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Schema-specific tables"}),": No need to filter by schema ID"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Proper indexing"}),": Indexes tailored to schema properties"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Optimized storage"}),": SQL types instead of generic JSON storage"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Better statistics"}),": Database can optimize queries more effectively"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"expected-improvements",children:"Expected Improvements"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Search speed"}),": 3-5x faster for large datasets"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Memory usage"}),": 40-60% reduction for bulk operations"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Index efficiency"}),": Targeted indexes vs. generic JSON indexes"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Query planning"}),": Better execution plans from database optimizer"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"json-schema-to-sql-type-mapping",children:"JSON Schema to SQL Type Mapping"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"JSON Schema Type"}),(0,a.jsx)(n.th,{children:"SQL Type"}),(0,a.jsx)(n.th,{children:"Notes"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"string"})}),(0,a.jsxs)(n.td,{children:[(0,a.jsx)(n.code,{children:"VARCHAR(n)"})," or ",(0,a.jsx)(n.code,{children:"TEXT"})]}),(0,a.jsx)(n.td,{children:"Based on maxLength"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:[(0,a.jsx)(n.code,{children:"string"})," (email)"]}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"VARCHAR(320)"})}),(0,a.jsx)(n.td,{children:"RFC 5321 limit"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:[(0,a.jsx)(n.code,{children:"string"})," (uuid)"]}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"VARCHAR(36)"})}),(0,a.jsx)(n.td,{children:"Standard UUID length"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:[(0,a.jsx)(n.code,{children:"string"})," (date-time)"]}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"DATETIME"})}),(0,a.jsx)(n.td,{children:"Indexed for performance"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"integer"})}),(0,a.jsxs)(n.td,{children:[(0,a.jsx)(n.code,{children:"SMALLINT"}),", ",(0,a.jsx)(n.code,{children:"INT"}),", or ",(0,a.jsx)(n.code,{children:"BIGINT"})]}),(0,a.jsx)(n.td,{children:"Based on min/max range"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"number"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"DECIMAL(10,2)"})}),(0,a.jsx)(n.td,{children:"Configurable precision"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"boolean"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"BOOLEAN"})}),(0,a.jsx)(n.td,{children:"Native boolean type"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"array"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"JSON"})}),(0,a.jsx)(n.td,{children:"Complex data as JSON"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"object"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"JSON"})}),(0,a.jsx)(n.td,{children:"Complex data as JSON"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,a.jsx)(n.h3,{id:"graceful-degradation",children:"Graceful Degradation"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Falls back to regular ObjectService on errors"}),"\n",(0,a.jsx)(n.li,{children:"Comprehensive logging for troubleshooting"}),"\n",(0,a.jsx)(n.li,{children:"Non-blocking failures (continues with standard workflow)"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Table name conflicts"}),": Automatic sanitization and truncation"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Schema changes"}),": Automatic table updates with version tracking"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Database limitations"}),": Fallback to JSON for unsupported types"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"monitoring-and-debugging",children:"Monitoring and Debugging"}),"\n",(0,a.jsx)(n.h3,{id:"logging",children:"Logging"}),"\n",(0,a.jsx)(n.p,{children:"All operations are logged with structured data:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:"// Table creation\n$logger->info('Creating new schema table', [\n    'schemaId' => 123,\n    'tableName' => 'oc_openregister_table_users',\n    'columnCount' => 25\n]);\n\n// Search operations  \n$logger->debug('Schema table search completed', [\n    'tableName' => 'oc_openregister_table_users',\n    'resultCount' => 150,\n    'queryFilters' => ['name', 'age', '@self.owner']\n]);\n"})}),"\n",(0,a.jsx)(n.h3,{id:"cache-management",children:"Cache Management"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:"// Clear table existence cache\n$magicMapper->clearCache();\n\n// Get existing schema tables\n$tables = $magicMapper->getExistingSchemaTables();\n"})}),"\n",(0,a.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,a.jsx)(n.h3,{id:"unit-tests",children:"Unit Tests"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Run MagicMapper tests (when Nextcloud test environment is available)\n./vendor/bin/phpunit tests/Unit/Service/MagicMapperTest.php\n\n# Syntax validation\nphp -l lib/Service/MagicMapper.php\n"})}),"\n",(0,a.jsx)(n.h3,{id:"integration-testing",children:"Integration Testing"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Run demo script\nphp examples/magic_mapper_demo.php\n\n# Test with real schemas (requires Nextcloud environment)\n# See examples in the demo script\n"})}),"\n",(0,a.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,a.jsx)(n.h3,{id:"sql-injection-prevention",children:"SQL Injection Prevention"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"All queries use parameterized statements"}),"\n",(0,a.jsx)(n.li,{children:"Table and column names are sanitized"}),"\n",(0,a.jsx)(n.li,{children:"Input validation for all user data"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"access-control",children:"Access Control"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Integrates with existing RBAC system"}),"\n",(0,a.jsx)(n.li,{children:"Respects organisation-based multitenancy"}),"\n",(0,a.jsx)(n.li,{children:"Owner-based permissions maintained"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"future-enhancements",children:"Future Enhancements"}),"\n",(0,a.jsx)(n.h3,{id:"potential-improvements",children:"Potential Improvements"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Relationship columns"}),": Direct foreign key relationships"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Custom indexes"}),": Schema-defined index strategies"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Partitioning"}),": Time-based or organization-based partitioning"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Materialized views"}),": For complex aggregations"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Full-text search"}),": Schema-aware text search indexes"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"migration-path",children:"Migration Path"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Gradual migration: Enable per schema as needed"}),"\n",(0,a.jsx)(n.li,{children:"Data migration tools: Move existing objects to schema tables"}),"\n",(0,a.jsx)(n.li,{children:"Parallel operation: Run alongside existing system during transition"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"implementation-status",children:"Implementation Status"}),"\n",(0,a.jsxs)(n.p,{children:["\u2705 ",(0,a.jsx)(n.strong,{children:"Completed Features"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Dynamic table creation from JSON schemas"}),"\n",(0,a.jsx)(n.li,{children:"Metadata column integration from ObjectEntity"}),"\n",(0,a.jsx)(n.li,{children:"Schema-to-SQL type mapping for all common types"}),"\n",(0,a.jsx)(n.li,{children:"Table naming and sanitization logic"}),"\n",(0,a.jsx)(n.li,{children:"Search operations with filtering and pagination"}),"\n",(0,a.jsx)(n.li,{children:"Error handling and fallback scenarios"}),"\n",(0,a.jsx)(n.li,{children:"Comprehensive unit tests"}),"\n",(0,a.jsx)(n.li,{children:"Documentation and examples"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["\u2705 ",(0,a.jsx)(n.strong,{children:"Validation Enhancement"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"SaveObjects handler now requires schema and register IDs"}),"\n",(0,a.jsx)(n.li,{children:"Proper error messages for missing required parameters"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["\ud83d\udea7 ",(0,a.jsx)(n.strong,{children:"Standalone Status"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"MagicMapper is implemented as a standalone component"}),"\n",(0,a.jsx)(n.li,{children:"No integration with main ObjectService workflow yet"}),"\n",(0,a.jsx)(n.li,{children:"Ready for independent testing and evaluation"}),"\n",(0,a.jsx)(n.li,{children:"Can be integrated when ready for production use"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Evaluate Performance"}),": Test with real schemas and large datasets"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Validate Integration Points"}),": Ensure compatibility with existing workflows"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Production Testing"}),": Test in safe environment with real data"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Gradual Rollout"}),": Enable for specific high-volume schemas first"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Monitor Performance"}),": Compare query times before/after implementation"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/docs/Features/schemas",children:"Schemas"})," - Schema documentation"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/docs/technical/schemas",children:"Schema Technical Documentation"})," - Technical schema details"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}}}]);