
[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L320\lib/AppInfo/[1;31mApplication.php:320:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L338\lib/AppInfo/[1;31mApplication.php:338:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L352\lib/AppInfo/[1;31mApplication.php:352:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class)


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L437\lib/AppInfo/[1;31mApplication.php:437:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L529\lib/AppInfo/[1;31mApplication.php:529:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L541\lib/AppInfo/[1;31mApplication.php:541:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L566\lib/AppInfo/[1;31mApplication.php:566:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L580\lib/AppInfo/[1;31mApplication.php:580:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L593\lib/AppInfo/[1;31mApplication.php:593:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L608\lib/AppInfo/[1;31mApplication.php:608:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L631\lib/AppInfo/[1;31mApplication.php:631:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L665\lib/AppInfo/[1;31mApplication.php:665:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L680\lib/AppInfo/[1;31mApplication.php:680:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
                    $container->get([97;41mFileTextMapper[0m::class),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L708\lib/AppInfo/[1;31mApplication.php:708:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/AppInfo/Application.php#L720\lib/AppInfo/[1;31mApplication.php:720:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    $container->get([97;41mSettingsService[0m::class),


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/BackgroundJob/FileTextExtractionJob.php#L133\lib/BackgroundJob/[1;31mFileTextExtractionJob.php:133:53[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                            'text_length'        => [97;41m$result['fileText'][0m?->getTextLength() ?? 0,


[0;31mERROR[0m: ParamNameMismatch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/BackgroundJob/SolrNightlyWarmupJob.php#L93\lib/BackgroundJob/[1;31mSolrNightlyWarmupJob.php:93:28[0m]8;;\ - Argument 1 of OCA\OpenRegister\BackgroundJob\SolrNightlyWarmupJob::run has wrong name $arguments, expecting $argument as defined by OCP\BackgroundJob\Job::run (see https://psalm.dev/230)
    protected function run([97;41m$arguments[0m): void


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/BackgroundJob/SolrNightlyWarmupJob.php#L223\lib/BackgroundJob/[1;31mSolrNightlyWarmupJob.php:223:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m   $settingsService The settings service


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/BackgroundJob/SolrNightlyWarmupJob.php#L274\lib/BackgroundJob/[1;31mSolrNightlyWarmupJob.php:274:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m $settingsService The settings service


[0;31mERROR[0m: ParamNameMismatch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/BackgroundJob/SolrWarmupJob.php#L70\lib/BackgroundJob/[1;31mSolrWarmupJob.php:70:28[0m]8;;\ - Argument 1 of OCA\OpenRegister\BackgroundJob\SolrWarmupJob::run has wrong name $arguments, expecting $argument as defined by OCP\BackgroundJob\Job::run (see https://psalm.dev/230)
    protected function run([97;41m$arguments[0m): void


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Command/SolrDebugCommand.php#L49\lib/Command/[1;31mSolrDebugCommand.php:49:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m $settingsService Settings service for SOLR configuration


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Command/SolrDebugCommand.php#L184\lib/Command/[1;31mSolrDebugCommand.php:184:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $solrSettings       = [97;41m$this->settingsService[0m->getSolrSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Command/SolrDebugCommand.php#L207\lib/Command/[1;31mSolrDebugCommand.php:207:29[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $solrSettings = [97;41m$this->settingsService[0m->getSolrSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Command/SolrDebugCommand.php#L308\lib/Command/[1;31mSolrDebugCommand.php:308:29[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $solrSettings = [97;41m$this->settingsService[0m->getSolrSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Command/SolrManagementCommand.php#L62\lib/Command/[1;31mSolrManagementCommand.php:62:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m   $settingsService Settings service for configuration


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Command/SolrManagementCommand.php#L226\lib/Command/[1;31mSolrManagementCommand.php:226:27[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $solrConfig = [97;41m$this->settingsService[0m->getSolrSettings();


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Command/SolrManagementCommand.php#L538\lib/Command/[1;31mSolrManagementCommand.php:538:17[0m]8;;\ - array<array-key, mixed> does not contain true (see https://psalm.dev/056)
            if ([97;41m$this->solrService->clearIndex() === true[0m) {


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/AgentsController.php#L177\lib/Controller/[1;31mAgentsController.php:177:21[0m]8;;\ - Parameter $renderAs does not exist on function OCA\OpenRegister\Db\AgentMapper::findByOrganisation (see https://psalm.dev/238)
                    [97;41mrenderAs[0m: $this->userId,


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/BulkController.php#L289\lib/Controller/[1;31mBulkController.php:289:59[0m]8;;\ - 0 cannot be identical to string (see https://psalm.dev/056)
            $isMixedSchemaOperation = ($schema === '0' || [97;41m$schema === 0[0m);


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/BulkController.php#L289\lib/Controller/[1;31mBulkController.php:289:59[0m]8;;\ - Type string for $schema is never =int(0) (see https://psalm.dev/056)
            $isMixedSchemaOperation = ($schema === '0' || [97;41m$schema === 0[0m);


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ConfigurationsController.php#L337\lib/Controller/[1;31mConfigurationsController.php:337:17[0m]8;;\ - Argument 5 of OCA\OpenRegister\Service\ConfigurationService::importFromJson expects null|string, but bool provided (see https://psalm.dev/012)
                [97;41m$force[0m


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/DashboardController.php#L87\lib/Controller/[1;31mDashboardController.php:87:49[0m]8;;\ - Parameter $policy does not exist on function OCP\AppFramework\Http\TemplateResponse::setContentSecurityPolicy (see https://psalm.dev/238)
            $response->setContentSecurityPolicy([97;41mpolicy[0m: $csp);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileExtractionController.php#L54\lib/Controller/[1;31mFileExtractionController.php:54:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
     * @param [97;41mFileTextMapper[0m        $fileTextMapper       File text mapper


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileExtractionController.php#L99\lib/Controller/[1;31mFileExtractionController.php:99:26[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
                $files = [97;41m$this->fileTextMapper[0m->findByStatus($status, $limit ?? 100, $offset ?? 0);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileExtractionController.php#L101\lib/Controller/[1;31mFileExtractionController.php:101:26[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
                $files = [97;41m$this->fileTextMapper[0m->findAll($limit, $offset);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileExtractionController.php#L165\lib/Controller/[1;31mFileExtractionController.php:165:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
            $fileText = [97;41m$this->fileTextMapper[0m->findByFileId($id);


[0;31mERROR[0m: AssignmentToVoid - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileExtractionController.php#L216\lib/Controller/[1;31mFileExtractionController.php:216:13[0m]8;;\ - Cannot assign $fileText to type void (see https://psalm.dev/121)
            [97;41m$fileText[0m = $this->extractionService->extractFile($id, $forceReExtract);


[0;31mERROR[0m: NullReference - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileExtractionController.php#L222\lib/Controller/[1;31mFileExtractionController.php:222:49[0m]8;;\ - Cannot call method jsonSerialize on null value (see https://psalm.dev/016)
                        'data'    => $fileText->[97;41mjsonSerialize[0m(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileExtractionController.php#L472\lib/Controller/[1;31mFileExtractionController.php:472:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->fileTextMapper[0m->cleanupInvalidEntries();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileExtractionController.php#L521\lib/Controller/[1;31mFileExtractionController.php:521:22[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
            $types = [97;41m$this->fileTextMapper[0m->getFileTypeStats();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileSearchController.php#L50\lib/Controller/[1;31mFileSearchController.php:50:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m        $settingsService   Settings service


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileSearchController.php#L93\lib/Controller/[1;31mFileSearchController.php:93:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $settings       = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileSearchController.php#L122\lib/Controller/[1;31mFileSearchController.php:122:27[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $solrConfig = [97;41m$this->settingsService[0m->getSettings()['solr'] ?? [];


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileTextController.php#L98\lib/Controller/[1;31mFileTextController.php:98:40[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/019)
                        'file_text' => [97;41m$fileText[0m->jsonSerialize(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileTextController.php#L138\lib/Controller/[1;31mFileTextController.php:138:118[0m]8;;\ - Class, interface or enum named OC\AppFramework\Http does not exist (see https://psalm.dev/019)
            return new JSONResponse(data: ['success' => false, 'message' => 'Text extraction disabled'], statusCode: [97;41mHttp[0m::STATUS_NOT_IMPLEMENTED);


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FileTextController.php#L149\lib/Controller/[1;31mFileTextController.php:149:44[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                            'file_text' => [97;41m$result['fileText'][0m->jsonSerialize(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L152\lib/Controller/[1;31mFilesController.php:152:18[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
        } catch ([97;41mException[0m $e) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L153\lib/Controller/[1;31mFilesController.php:153:55[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
            return new JSONResponse(data: ['error' => [97;41m$e[0m->getMessage()], statusCode: 400);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L203\lib/Controller/[1;31mFilesController.php:203:18[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
        } catch ([97;41mException[0m $e) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L204\lib/Controller/[1;31mFilesController.php:204:55[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
            return new JSONResponse(data: ['error' => [97;41m$e[0m->getMessage()], statusCode: 400);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L270\lib/Controller/[1;31mFilesController.php:270:18[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
        } catch ([97;41mException[0m $e) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L271\lib/Controller/[1;31mFilesController.php:271:55[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
            return new JSONResponse(data: ['error' => [97;41m$e[0m->getMessage()], statusCode: 400);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L310\lib/Controller/[1;31mFilesController.php:310:27[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
                throw new [97;41mException[0m('No files uploaded');


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L314\lib/Controller/[1;31mFilesController.php:314:17[0m]8;;\ - Type string for $files['name'] is never array<array-key, mixed> (see https://psalm.dev/122)
            if ([97;41misset($files['name']) === true && is_array($files['name']) === false[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L314\lib/Controller/[1;31mFilesController.php:314:51[0m]8;;\ - Type string for $files['name'] is never array<array-key, mixed> (see https://psalm.dev/056)
            if (isset($files['name']) === true && [97;41mis_array($files['name'])[0m === false) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L329\lib/Controller/[1;31mFilesController.php:329:24[0m]8;;\ - Type null for $files['name'] is never isset (see https://psalm.dev/056)
            } else if ([97;41misset($files['name']) === true[0m && is_array($files['name']) === true) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L329\lib/Controller/[1;31mFilesController.php:329:24[0m]8;;\ - Type never for $files['name'] is never array<array-key, mixed> (see https://psalm.dev/056)
            } else if ([97;41misset($files['name']) === true && is_array($files['name']) === true[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L329\lib/Controller/[1;31mFilesController.php:329:58[0m]8;;\ - Type never for $files['name'] is never array<array-key, mixed> (see https://psalm.dev/056)
            } else if (isset($files['name']) === true && [97;41mis_array($files['name'])[0m === true) {


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L331\lib/Controller/[1;31mFilesController.php:331:41[0m]8;;\ - All possible types for this argument were invalidated - This may be dead code (see https://psalm.dev/179)
                for ($i = 0; $i < count([97;41m$files['name'][0m); $i++) {


[0;31mERROR[0m: InvalidArrayAccess - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L341\lib/Controller/[1;31mFilesController.php:341:39[0m]8;;\ - Cannot access array value on non-array variable $files['error'] of type int<0, 8> (see https://psalm.dev/005)
                        'error'    => [97;41m$files['error'][$i][0m,


[0;31mERROR[0m: InvalidArrayAccess - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L342\lib/Controller/[1;31mFilesController.php:342:39[0m]8;;\ - Cannot access array value on non-array variable $files['size'] of type int<0, max> (see https://psalm.dev/005)
                        'size'     => [97;41m$files['size'][$i][0m,


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L356\lib/Controller/[1;31mFilesController.php:356:27[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
                throw new [97;41mException[0m('No file(s) uploaded');


[0;31mERROR[0m: InvalidThrow - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L364\lib/Controller/[1;31mFilesController.php:364:21[0m]8;;\ - Cannot throw OCA\OpenRegister\Controller\Exception as it does not extend Exception or implement Throwable (see https://psalm.dev/133)
                    [97;41mthrow new Exception('File upload error for '.$file['name'].': '.$this->getUploadErrorMessage($file['error']));[0m


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L364\lib/Controller/[1;31mFilesController.php:364:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
                    throw new [97;41mException[0m('File upload error for '.$file['name'].': '.$this->getUploadErrorMessage($file['error']));


[0;31mERROR[0m: InvalidThrow - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L369\lib/Controller/[1;31mFilesController.php:369:21[0m]8;;\ - Cannot throw OCA\OpenRegister\Controller\Exception as it does not extend Exception or implement Throwable (see https://psalm.dev/133)
                    [97;41mthrow new Exception('Temporary file not found or not readable for: '.$file['name']);[0m


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L369\lib/Controller/[1;31mFilesController.php:369:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
                    throw new [97;41mException[0m('Temporary file not found or not readable for: '.$file['name']);


[0;31mERROR[0m: InvalidThrow - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L375\lib/Controller/[1;31mFilesController.php:375:21[0m]8;;\ - Cannot throw OCA\OpenRegister\Controller\Exception as it does not extend Exception or implement Throwable (see https://psalm.dev/133)
                    [97;41mthrow new Exception('Failed to read uploaded file content for: '.$file['name']);[0m


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L375\lib/Controller/[1;31mFilesController.php:375:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
                    throw new [97;41mException[0m('Failed to read uploaded file content for: '.$file['name']);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L389\lib/Controller/[1;31mFilesController.php:389:18[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
        } catch ([97;41mException[0m $e) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L390\lib/Controller/[1;31mFilesController.php:390:55[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
            return new JSONResponse(data: ['error' => [97;41m$e[0m->getMessage()], statusCode: 400);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L428\lib/Controller/[1;31mFilesController.php:428:18[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
        } catch ([97;41mException[0m $e) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L429\lib/Controller/[1;31mFilesController.php:429:55[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
            return new JSONResponse(data: ['error' => [97;41m$e[0m->getMessage()], statusCode: 400);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L462\lib/Controller/[1;31mFilesController.php:462:18[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
        } catch ([97;41mException[0m $e) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L463\lib/Controller/[1;31mFilesController.php:463:55[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
            return new JSONResponse(data: ['error' => [97;41m$e[0m->getMessage()], statusCode: 400);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L496\lib/Controller/[1;31mFilesController.php:496:18[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
        } catch ([97;41mException[0m $e) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L497\lib/Controller/[1;31mFilesController.php:497:55[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
            return new JSONResponse(data: ['error' => [97;41m$e[0m->getMessage()], statusCode: 400);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L530\lib/Controller/[1;31mFilesController.php:530:18[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
        } catch ([97;41mException[0m $e) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L531\lib/Controller/[1;31mFilesController.php:531:55[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
            return new JSONResponse(data: ['error' => [97;41m$e[0m->getMessage()], statusCode: 400);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L568\lib/Controller/[1;31mFilesController.php:568:18[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
        } catch ([97;41mException[0m $e) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/FilesController.php#L569\lib/Controller/[1;31mFilesController.php:569:55[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
            return new JSONResponse(data: ['error' => [97;41m$e[0m->getMessage()], statusCode: 500);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/NamesController.php#L212\lib/Controller/[1;31mNamesController.php:212:21[0m]8;;\ - Cannot use positional argument after named argument (see https://psalm.dev/238)
                    [97;41m500[0m


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/NamesController.php#L306\lib/Controller/[1;31mNamesController.php:306:25[0m]8;;\ - Cannot use positional argument after named argument (see https://psalm.dev/238)
                        [97;41m400[0m


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/NamesController.php#L318\lib/Controller/[1;31mNamesController.php:318:25[0m]8;;\ - Cannot use positional argument after named argument (see https://psalm.dev/238)
                        [97;41m400[0m


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/NamesController.php#L472\lib/Controller/[1;31mNamesController.php:472:21[0m]8;;\ - Cannot use positional argument after named argument (see https://psalm.dev/238)
                    [97;41m500[0m


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L594\lib/Controller/[1;31mObjectsController.php:594:18[0m]8;;\ - Type array<non-empty-string, array{error: int<0, 8>, full_path: string, name: string, size: int<0, max>, tmp_name: string, type: string}> for $_FILES is never null (see https://psalm.dev/122)
        foreach ([97;41m$_FILES[0m ?? [] as $fieldName => $fileData) {


[0;31mERROR[0m: TypeDoesNotContainNull - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L594\lib/Controller/[1;31mObjectsController.php:594:29[0m]8;;\ - Cannot resolve types for $_FILES - array<string, array{error: int<0, 8>, full_path: string, name: string, size: int<0, max>, tmp_name: string, type: string}> does not contain null (see https://psalm.dev/090)
        foreach ($_FILES ?? [97;41m[][0m as $fieldName => $fileData) {


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L600\lib/Controller/[1;31mObjectsController.php:600:36[0m]8;;\ - Argument 1 of count expects Countable|array<array-key, mixed>, but string provided (see https://psalm.dev/004)
                $fileCount = count([97;41m$fileData['name'][0m);


[0;31mERROR[0m: InvalidArrayAccess - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L607\lib/Controller/[1;31mObjectsController.php:607:39[0m]8;;\ - Cannot access array value on non-array variable $fileData['error'] of type int<0, 8> (see https://psalm.dev/005)
                        'error'    => [97;41m$fileData['error'][$i][0m,


[0;31mERROR[0m: InvalidArrayAccess - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L608\lib/Controller/[1;31mObjectsController.php:608:39[0m]8;;\ - Cannot access array value on non-array variable $fileData['size'] of type int<0, max> (see https://psalm.dev/005)
                        'size'     => [97;41m$fileData['size'][$i][0m,


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L634\lib/Controller/[1;31mObjectsController.php:634:21[0m]8;;\ - Parameter $data does not exist on function OCA\OpenRegister\Service\ObjectService::saveObject (see https://psalm.dev/238)
                    [97;41mdata[0m: $multi,


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L706\lib/Controller/[1;31mObjectsController.php:706:18[0m]8;;\ - Type array<non-empty-string, array{error: int<0, 8>, full_path: string, name: string, size: int<0, max>, tmp_name: string, type: string}> for $_FILES is never null (see https://psalm.dev/122)
        foreach ([97;41m$_FILES[0m ?? [] as $fieldName => $fileData) {


[0;31mERROR[0m: TypeDoesNotContainNull - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L706\lib/Controller/[1;31mObjectsController.php:706:29[0m]8;;\ - Cannot resolve types for $_FILES - array<string, array{error: int<0, 8>, full_path: string, name: string, size: int<0, max>, tmp_name: string, type: string}> does not contain null (see https://psalm.dev/090)
        foreach ($_FILES ?? [97;41m[][0m as $fieldName => $fileData) {


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L712\lib/Controller/[1;31mObjectsController.php:712:36[0m]8;;\ - Argument 1 of count expects Countable|array<array-key, mixed>, but string provided (see https://psalm.dev/004)
                $fileCount = count([97;41m$fileData['name'][0m);


[0;31mERROR[0m: InvalidArrayAccess - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L719\lib/Controller/[1;31mObjectsController.php:719:39[0m]8;;\ - Cannot access array value on non-array variable $fileData['error'] of type int<0, 8> (see https://psalm.dev/005)
                        'error'    => [97;41m$fileData['error'][$i][0m,


[0;31mERROR[0m: InvalidArrayAccess - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L720\lib/Controller/[1;31mObjectsController.php:720:39[0m]8;;\ - Cannot access array value on non-array variable $fileData['size'] of type int<0, max> (see https://psalm.dev/005)
                        'size'     => [97;41m$fileData['size'][$i][0m,


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L750\lib/Controller/[1;31mObjectsController.php:750:58[0m]8;;\ - Redundant cast to int (see https://psalm.dev/262)
            if ((int) $existingObject->getRegister() !== [97;41m(int) $resolvedRegisterId[0m


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L751\lib/Controller/[1;31mObjectsController.php:751:59[0m]8;;\ - Redundant cast to int (see https://psalm.dev/262)
                || (int) $existingObject->getSchema() !== [97;41m(int) $resolvedSchemaId[0m


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L786\lib/Controller/[1;31mObjectsController.php:786:21[0m]8;;\ - Parameter $data does not exist on function OCA\OpenRegister\Service\ObjectService::saveObject (see https://psalm.dev/238)
                    [97;41mdata[0m: $multi,


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L864\lib/Controller/[1;31mObjectsController.php:864:58[0m]8;;\ - Redundant cast to int (see https://psalm.dev/262)
            if ((int) $existingObject->getRegister() !== [97;41m(int) $resolvedRegisterId[0m


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L865\lib/Controller/[1;31mObjectsController.php:865:59[0m]8;;\ - Redundant cast to int (see https://psalm.dev/262)
                || (int) $existingObject->getSchema() !== [97;41m(int) $resolvedSchemaId[0m


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L897\lib/Controller/[1;31mObjectsController.php:897:45[0m]8;;\ - Too few arguments for OCA\OpenRegister\Service\ObjectService::saveObject - expecting object to be passed (see https://psalm.dev/025)
            $objectEntity = $objectService->[97;41msaveObject[0m(register: $existingObject);


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L897\lib/Controller/[1;31mObjectsController.php:897:66[0m]8;;\ - Argument 1 of OCA\OpenRegister\Service\ObjectService::saveObject expects OCA\OpenRegister\Db\Register|int|null|string, but possibly undefined OCA\OpenRegister\Db\ObjectEntity provided (see https://psalm.dev/004)
            $objectEntity = $objectService->saveObject(register: [97;41m$existingObject[0m);


[0;31mERROR[0m: MismatchingDocblockParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L924\lib/Controller/[1;31mObjectsController.php:924:16[0m]8;;\ - Parameter $id has wrong type 'int', should be 'string' (see https://psalm.dev/141)
     * @param  [97;41mint[0m           $id            The ID of the object to delete


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L948\lib/Controller/[1;31mObjectsController.php:948:58[0m]8;;\ - Argument 1 of OCA\OpenRegister\Service\ObjectService::deleteObject expects string, but int provided (see https://psalm.dev/004)
            $deleteResult = $objectService->deleteObject([97;41m$id[0m, validation: $rbac, multi: $multi);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L948\lib/Controller/[1;31mObjectsController.php:948:63[0m]8;;\ - Parameter $validation does not exist on function OCA\OpenRegister\Service\ObjectService::deleteObject (see https://psalm.dev/238)
            $deleteResult = $objectService->deleteObject($id, [97;41mvalidation[0m: $rbac, multi: $multi);


[0;31mERROR[0m: MismatchingDocblockParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L970\lib/Controller/[1;31mObjectsController.php:970:15[0m]8;;\ - Parameter $id has wrong type 'int', should be 'string' (see https://psalm.dev/141)
     * @param [97;41mint[0m           $id            The ID of the object to retrieve logs for


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L1163\lib/Controller/[1;31mObjectsController.php:1163:44[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
        $requestedSchemaNorm  = strtolower([97;41m(string) $requestedSchema[0m);


[0;31mERROR[0m: RedundantFunctionCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L1165\lib/Controller/[1;31mObjectsController.php:1165:53[0m]8;;\ - The call to strtolower is unnecessary (see https://psalm.dev/280)
        $objectSchemaSlugNorm = $objectSchemaSlug ? [97;41mstrtolower[0m($objectSchemaSlug) : null;


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L1175\lib/Controller/[1;31mObjectsController.php:1175:45[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
        $requestedRegisterNorm = strtolower([97;41m(string) $requestedRegister[0m);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L1183\lib/Controller/[1;31mObjectsController.php:1183:47[0m]8;;\ - Parameter $multi does not exist on function OCA\OpenRegister\Controller\ObjectsController::getConfig (see https://psalm.dev/238)
        $config = $this->getConfig($register, [97;41mmulti[0m: $schema);


[0;31mERROR[0m: MismatchingDocblockParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L1198\lib/Controller/[1;31mObjectsController.php:1198:15[0m]8;;\ - Parameter $id has wrong type 'int', should be 'string' (see https://psalm.dev/141)
     * @param [97;41mint[0m $id The ID of the object to lock


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L1248\lib/Controller/[1;31mObjectsController.php:1248:31[0m]8;;\ - Method OCA\OpenRegister\Service\ObjectService::unlock does not exist (see https://psalm.dev/022)
        $this->objectService->[97;41munlock[0m($id);


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L1396\lib/Controller/[1;31mObjectsController.php:1396:37[0m]8;;\ - Type non-empty-array<array-key, mixed> for $schemas is always array<array-key, mixed> (see https://psalm.dev/122)
                        $schemaId = [97;41mis_array($schemas)[0m ? reset($schemas) : $schemas;


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L1396\lib/Controller/[1;31mObjectsController.php:1396:76[0m]8;;\ - Type non-empty-array<array-key, mixed> for $schemas is always !array<array-key, mixed> (see https://psalm.dev/056)
                        $schemaId = is_array($schemas) ? reset($schemas) : [97;41m$schemas[0m;


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L1726\lib/Controller/[1;31mObjectsController.php:1726:20[0m]8;;\ - Too few arguments for OCP\AppFramework\Http\DataDownloadResponse::__construct - expecting filename to be passed (see https://psalm.dev/025)
            return [97;41mnew DataDownloadResponse(
                $zipContent,
                    schema: $zipInfo['filename'],
                    extend: $zipInfo['mimeType']
            )[0m;


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L1726\lib/Controller/[1;31mObjectsController.php:1726:20[0m]8;;\ - Too few arguments for OCP\AppFramework\Http\DataDownloadResponse::__construct - expecting contentType to be passed (see https://psalm.dev/025)
            return [97;41mnew DataDownloadResponse(
                $zipContent,
                    schema: $zipInfo['filename'],
                    extend: $zipInfo['mimeType']
            )[0m;


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L1728\lib/Controller/[1;31mObjectsController.php:1728:21[0m]8;;\ - Parameter $schema does not exist on function OCP\AppFramework\Http\DataDownloadResponse::__construct (see https://psalm.dev/238)
                    [97;41mschema[0m: $zipInfo['filename'],


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ObjectsController.php#L1729\lib/Controller/[1;31mObjectsController.php:1729:21[0m]8;;\ - Parameter $extend does not exist on function OCP\AppFramework\Http\DataDownloadResponse::__construct (see https://psalm.dev/238)
                    [97;41mextend[0m: $zipInfo['mimeType']


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/OrganisationController.php#L253\lib/Controller/[1;31mOrganisationController.php:253:116[0m]8;;\ - Parameter $active does not exist on function OCA\OpenRegister\Service\OrganisationService::createOrganisation (see https://psalm.dev/238)
            $organisation = $this->organisationService->createOrganisation(name: $name, description: $description, [97;41mactive[0m: true, uuid: $uuid);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/OrganisationController.php#L300\lib/Controller/[1;31mOrganisationController.php:300:69[0m]8;;\ - Parameter $uuid does not exist on function OCA\OpenRegister\Service\OrganisationService::joinOrganisation (see https://psalm.dev/238)
            $success = $this->organisationService->joinOrganisation([97;41muuid[0m: $uuid, userId: $userId);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/OrganisationController.php#L300\lib/Controller/[1;31mOrganisationController.php:300:82[0m]8;;\ - Parameter $userId does not exist on function OCA\OpenRegister\Service\OrganisationService::joinOrganisation (see https://psalm.dev/238)
            $success = $this->organisationService->joinOrganisation(uuid: $uuid, [97;41muserId[0m: $userId);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/OrganisationController.php#L355\lib/Controller/[1;31mOrganisationController.php:355:70[0m]8;;\ - Parameter $uuid does not exist on function OCA\OpenRegister\Service\OrganisationService::leaveOrganisation (see https://psalm.dev/238)
            $success = $this->organisationService->leaveOrganisation([97;41muuid[0m: $uuid, userId: $userId);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/OrganisationController.php#L355\lib/Controller/[1;31mOrganisationController.php:355:83[0m]8;;\ - Parameter $userId does not exist on function OCA\OpenRegister\Service\OrganisationService::leaveOrganisation (see https://psalm.dev/238)
            $success = $this->organisationService->leaveOrganisation(uuid: $uuid, [97;41muserId[0m: $userId);


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/RegistersController.php#L355\lib/Controller/[1;31mRegistersController.php:355:87[0m]8;;\ - Redundant cast to int (see https://psalm.dev/262)
            return new JSONResponse(data: $this->registerService->updateFromArray(id: [97;41m(int) $id[0m, data: $data));


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/RegistersController.php#L398\lib/Controller/[1;31mRegistersController.php:398:16[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/200)
     * @throws [97;41mException[0m If there is an error deleting the register


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/RegistersController.php#L410\lib/Controller/[1;31mRegistersController.php:410:54[0m]8;;\ - Redundant cast to int (see https://psalm.dev/262)
            $register = $this->registerService->find([97;41m(int) $id[0m);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/RegistersController.php#L545\lib/Controller/[1;31mRegistersController.php:545:35[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
                        throw new [97;41mException[0m('Failed to encode register data to JSON');


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/RegistersController.php#L551\lib/Controller/[1;31mRegistersController.php:551:18[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
        } catch ([97;41mException[0m $e) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/RegistersController.php#L552\lib/Controller/[1;31mRegistersController.php:552:85[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Controller\Exception does not exist (see https://psalm.dev/019)
            return new JSONResponse(data: ['error' => 'Failed to export register: '.[97;41m$e[0m->getMessage()], statusCode: 400);


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/RegistersController.php#L818\lib/Controller/[1;31mRegistersController.php:818:25[0m]8;;\ - Argument 5 of OCA\OpenRegister\Service\ConfigurationService::importFromJson expects null|string, but bool provided (see https://psalm.dev/012)
                        [97;41m$force[0m


[0;31mERROR[0m: TypeDoesNotContainNull - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/RegistersController.php#L898\lib/Controller/[1;31mRegistersController.php:898:17[0m]8;;\ - OCA\OpenRegister\Db\Register does not contain null (see https://psalm.dev/090)
            if ([97;41m$register === null[0m) {


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/RegistersController.php#L903\lib/Controller/[1;31mRegistersController.php:903:46[0m]8;;\ - Method OCA\OpenRegister\Service\RegisterService::calculateStats does not exist (see https://psalm.dev/022)
            $stats = $this->registerService->[97;41mcalculateStats[0m($register);


[0;31mERROR[0m: ImplicitToStringCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SchemasController.php#L481\lib/Controller/[1;31mSchemasController.php:481:30[0m]8;;\ - Argument 1 of setUuid expects null|string, but Symfony\Component\Uid\UuidV4 provided with a __toString method (see https://psalm.dev/060)
            $schema->setUuid([97;41mUuid::v4()[0m);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SearchController.php#L58\lib/Controller/[1;31mSearchController.php:58:15[0m]8;;\ - Class, interface or enum named OCP\Search\ISearch does not exist (see https://psalm.dev/019)
     * @param [97;41mISearch[0m     $searchService The search service


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SearchController.php#L96\lib/Controller/[1;31mSearchController.php:96:20[0m]8;;\ - Class, interface or enum named OCP\Search\ISearch does not exist (see https://psalm.dev/019)
        $results = [97;41m$this->searchService[0m->search($processedQuery);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SearchController.php#L106\lib/Controller/[1;31mSearchController.php:106:32[0m]8;;\ - Method OCP\Search\Result::getId does not exist (see https://psalm.dev/022)
                $id = $result->[97;41mgetId[0m();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SearchController.php#L112\lib/Controller/[1;31mSearchController.php:112:34[0m]8;;\ - Method OCP\Search\Result::getName does not exist (see https://psalm.dev/022)
                $name = $result->[97;41mgetName[0m();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SearchController.php#L118\lib/Controller/[1;31mSearchController.php:118:34[0m]8;;\ - Method OCP\Search\Result::getType does not exist (see https://psalm.dev/022)
                $type = $result->[97;41mgetType[0m();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SearchController.php#L124\lib/Controller/[1;31mSearchController.php:124:33[0m]8;;\ - Method OCP\Search\Result::getUrl does not exist (see https://psalm.dev/022)
                $url = $result->[97;41mgetUrl[0m();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SearchController.php#L130\lib/Controller/[1;31mSearchController.php:130:36[0m]8;;\ - Method OCP\Search\Result::getSource does not exist (see https://psalm.dev/022)
                $source = $result->[97;41mgetSource[0m();


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SearchTrailController.php#L543\lib/Controller/[1;31mSearchTrailController.php:543:36[0m]8;;\ - $serviceResult['user_agents'] is isset has already been asserted (see https://psalm.dev/122)
                $userAgentsArray = [97;41m$serviceResult['user_agents'][0m ?? [];


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SearchTrailController.php#L549\lib/Controller/[1;31mSearchTrailController.php:549:38[0m]8;;\ - Cannot access value on variable $serviceResult using offset value of 'total_unique_agents', expecting 'user_agents', 'browser_distribution', 'total_user_agents' or 'period' (see https://psalm.dev/115)
                $totalUniqueAgents = [97;41m$serviceResult['total_unique_agents'][0m ?? 0;


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SearchTrailController.php#L553\lib/Controller/[1;31mSearchTrailController.php:553:34[0m]8;;\ - Cannot access value on variable $serviceResult using offset value of 'total_searches', expecting 'user_agents', 'browser_distribution', 'total_user_agents', 'period' or 'total_unique_agents' (see https://psalm.dev/115)
                $totalSearches = [97;41m$serviceResult['total_searches'][0m ?? 0;


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SearchTrailController.php#L558\lib/Controller/[1;31mSearchTrailController.php:558:33[0m]8;;\ - Cannot access value on variable $serviceResult using offset value of 'browser_breakdown', expecting 'user_agents', 'browser_distribution', 'total_user_agents', 'period', 'total_unique_agents' or 'total_searches' (see https://psalm.dev/115)
                $browserStats = [97;41m$serviceResult['browser_breakdown'][0m ?? null;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L137\lib/Controller/[1;31mSettingsController.php:137:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m        $settingsService        The settings service


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L205\lib/Controller/[1;31mSettingsController.php:205:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $data = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L226\lib/Controller/[1;31mSettingsController.php:226:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->updateSettings($data);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L245\lib/Controller/[1;31mSettingsController.php:245:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->loadSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L265\lib/Controller/[1;31mSettingsController.php:265:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->updatePublishingOptions($data);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L288\lib/Controller/[1;31mSettingsController.php:288:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->rebase();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L311\lib/Controller/[1;31mSettingsController.php:311:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->getStats();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L352\lib/Controller/[1;31mSettingsController.php:352:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->getCacheStats();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L378\lib/Controller/[1;31mSettingsController.php:378:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->clearCache($type);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L401\lib/Controller/[1;31mSettingsController.php:401:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->warmupNamesCache();


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L792\lib/Controller/[1;31mSettingsController.php:792:17[0m]8;;\ - Instance property OCA\OpenRegister\Controller\SettingsController::$logger is not defined (see https://psalm.dev/041)
                [97;41m$this->logger[0m->error('Mass validation failed for object '.$object->getUuid().': '.$e->getMessage());


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L860\lib/Controller/[1;31mSettingsController.php:860:17[0m]8;;\ - Instance property OCA\OpenRegister\Controller\SettingsController::$logger is not defined (see https://psalm.dev/041)
                [97;41m$this->logger[0m->error('Mass validation failed for object '.$object->getUuid().': '.$e->getMessage());


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L1156\lib/Controller/[1;31mSettingsController.php:1156:46[0m]8;;\ - Cannot access value on variable $units using a int<0, max> offset, expecting int<0, 4> (see https://psalm.dev/115)
        return round($bytes, $precision).' '.[97;41m$units[$i][0m;


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L1230\lib/Controller/[1;31mSettingsController.php:1230:54[0m]8;;\ - Method OCA\OpenRegister\Controller\SettingsController::getRecommendationMessage does not exist (see https://psalm.dev/022)
                'recommendation'           => $this->[97;41mgetRecommendationMessage[0m($predictionSafe),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L1538\lib/Controller/[1;31mSettingsController.php:1538:29[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $solrSettings = [97;41m$this->settingsService[0m->getSolrSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2163\lib/Controller/[1;31mSettingsController.php:2163:33[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $objectCollection = [97;41m$this->settingsService[0m->getSolrSettingsOnly()['objectCollection'] ?? null;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2213\lib/Controller/[1;31mSettingsController.php:2213:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $fileCollection = [97;41m$this->settingsService[0m->getSolrSettingsOnly()['fileCollection'] ?? null;


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2241\lib/Controller/[1;31mSettingsController.php:2241:48[0m]8;;\ - Method OCA\OpenRegister\Controller\SettingsController::getFileFieldsMessage does not exist (see https://psalm.dev/022)
                        'message'    => $this->[97;41mgetFileFieldsMessage[0m($result),


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2376\lib/Controller/[1;31mSettingsController.php:2376:13[0m]8;;\ - Instance property OCA\OpenRegister\Controller\SettingsController::$logger is not defined (see https://psalm.dev/041)
            [97;41m$this->logger[0m->warning(


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2496\lib/Controller/[1;31mSettingsController.php:2496:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $data = [97;41m$this->settingsService[0m->getSolrSettingsOnly();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2517\lib/Controller/[1;31mSettingsController.php:2517:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->updateSolrSettingsOnly($data);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2537\lib/Controller/[1;31mSettingsController.php:2537:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $data = [97;41m$this->settingsService[0m->getSolrFacetConfiguration();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2558\lib/Controller/[1;31mSettingsController.php:2558:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->updateSolrFacetConfiguration($data);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2647\lib/Controller/[1;31mSettingsController.php:2647:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $existingConfig = [97;41m$this->settingsService[0m->getSolrFacetConfiguration();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2746\lib/Controller/[1;31mSettingsController.php:2746:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->updateSolrFacetConfiguration($data);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2900\lib/Controller/[1;31mSettingsController.php:2900:55[0m]8;;\ - Method OCA\OpenRegister\Controller\SettingsController::getCommitMessageText does not exist (see https://psalm.dev/022)
                                'message'   => $this->[97;41mgetCommitMessageText[0m($success),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2911\lib/Controller/[1;31mSettingsController.php:2911:55[0m]8;;\ - Method OCA\OpenRegister\Controller\SettingsController::getOptimizeMessage does not exist (see https://psalm.dev/022)
                                'message'   => $this->[97;41mgetOptimizeMessage[0m($success),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2924\lib/Controller/[1;31mSettingsController.php:2924:59[0m]8;;\ - Method OCA\OpenRegister\Controller\SettingsController::getClearMessage does not exist (see https://psalm.dev/022)
                                'message'       => $this->[97;41mgetClearMessage[0m($result),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2956\lib/Controller/[1;31mSettingsController.php:2956:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $data = [97;41m$this->settingsService[0m->getRbacSettingsOnly();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2977\lib/Controller/[1;31mSettingsController.php:2977:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->updateRbacSettingsOnly($data);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L2997\lib/Controller/[1;31mSettingsController.php:2997:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $data = [97;41m$this->settingsService[0m->getOrganisationSettingsOnly();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3018\lib/Controller/[1;31mSettingsController.php:3018:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->updateOrganisationSettingsOnly($data);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3038\lib/Controller/[1;31mSettingsController.php:3038:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $data = [97;41m$this->settingsService[0m->getMultitenancySettingsOnly();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3059\lib/Controller/[1;31mSettingsController.php:3059:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->updateMultitenancySettingsOnly($data);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3079\lib/Controller/[1;31mSettingsController.php:3079:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $data = [97;41m$this->settingsService[0m->getLLMSettingsOnly();


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3140\lib/Controller/[1;31mSettingsController.php:3140:25[0m]8;;\ - Instance property OCA\OpenRegister\Controller\SettingsController::$logger is not defined (see https://psalm.dev/041)
                        [97;41m$this->logger[0m->warning(


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3166\lib/Controller/[1;31mSettingsController.php:3166:13[0m]8;;\ - Instance property OCA\OpenRegister\Controller\SettingsController::$logger is not defined (see https://psalm.dev/041)
            [97;41m$this->logger[0m->error(


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3201\lib/Controller/[1;31mSettingsController.php:3201:29[0m]8;;\ - Docblock-defined class, interface or enum named Doctrine\DBAL\Platforms\AbstractPlatform does not exist (see https://psalm.dev/200)
            $platform     = [97;41m$this->db->getDatabasePlatform()[0m;


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3202\lib/Controller/[1;31mSettingsController.php:3202:29[0m]8;;\ - Docblock-defined class, interface or enum named Doctrine\DBAL\Platforms\AbstractPlatform does not exist (see https://psalm.dev/200)
            $platformName = [97;41m$platform[0m->getName();


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3290\lib/Controller/[1;31mSettingsController.php:3290:13[0m]8;;\ - Instance property OCA\OpenRegister\Controller\SettingsController::$logger is not defined (see https://psalm.dev/041)
            [97;41m$this->logger[0m->error(


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3348\lib/Controller/[1;31mSettingsController.php:3348:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->updateLLMSettingsOnly($data);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3535\lib/Controller/[1;31mSettingsController.php:3535:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $data = [97;41m$this->settingsService[0m->getFileSettingsOnly();


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3588\lib/Controller/[1;31mSettingsController.php:3588:17[0m]8;;\ - string can never contain null (see https://psalm.dev/122)
            if ([97;41m$curlError !== null[0m && $curlError !== '') {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3637\lib/Controller/[1;31mSettingsController.php:3637:26[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $settings  = [97;41m$this->settingsService[0m->getLLMSettingsOnly();


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3658\lib/Controller/[1;31mSettingsController.php:3658:17[0m]8;;\ - string can never contain null (see https://psalm.dev/122)
            if ([97;41m$curlError !== null[0m && $curlError !== '') {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3702\lib/Controller/[1;31mSettingsController.php:3702:29[0m]8;;\ - string can never contain null (see https://psalm.dev/122)
                        if ([97;41m$size !== null[0m && $size !== '') {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3831\lib/Controller/[1;31mSettingsController.php:3831:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->updateFileSettingsOnly($data);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3863\lib/Controller/[1;31mSettingsController.php:3863:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $settings = [97;41m$this->settingsService[0m->getObjectSettingsOnly();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3901\lib/Controller/[1;31mSettingsController.php:3901:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->updateObjectSettingsOnly($data);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3948\lib/Controller/[1;31mSettingsController.php:3948:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $data = [97;41m$this->settingsService[0m->getRetentionSettingsOnly();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3969\lib/Controller/[1;31mSettingsController.php:3969:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->settingsService[0m->updateRetentionSettingsOnly($data);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L3989\lib/Controller/[1;31mSettingsController.php:3989:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $data = [97;41m$this->settingsService[0m->getVersionInfoOnly();


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L4009\lib/Controller/[1;31mSettingsController.php:4009:28[0m]8;;\ - Instance property OCA\OpenRegister\Controller\SettingsController::$solrServiceFactory is not defined (see https://psalm.dev/041)
            $solrService = [97;41m$this->solrServiceFactory[0m->createService();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L4655\lib/Controller/[1;31mSettingsController.php:4655:29[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $solrSettings = [97;41m$this->settingsService[0m->getSolrSettingsOnly();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L4667\lib/Controller/[1;31mSettingsController.php:4667:13[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            [97;41m$this->settingsService[0m->updateSolrSettingsOnly($solrSettings);


[0;31mERROR[0m: InvalidOperand - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L4791\lib/Controller/[1;31mSettingsController.php:4791:28[0m]8;;\ - Cannot use spread operator on non-iterable type mixed (see https://psalm.dev/058)
                        ...[97;41m$result[0m,


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L4870\lib/Controller/[1;31mSettingsController.php:4870:13[0m]8;;\ - Instance property OCA\OpenRegister\Controller\SettingsController::$logger is not defined (see https://psalm.dev/041)
            [97;41m$this->logger[0m->info(


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L4882\lib/Controller/[1;31mSettingsController.php:4882:56[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
            $fileTextMapper    = $this->container->get([97;41m\OCA\OpenRegister\Db\FileTextMapper[0m::class);


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L4996\lib/Controller/[1;31mSettingsController.php:4996:13[0m]8;;\ - Instance property OCA\OpenRegister\Controller\SettingsController::$logger is not defined (see https://psalm.dev/041)
            [97;41m$this->logger[0m->error(


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L5028\lib/Controller/[1;31mSettingsController.php:5028:56[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
            $fileTextMapper    = $this->container->get([97;41m\OCA\OpenRegister\Db\FileTextMapper[0m::class);


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L5072\lib/Controller/[1;31mSettingsController.php:5072:13[0m]8;;\ - Instance property OCA\OpenRegister\Controller\SettingsController::$logger is not defined (see https://psalm.dev/041)
            [97;41m$this->logger[0m->error(


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L5107\lib/Controller/[1;31mSettingsController.php:5107:13[0m]8;;\ - Instance property OCA\OpenRegister\Controller\SettingsController::$logger is not defined (see https://psalm.dev/041)
            [97;41m$this->logger[0m->error(


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L5156\lib/Controller/[1;31mSettingsController.php:5156:53[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
            $fileTextMapper = $this->container->get([97;41m\OCA\OpenRegister\Db\FileTextMapper[0m::class);


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L5232\lib/Controller/[1;31mSettingsController.php:5232:17[0m]8;;\ - string can never contain null (see https://psalm.dev/122)
            if ([97;41m$githubToken !== null[0m && $githubToken !== '') {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SettingsController.php#L5236\lib/Controller/[1;31mSettingsController.php:5236:17[0m]8;;\ - string can never contain null (see https://psalm.dev/122)
            if ([97;41m$gitlabToken !== null[0m && $gitlabToken !== '') {


[0;31mERROR[0m: InvalidOperand - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SolrController.php#L222\lib/Controller/[1;31mSolrController.php:222:28[0m]8;;\ - Cannot use spread operator on non-iterable type mixed (see https://psalm.dev/058)
                        ...[97;41m$result[0m,


[0;31mERROR[0m: InvalidOperand - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SolrController.php#L772\lib/Controller/[1;31mSolrController.php:772:28[0m]8;;\ - Cannot use spread operator on non-iterable type mixed (see https://psalm.dev/058)
                        ...[97;41m$result[0m,


[0;31mERROR[0m: InvalidOperand - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SolrController.php#L883\lib/Controller/[1;31mSolrController.php:883:28[0m]8;;\ - Cannot use spread operator on non-iterable type mixed (see https://psalm.dev/058)
                        ...[97;41m$result[0m,


[0;31mERROR[0m: InvalidDocblock - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/SourcesController.php#L182\lib/Controller/[1;31mSourcesController.php:182:5[0m]8;;\ - Saw : outside of object-like array in docblock for OCA\OpenRegister\Controller\SourcesController::update (see https://psalm.dev/008)
    /**
     * Updates an existing source
     *
     * This method updates an existing source based on its ID.
     *
     * @param int $id The ID of the source to update
     *
     * @return JSONResponse A JSON response containing the updated source details
     *
     * @NoAdminRequired
     *
     * @NoCSRFRequired
     *
     * @psalm-return JSONResponse<200, statusCode: Source, array<never, never>>
     */
    [97;41mpublic function update(int $id): JSONResponse[0m


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/UiController.php#L65\lib/Controller/[1;31mUiController.php:65:49[0m]8;;\ - Parameter $policy does not exist on function OCP\AppFramework\Http\TemplateResponse::setContentSecurityPolicy (see https://psalm.dev/238)
            $response->setContentSecurityPolicy([97;41mpolicy[0m: $csp);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/UiController.php#L73\lib/Controller/[1;31mUiController.php:73:21[0m]8;;\ - Parameter $responseCode does not exist on function OCP\AppFramework\Http\TemplateResponse::__construct (see https://psalm.dev/238)
                    [97;41mresponseCode[0m: '500'


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ViewsController.php#L204\lib/Controller/[1;31mViewsController.php:204:55[0m]8;;\ - Parameter $userId does not exist on function OCA\OpenRegister\Service\ViewService::find (see https://psalm.dev/238)
            $view = $this->viewService->find(id: $id, [97;41muserId[0m: $userId);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ViewsController.php#L474\lib/Controller/[1;31mViewsController.php:474:55[0m]8;;\ - Parameter $userId does not exist on function OCA\OpenRegister\Service\ViewService::find (see https://psalm.dev/238)
            $view = $this->viewService->find(id: $id, [97;41muserId[0m: $userId);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Controller/ViewsController.php#L581\lib/Controller/[1;31mViewsController.php:581:49[0m]8;;\ - Parameter $extend does not exist on function OCA\OpenRegister\Service\ViewService::delete (see https://psalm.dev/238)
            $this->viewService->delete(id: $id, [97;41mextend[0m: $userId);


[0;31mERROR[0m: LessSpecificImplementedReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AgentMapper.php#L56\lib/Db/[1;31mAgentMapper.php:56:12[0m]8;;\ - The inherited return type 'list<OCA\OpenRegister\Db\Agent>' for OCP\AppFramework\Db\QBMapper::findEntities is more specific than the implemented return type for OCP\AppFramework\Db\QBMapper::findentities 'array<array-key, OCA\OpenRegister\Db\Agent>' (see https://psalm.dev/166)
/**
 * Class AgentMapper
 *
 * Mapper for Agent entities with multi-tenancy and RBAC support.
 *
 * @package OCA\OpenRegister\Db
 *
 * @template-extends QBMapper<Agent>
 *
 * @psalm-suppress MissingTemplateParam
 *
 * @method Agent insert(Entity $entity)
 * @method Agent update(Entity $entity)
 * @method Agent insertOrUpdate(Entity $entity)
 * @method Agent delete(Entity $entity)
 * @method Agent find(int|string $id)
 * @method Agent findEntity(IQueryBuilder $query)
 * @method [97;41mAgent[][0m findAll(int|null $limit = null, int|null $offset = null)
 * @method Agent[] findEntities(IQueryBuilder $query)
 */
class AgentMapper extends QBMapper


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AgentMapper.php#L483\lib/Db/[1;31mAgentMapper.php:483:13[0m]8;;\ - Type OCA\OpenRegister\Db\Agent for $entity is always OCA\OpenRegister\Db\Agent (see https://psalm.dev/122)
        if ([97;41m$entity instanceof Agent[0m) {


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AgentMapper.php#L490\lib/Db/[1;31mAgentMapper.php:490:78[0m]8;;\ - Parameter $register does not exist on function OCA\OpenRegister\Event\AgentUpdatedEvent::__construct (see https://psalm.dev/238)
        $this->eventDispatcher->dispatchTyped(new AgentUpdatedEvent($entity, [97;41mregister[0m: $oldEntity));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AgentMapper.php#L508\lib/Db/[1;31mAgentMapper.php:508:47[0m]8;;\ - Parameter $schema does not exist on function OCA\OpenRegister\Db\AgentMapper::verifyRbacPermission (see https://psalm.dev/238)
        $this->verifyRbacPermission('delete', [97;41mschema[0m: 'agent');


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AgentMapper.php#L551\lib/Db/[1;31mAgentMapper.php:551:45[0m]8;;\ - Parameter $extend does not exist on function OCA\OpenRegister\Db\AgentMapper::verifyRbacPermission (see https://psalm.dev/238)
        $this->verifyRbacPermission('read', [97;41mextend[0m: 'agent');


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AgentMapper.php#L563\lib/Db/[1;31mAgentMapper.php:563:52[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::eq - expecting y to be passed (see https://psalm.dev/025)
                        $qb->andWhere($qb->expr()->[97;41meq[0m($field, files: $qb->createNamedParameter((bool) $value, rbac: IQueryBuilder::PARAM_BOOL)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AgentMapper.php#L563\lib/Db/[1;31mAgentMapper.php:563:63[0m]8;;\ - Parameter $files does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::eq (see https://psalm.dev/238)
                        $qb->andWhere($qb->expr()->eq($field, [97;41mfiles[0m: $qb->createNamedParameter((bool) $value, rbac: IQueryBuilder::PARAM_BOOL)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AgentMapper.php#L563\lib/Db/[1;31mAgentMapper.php:563:111[0m]8;;\ - Parameter $rbac does not exist on function OCP\DB\QueryBuilder\IQueryBuilder::createNamedParameter (see https://psalm.dev/238)
                        $qb->andWhere($qb->expr()->eq($field, files: $qb->createNamedParameter((bool) $value, [97;41mrbac[0m: IQueryBuilder::PARAM_BOOL)));


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AgentMapper.php#L565\lib/Db/[1;31mAgentMapper.php:565:52[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::in - expecting y to be passed (see https://psalm.dev/025)
                        $qb->andWhere($qb->expr()->[97;41min[0m($field, multi: $qb->createNamedParameter($value, IQueryBuilder::PARAM_STR_ARRAY)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AgentMapper.php#L565\lib/Db/[1;31mAgentMapper.php:565:63[0m]8;;\ - Parameter $multi does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::in (see https://psalm.dev/238)
                        $qb->andWhere($qb->expr()->in($field, [97;41mmulti[0m: $qb->createNamedParameter($value, IQueryBuilder::PARAM_STR_ARRAY)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ApplicationMapper.php#L313\lib/Db/[1;31mApplicationMapper.php:313:84[0m]8;;\ - Parameter $register does not exist on function OCA\OpenRegister\Event\ApplicationUpdatedEvent::__construct (see https://psalm.dev/238)
        $this->eventDispatcher->dispatchTyped(new ApplicationUpdatedEvent($entity, [97;41mregister[0m: $oldEntity));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ApplicationMapper.php#L333\lib/Db/[1;31mApplicationMapper.php:333:47[0m]8;;\ - Parameter $schema does not exist on function OCA\OpenRegister\Db\ApplicationMapper::verifyRbacPermission (see https://psalm.dev/238)
        $this->verifyRbacPermission('delete', [97;41mschema[0m: 'application');


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ApplicationMapper.php#L395\lib/Db/[1;31mApplicationMapper.php:395:45[0m]8;;\ - Parameter $files does not exist on function OCA\OpenRegister\Db\ApplicationMapper::verifyRbacPermission (see https://psalm.dev/238)
        $this->verifyRbacPermission('read', [97;41mfiles[0m: 'application');


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ApplicationMapper.php#L401\lib/Db/[1;31mApplicationMapper.php:401:34[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::eq - expecting y to be passed (see https://psalm.dev/025)
            ->where($qb->expr()->[97;41meq[0m('organisation', rbac: $qb->createNamedParameter($organisationUuid, multi: IQueryBuilder::PARAM_STR)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ApplicationMapper.php#L401\lib/Db/[1;31mApplicationMapper.php:401:53[0m]8;;\ - Parameter $rbac does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::eq (see https://psalm.dev/238)
            ->where($qb->expr()->eq('organisation', [97;41mrbac[0m: $qb->createNamedParameter($organisationUuid, multi: IQueryBuilder::PARAM_STR)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ApplicationMapper.php#L401\lib/Db/[1;31mApplicationMapper.php:401:104[0m]8;;\ - Parameter $multi does not exist on function OCP\DB\QueryBuilder\IQueryBuilder::createNamedParameter (see https://psalm.dev/238)
            ->where($qb->expr()->eq('organisation', rbac: $qb->createNamedParameter($organisationUuid, [97;41mmulti[0m: IQueryBuilder::PARAM_STR)));


[0;31mERROR[0m: LessSpecificImplementedReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AuditTrailMapper.php#L43\lib/Db/[1;31mAuditTrailMapper.php:43:12[0m]8;;\ - The inherited return type 'list<OCP\AppFramework\Db\Entity>' for OCP\AppFramework\Db\QBMapper::findEntities is more specific than the implemented return type for OCP\AppFramework\Db\QBMapper::findentities 'array<array-key, OCA\OpenRegister\Db\AuditTrail>' (see https://psalm.dev/166)
/**
 * The AuditTrailMapper class handles audit trail operations and object reversions
 *
 * @package OCA\OpenRegister\Db
 *
 * @method AuditTrail insert(Entity $entity)
 * @method AuditTrail update(Entity $entity)
 * @method AuditTrail insertOrUpdate(Entity $entity)
 * @method AuditTrail delete(Entity $entity)
 * @method AuditTrail find(int|string $id)
 * @method AuditTrail findEntity(IQueryBuilder $query)
 * @method [97;41mAuditTrail[][0m findAll(int|null $limit = null, int|null $offset = null)
 * @method AuditTrail[] findEntities(IQueryBuilder $query)
 */
class AuditTrailMapper extends QBMapper


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AuditTrailMapper.php#L45\lib/Db/[1;31mAuditTrailMapper.php:45:7[0m]8;;\ - OCA\OpenRegister\Db\AuditTrailMapper has missing template params when extending OCP\AppFramework\Db\QBMapper, expecting 1 (see https://psalm.dev/182)
class [97;41mAuditTrailMapper[0m extends QBMapper


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AuditTrailMapper.php#L247\lib/Db/[1;31mAuditTrailMapper.php:247:35[0m]8;;\ - Parameter $config does not exist on function OCA\OpenRegister\Db\AuditTrailMapper::findAll (see https://psalm.dev/238)
            return $this->findAll([97;41mconfig[0m: $limit, rbac: $offset, multi: $filters);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AuditTrailMapper.php#L247\lib/Db/[1;31mAuditTrailMapper.php:247:51[0m]8;;\ - Parameter $rbac does not exist on function OCA\OpenRegister\Db\AuditTrailMapper::findAll (see https://psalm.dev/238)
            return $this->findAll(config: $limit, [97;41mrbac[0m: $offset, multi: $filters);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AuditTrailMapper.php#L247\lib/Db/[1;31mAuditTrailMapper.php:247:66[0m]8;;\ - Parameter $multi does not exist on function OCA\OpenRegister\Db\AuditTrailMapper::findAll (see https://psalm.dev/238)
            return $this->findAll(config: $limit, rbac: $offset, [97;41mmulti[0m: $filters);


[0;31mERROR[0m: ImplicitToStringCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AuditTrailMapper.php#L270\lib/Db/[1;31mAuditTrailMapper.php:270:34[0m]8;;\ - Argument 1 of setUuid expects null|string, but Symfony\Component\Uid\UuidV4 provided with a __toString method (see https://psalm.dev/060)
            $auditTrail->setUuid([97;41mUuid::v4()[0m);


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AuditTrailMapper.php#L388\lib/Db/[1;31mAuditTrailMapper.php:388:15[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\DateTime does not exist (see https://psalm.dev/200)
     * @param [97;41mDateTime|string|null[0m $until      DateTime, AuditTrail ID, or semantic version to get trails until


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/AuditTrailMapper.php#L467\lib/Db/[1;31mAuditTrailMapper.php:467:15[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\DateTime does not exist (see https://psalm.dev/200)
     * @param [97;41mDateTime|string|null[0m $until            DateTime or AuditTrail ID to revert to


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConfigurationMapper.php#L435\lib/Db/[1;31mConfigurationMapper.php:435:13[0m]8;;\ - Type OCA\OpenRegister\Db\Configuration for $entity is always OCA\OpenRegister\Db\Configuration (see https://psalm.dev/122)
        if ([97;41m$entity instanceof Configuration[0m) {


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConfigurationMapper.php#L515\lib/Db/[1;31mConfigurationMapper.php:515:27[0m]8;;\ - Too few arguments for explode - expecting string to be passed (see https://psalm.dev/025)
            $version    = [97;41mexplode('.', register: $object->getVersion())[0m;


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConfigurationMapper.php#L515\lib/Db/[1;31mConfigurationMapper.php:515:40[0m]8;;\ - Parameter $register does not exist on function explode (see https://psalm.dev/238)
            $version    = explode('.', [97;41mregister[0m: $object->getVersion());


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConfigurationMapper.php#L517\lib/Db/[1;31mConfigurationMapper.php:517:46[0m]8;;\ - Parameter $schema does not exist on function implode (see https://psalm.dev/238)
            $object->setVersion(implode('.', [97;41mschema[0m: $version));


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConfigurationMapper.php#L540\lib/Db/[1;31mConfigurationMapper.php:540:34[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::eq - expecting y to be passed (see https://psalm.dev/025)
            ->where($qb->expr()->[97;41meq[0m('type', extend: $qb->createNamedParameter($type, files: IQueryBuilder::PARAM_STR)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConfigurationMapper.php#L540\lib/Db/[1;31mConfigurationMapper.php:540:45[0m]8;;\ - Parameter $extend does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::eq (see https://psalm.dev/238)
            ->where($qb->expr()->eq('type', [97;41mextend[0m: $qb->createNamedParameter($type, files: IQueryBuilder::PARAM_STR)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConfigurationMapper.php#L540\lib/Db/[1;31mConfigurationMapper.php:540:86[0m]8;;\ - Parameter $files does not exist on function OCP\DB\QueryBuilder\IQueryBuilder::createNamedParameter (see https://psalm.dev/238)
            ->where($qb->expr()->eq('type', extend: $qb->createNamedParameter($type, [97;41mfiles[0m: IQueryBuilder::PARAM_STR)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConversationMapper.php#L137\lib/Db/[1;31mConversationMapper.php:137:85[0m]8;;\ - Parameter $register does not exist on function OCA\OpenRegister\Event\ConversationUpdatedEvent::__construct (see https://psalm.dev/238)
        $this->eventDispatcher->dispatchTyped(new ConversationUpdatedEvent($entity, [97;41mregister[0m: $oldEntity));


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConversationMapper.php#L179\lib/Db/[1;31mConversationMapper.php:179:34[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::eq - expecting y to be passed (see https://psalm.dev/025)
            ->where($qb->expr()->[97;41meq[0m('id', schema: $qb->createNamedParameter($id, extend: IQueryBuilder::PARAM_INT)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConversationMapper.php#L179\lib/Db/[1;31mConversationMapper.php:179:43[0m]8;;\ - Parameter $schema does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::eq (see https://psalm.dev/238)
            ->where($qb->expr()->eq('id', [97;41mschema[0m: $qb->createNamedParameter($id, extend: IQueryBuilder::PARAM_INT)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConversationMapper.php#L179\lib/Db/[1;31mConversationMapper.php:179:82[0m]8;;\ - Parameter $extend does not exist on function OCP\DB\QueryBuilder\IQueryBuilder::createNamedParameter (see https://psalm.dev/238)
            ->where($qb->expr()->eq('id', schema: $qb->createNamedParameter($id, [97;41mextend[0m: IQueryBuilder::PARAM_INT)));


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConversationMapper.php#L202\lib/Db/[1;31mConversationMapper.php:202:34[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::eq - expecting y to be passed (see https://psalm.dev/025)
            ->where($qb->expr()->[97;41meq[0m('uuid', files: $qb->createNamedParameter($uuid, rbac: IQueryBuilder::PARAM_STR)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConversationMapper.php#L202\lib/Db/[1;31mConversationMapper.php:202:45[0m]8;;\ - Parameter $files does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::eq (see https://psalm.dev/238)
            ->where($qb->expr()->eq('uuid', [97;41mfiles[0m: $qb->createNamedParameter($uuid, rbac: IQueryBuilder::PARAM_STR)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConversationMapper.php#L202\lib/Db/[1;31mConversationMapper.php:202:85[0m]8;;\ - Parameter $rbac does not exist on function OCP\DB\QueryBuilder\IQueryBuilder::createNamedParameter (see https://psalm.dev/238)
            ->where($qb->expr()->eq('uuid', files: $qb->createNamedParameter($uuid, [97;41mrbac[0m: IQueryBuilder::PARAM_STR)));


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConversationMapper.php#L545\lib/Db/[1;31mConversationMapper.php:545:30[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::lt - expecting y to be passed (see https://psalm.dev/025)
                $qb->expr()->[97;41mlt[0m(


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConversationMapper.php#L547\lib/Db/[1;31mConversationMapper.php:547:25[0m]8;;\ - Parameter $register does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::lt (see https://psalm.dev/238)
                        [97;41mregister[0m: $qb->createNamedParameter($threshold, schema: IQueryBuilder::PARAM_DATE)


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ConversationMapper.php#L547\lib/Db/[1;31mConversationMapper.php:547:73[0m]8;;\ - Parameter $schema does not exist on function OCP\DB\QueryBuilder\IQueryBuilder::createNamedParameter (see https://psalm.dev/238)
                        register: $qb->createNamedParameter($threshold, [97;41mschema[0m: IQueryBuilder::PARAM_DATE)


[0;31mERROR[0m: LessSpecificImplementedReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FeedbackMapper.php#L44\lib/Db/[1;31mFeedbackMapper.php:44:12[0m]8;;\ - The inherited return type 'list<OCA\OpenRegister\Db\Feedback>' for OCP\AppFramework\Db\QBMapper::findEntities is more specific than the implemented return type for OCP\AppFramework\Db\QBMapper::findentities 'array<array-key, OCA\OpenRegister\Db\Feedback>' (see https://psalm.dev/166)
/**
 * Class FeedbackMapper
 *
 * @package OCA\OpenRegister\Db
 *
 * @template-extends QBMapper<Feedback>
 *
 * @method Feedback insert(Entity $entity)
 * @method Feedback update(Entity $entity)
 * @method Feedback insertOrUpdate(Entity $entity)
 * @method Feedback delete(Entity $entity)
 * @method Feedback find(int|string $id)
 * @method Feedback findEntity(IQueryBuilder $query)
 * @method [97;41mFeedback[][0m findAll(int|null $limit = null, int|null $offset = null)
 * @method Feedback[] findEntities(IQueryBuilder $query)
 */
class FeedbackMapper extends QBMapper


[0;31mERROR[0m: LessSpecificImplementedReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FeedbackMapper.php#L67\lib/Db/[1;31mFeedbackMapper.php:67:16[0m]8;;\ - The inherited return type 'OCA\OpenRegister\Db\Feedback' for OCP\AppFramework\Db\QBMapper::insert is more specific than the implemented return type for OCA\OpenRegister\Db\FeedbackMapper::insert 'OCP\AppFramework\Db\Entity' (see https://psalm.dev/166)
     * @return [97;41mEntity[0m Inserted entity


[0;31mERROR[0m: LessSpecificImplementedReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FeedbackMapper.php#L94\lib/Db/[1;31mFeedbackMapper.php:94:16[0m]8;;\ - The inherited return type 'OCA\OpenRegister\Db\Feedback' for OCP\AppFramework\Db\QBMapper::update is more specific than the implemented return type for OCA\OpenRegister\Db\FeedbackMapper::update 'OCP\AppFramework\Db\Entity' (see https://psalm.dev/166)
     * @return [97;41mEntity[0m Updated entity


[0;31mERROR[0m: ImplementedReturnTypeMismatch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FileMapper.php#L65\lib/Db/[1;31mFileMapper.php:65:10[0m]8;;\ - The inherited return type 'OCP\AppFramework\Db\Entity' for OCP\AppFramework\Db\QBMapper::insert is different to the implemented return type for OCP\AppFramework\Db\QBMapper::insert 'array{accessUrl: null|string, checksum: string, downloadUrl: null|string, encrypted: int, etag: string, fileid: int, mimepart: string, mimetype: string, mtime: int, name: string, owner: null|string, parent: int, path: string, path_hash: string, permissions: int, published: null|string, share_stime: int|null, share_token: null|string, size: int, storage: int, storage_id: null|string, storage_mtime: int, unencrypted_size: int}' (see https://psalm.dev/123)
/**
 * Class [97;41mFile[0mMapper
 *
 * Handles read-only operations for the oc_filecache table with share information.
 *
 * @category  Database
 * @package   OCA\OpenRegister\Db


[0;31mERROR[0m: ImplementedParamTypeMismatch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FileMapper.php#L65\lib/Db/[1;31mFileMapper.php:65:12[0m]8;;\ - Argument 1 of OCA\OpenRegister\Db\FileMapper::insert has wrong type 'OCA\OpenRegister\Db\Entity', expecting 'OCP\AppFramework\Db\Entity' as defined by OCP\AppFramework\Db\QBMapper::insert (see https://psalm.dev/199)
/**
 * Class FileMapper
 *
 * Handles read-only operations for the oc_filecache table with share information.
 *
 * @category  Database
 * @package   OCA\OpenRegister\Db
 * @author    Conduction Development Team <dev@conductio.nl>
 * @copyright 2024 Conduction B.V.
 * @license   EUPL-1.2 https://joinup.ec.europa.eu/collection/eupl/eupl-text-eupl-12
 * @version   GIT: <git-id>
 * @link      https://OpenRegister.app
 *
 * @phpstan-type File array{
 *   fileid: int,
 *   storage: int,
 *   path: string,
 *   path_hash: string,
 *   parent: int,
 *   name: string,
 *   mimetype: string,
 *   mimepart: string,
 *   size: int,
 *   mtime: int,
 *   storage_mtime: int,
 *   encrypted: int,
 *   unencrypted_size: int,
 *   etag: string,
 *   permissions: int,
 *   checksum: string,
 *   share_token: string|null,
 *   share_stime: int|null,
 *   storage_id: string|null,
 *   owner: string|null,
 *   accessUrl: string|null,
 *   downloadUrl: string|null,
 *   published: string|null
 * }
 *
 * @method [97;41mFile insert(Entity $entity)[0m
 * @method File update(Entity $entity)
 * @method File insertOrUpdate(Entity $entity)
 * @method File delete(Entity $entity)
 * @method File find(int|string $id)


[0;31mERROR[0m: ImplementedReturnTypeMismatch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FileMapper.php#L66\lib/Db/[1;31mFileMapper.php:66:10[0m]8;;\ - The inherited return type 'OCP\AppFramework\Db\Entity' for OCP\AppFramework\Db\QBMapper::update is different to the implemented return type for OCP\AppFramework\Db\QBMapper::update 'array{accessUrl: null|string, checksum: string, downloadUrl: null|string, encrypted: int, etag: string, fileid: int, mimepart: string, mimetype: string, mtime: int, name: string, owner: null|string, parent: int, path: string, path_hash: string, permissions: int, published: null|string, share_stime: int|null, share_token: null|string, size: int, storage: int, storage_id: null|string, storage_mtime: int, unencrypted_size: int}' (see https://psalm.dev/123)
/**
 * Class [97;41mFile[0mMapper
 *
 * Handles read-only operations for the oc_filecache table with share information.
 *
 * @category  Database
 * @package   OCA\OpenRegister\Db


[0;31mERROR[0m: ImplementedParamTypeMismatch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FileMapper.php#L66\lib/Db/[1;31mFileMapper.php:66:12[0m]8;;\ - Argument 1 of OCA\OpenRegister\Db\FileMapper::update has wrong type 'OCA\OpenRegister\Db\Entity', expecting 'OCP\AppFramework\Db\Entity' as defined by OCP\AppFramework\Db\QBMapper::update (see https://psalm.dev/199)
/**
 * Class FileMapper
 *
 * Handles read-only operations for the oc_filecache table with share information.
 *
 * @category  Database
 * @package   OCA\OpenRegister\Db
 * @author    Conduction Development Team <dev@conductio.nl>
 * @copyright 2024 Conduction B.V.
 * @license   EUPL-1.2 https://joinup.ec.europa.eu/collection/eupl/eupl-text-eupl-12
 * @version   GIT: <git-id>
 * @link      https://OpenRegister.app
 *
 * @phpstan-type File array{
 *   fileid: int,
 *   storage: int,
 *   path: string,
 *   path_hash: string,
 *   parent: int,
 *   name: string,
 *   mimetype: string,
 *   mimepart: string,
 *   size: int,
 *   mtime: int,
 *   storage_mtime: int,
 *   encrypted: int,
 *   unencrypted_size: int,
 *   etag: string,
 *   permissions: int,
 *   checksum: string,
 *   share_token: string|null,
 *   share_stime: int|null,
 *   storage_id: string|null,
 *   owner: string|null,
 *   accessUrl: string|null,
 *   downloadUrl: string|null,
 *   published: string|null
 * }
 *
 * @method [97;41mFile insert(Entity $entity)[0m
 * @method File update(Entity $entity)
 * @method File insertOrUpdate(Entity $entity)
 * @method File delete(Entity $entity)
 * @method File find(int|string $id)


[0;31mERROR[0m: ImplementedReturnTypeMismatch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FileMapper.php#L67\lib/Db/[1;31mFileMapper.php:67:10[0m]8;;\ - The inherited return type 'OCP\AppFramework\Db\Entity' for OCP\AppFramework\Db\QBMapper::insertOrUpdate is different to the implemented return type for OCP\AppFramework\Db\QBMapper::insertorupdate 'array{accessUrl: null|string, checksum: string, downloadUrl: null|string, encrypted: int, etag: string, fileid: int, mimepart: string, mimetype: string, mtime: int, name: string, owner: null|string, parent: int, path: string, path_hash: string, permissions: int, published: null|string, share_stime: int|null, share_token: null|string, size: int, storage: int, storage_id: null|string, storage_mtime: int, unencrypted_size: int}' (see https://psalm.dev/123)
/**
 * Class [97;41mFile[0mMapper
 *
 * Handles read-only operations for the oc_filecache table with share information.
 *
 * @category  Database
 * @package   OCA\OpenRegister\Db


[0;31mERROR[0m: ImplementedParamTypeMismatch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FileMapper.php#L67\lib/Db/[1;31mFileMapper.php:67:12[0m]8;;\ - Argument 1 of OCA\OpenRegister\Db\FileMapper::insertOrUpdate has wrong type 'OCA\OpenRegister\Db\Entity', expecting 'OCP\AppFramework\Db\Entity' as defined by OCP\AppFramework\Db\QBMapper::insertOrUpdate (see https://psalm.dev/199)
/**
 * Class FileMapper
 *
 * Handles read-only operations for the oc_filecache table with share information.
 *
 * @category  Database
 * @package   OCA\OpenRegister\Db
 * @author    Conduction Development Team <dev@conductio.nl>
 * @copyright 2024 Conduction B.V.
 * @license   EUPL-1.2 https://joinup.ec.europa.eu/collection/eupl/eupl-text-eupl-12
 * @version   GIT: <git-id>
 * @link      https://OpenRegister.app
 *
 * @phpstan-type File array{
 *   fileid: int,
 *   storage: int,
 *   path: string,
 *   path_hash: string,
 *   parent: int,
 *   name: string,
 *   mimetype: string,
 *   mimepart: string,
 *   size: int,
 *   mtime: int,
 *   storage_mtime: int,
 *   encrypted: int,
 *   unencrypted_size: int,
 *   etag: string,
 *   permissions: int,
 *   checksum: string,
 *   share_token: string|null,
 *   share_stime: int|null,
 *   storage_id: string|null,
 *   owner: string|null,
 *   accessUrl: string|null,
 *   downloadUrl: string|null,
 *   published: string|null
 * }
 *
 * @method [97;41mFile insert(Entity $entity)[0m
 * @method File update(Entity $entity)
 * @method File insertOrUpdate(Entity $entity)
 * @method File delete(Entity $entity)
 * @method File find(int|string $id)


[0;31mERROR[0m: ImplementedReturnTypeMismatch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FileMapper.php#L68\lib/Db/[1;31mFileMapper.php:68:10[0m]8;;\ - The inherited return type 'OCP\AppFramework\Db\Entity' for OCP\AppFramework\Db\QBMapper::delete is different to the implemented return type for OCP\AppFramework\Db\QBMapper::delete 'array{accessUrl: null|string, checksum: string, downloadUrl: null|string, encrypted: int, etag: string, fileid: int, mimepart: string, mimetype: string, mtime: int, name: string, owner: null|string, parent: int, path: string, path_hash: string, permissions: int, published: null|string, share_stime: int|null, share_token: null|string, size: int, storage: int, storage_id: null|string, storage_mtime: int, unencrypted_size: int}' (see https://psalm.dev/123)
/**
 * Class [97;41mFile[0mMapper
 *
 * Handles read-only operations for the oc_filecache table with share information.
 *
 * @category  Database
 * @package   OCA\OpenRegister\Db


[0;31mERROR[0m: ImplementedParamTypeMismatch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FileMapper.php#L68\lib/Db/[1;31mFileMapper.php:68:12[0m]8;;\ - Argument 1 of OCA\OpenRegister\Db\FileMapper::delete has wrong type 'OCA\OpenRegister\Db\Entity', expecting 'OCP\AppFramework\Db\Entity' as defined by OCP\AppFramework\Db\QBMapper::delete (see https://psalm.dev/199)
/**
 * Class FileMapper
 *
 * Handles read-only operations for the oc_filecache table with share information.
 *
 * @category  Database
 * @package   OCA\OpenRegister\Db
 * @author    Conduction Development Team <dev@conductio.nl>
 * @copyright 2024 Conduction B.V.
 * @license   EUPL-1.2 https://joinup.ec.europa.eu/collection/eupl/eupl-text-eupl-12
 * @version   GIT: <git-id>
 * @link      https://OpenRegister.app
 *
 * @phpstan-type File array{
 *   fileid: int,
 *   storage: int,
 *   path: string,
 *   path_hash: string,
 *   parent: int,
 *   name: string,
 *   mimetype: string,
 *   mimepart: string,
 *   size: int,
 *   mtime: int,
 *   storage_mtime: int,
 *   encrypted: int,
 *   unencrypted_size: int,
 *   etag: string,
 *   permissions: int,
 *   checksum: string,
 *   share_token: string|null,
 *   share_stime: int|null,
 *   storage_id: string|null,
 *   owner: string|null,
 *   accessUrl: string|null,
 *   downloadUrl: string|null,
 *   published: string|null
 * }
 *
 * @method [97;41mFile insert(Entity $entity)[0m
 * @method File update(Entity $entity)
 * @method File insertOrUpdate(Entity $entity)
 * @method File delete(Entity $entity)
 * @method File find(int|string $id)


[0;31mERROR[0m: ImplementedReturnTypeMismatch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FileMapper.php#L70\lib/Db/[1;31mFileMapper.php:70:10[0m]8;;\ - The inherited return type 'OCP\AppFramework\Db\Entity' for OCP\AppFramework\Db\QBMapper::findEntity is different to the implemented return type for OCP\AppFramework\Db\QBMapper::findentity 'array{accessUrl: null|string, checksum: string, downloadUrl: null|string, encrypted: int, etag: string, fileid: int, mimepart: string, mimetype: string, mtime: int, name: string, owner: null|string, parent: int, path: string, path_hash: string, permissions: int, published: null|string, share_stime: int|null, share_token: null|string, size: int, storage: int, storage_id: null|string, storage_mtime: int, unencrypted_size: int}' (see https://psalm.dev/123)
/**
 * Class [97;41mFile[0mMapper
 *
 * Handles read-only operations for the oc_filecache table with share information.
 *
 * @category  Database
 * @package   OCA\OpenRegister\Db


[0;31mERROR[0m: LessSpecificImplementedReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FileMapper.php#L72\lib/Db/[1;31mFileMapper.php:72:12[0m]8;;\ - The inherited return type 'list<OCP\AppFramework\Db\Entity>' for OCP\AppFramework\Db\QBMapper::findEntities is more specific than the implemented return type for OCP\AppFramework\Db\QBMapper::findentities 'array<array-key, array{accessUrl: null|string, checksum: string, downloadUrl: null|string, encrypted: int, etag: string, fileid: int, mimepart: string, mimetype: string, mtime: int, name: string, owner: null|string, parent: int, path: string, path_hash: string, permissions: int, published: null|string, share_stime: int|null, share_token: null|string, size: int, storage: int, storage_id: null|string, storage_mtime: int, unencrypted_size: int}>' (see https://psalm.dev/166)
/**
 * Class FileMapper
 *
 * Handles read-only operations for the oc_filecache table with share information.
 *
 * @category  Database
 * @package   OCA\OpenRegister\Db
 * @author    Conduction Development Team <dev@conductio.nl>
 * @copyright 2024 Conduction B.V.
 * @license   EUPL-1.2 https://joinup.ec.europa.eu/collection/eupl/eupl-text-eupl-12
 * @version   GIT: <git-id>
 * @link      https://OpenRegister.app
 *
 * @phpstan-type File array{
 *   fileid: int,
 *   storage: int,
 *   path: string,
 *   path_hash: string,
 *   parent: int,
 *   name: string,
 *   mimetype: string,
 *   mimepart: string,
 *   size: int,
 *   mtime: int,
 *   storage_mtime: int,
 *   encrypted: int,
 *   unencrypted_size: int,
 *   etag: string,
 *   permissions: int,
 *   checksum: string,
 *   share_token: string|null,
 *   share_stime: int|null,
 *   storage_id: string|null,
 *   owner: string|null,
 *   accessUrl: string|null,
 *   downloadUrl: string|null,
 *   published: string|null
 * }
 *
 * @method File insert(Entity $entity)
 * @method File update(Entity $entity)
 * @method File insertOrUpdate(Entity $entity)
 * @method File delete(Entity $entity)
 * @method File find(int|string $id)
 * @method File findEntity(IQueryBuilder $query)
 * @method [97;41mFile[][0m findAll(int|null $limit = null, int|null $offset = null)
 * @method File[] findEntities(IQueryBuilder $query)
 */
class FileMapper extends QBMapper


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FileMapper.php#L74\lib/Db/[1;31mFileMapper.php:74:7[0m]8;;\ - OCA\OpenRegister\Db\FileMapper has missing template params when extending OCP\AppFramework\Db\QBMapper, expecting 1 (see https://psalm.dev/182)
class [97;41mFileMapper[0m extends QBMapper


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FileMapper.php#L516\lib/Db/[1;31mFileMapper.php:516:30[0m]8;;\ - Redundant cast to int (see https://psalm.dev/262)
            'id'          => [97;41m(int) $shareId[0m,


[0;31mERROR[0m: TooManyArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/FileMapper.php#L661\lib/Db/[1;31mFileMapper.php:661:34[0m]8;;\ - Too many arguments for method OCP\DB\QueryBuilder\IFunctionBuilder::sum - saw 2 (see https://psalm.dev/026)
        $qb->select($qb->func()->[97;41msum[0m('fc.size', 'total_size'))


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/GdprEntityMapper.php#L75\lib/Db/[1;31mGdprEntityMapper.php:75:79[0m]8;;\ - Method OCP\DB\QueryBuilder\IQueryBuilder::escapeLikeParameter does not exist (see https://psalm.dev/181)
                $qb->expr()->like('value', $qb->createNamedParameter('%'.$qb->[97;41mescapeLikeParameter[0m($search).'%'))


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L60\lib/Db/[1;31mMultiTenancyTrait.php:60:14[0m]8;;\ - Property $this->organisationService with type OCA\OpenRegister\Service\OrganisationService should already be set in the constructor (see https://psalm.dev/261)
        if (![97;41misset($this->organisationService)[0m) {


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L84\lib/Db/[1;31mMultiTenancyTrait.php:84:14[0m]8;;\ - Property $this->organisationService with type OCA\OpenRegister\Service\OrganisationService should already be set in the constructor (see https://psalm.dev/261)
        if (![97;41misset($this->organisationService)[0m) {


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L103\lib/Db/[1;31mMultiTenancyTrait.php:103:14[0m]8;;\ - Property $this->userSession with type OCP\IUserSession should already be set in the constructor (see https://psalm.dev/261)
        if (![97;41misset($this->userSession)[0m) {


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L128\lib/Db/[1;31mMultiTenancyTrait.php:128:14[0m]8;;\ - Property $this->groupManager with type OCP\IGroupManager should already be set in the constructor (see https://psalm.dev/261)
        if (![97;41misset($this->groupManager)[0m) {


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L183\lib/Db/[1;31mMultiTenancyTrait.php:183:13[0m]8;;\ - Property $this->appConfig with type OCP\IAppConfig should already be set in the constructor (see https://psalm.dev/261)
        if ([97;41misset($this->appConfig)[0m) {


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L191\lib/Db/[1;31mMultiTenancyTrait.php:191:25[0m]8;;\ - Property $this->logger with type Psr\Log\LoggerInterface should already be set in the constructor (see https://psalm.dev/261)
                    if ([97;41misset($this->logger)[0m) {


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L201\lib/Db/[1;31mMultiTenancyTrait.php:201:19[0m]8;;\ - Instance property OCA\OpenRegister\Db\RegisterMapper::$userSession is not defined (see https://psalm.dev/041)
        $user   = [97;41m$this->userSession[0m->getUser();


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L206\lib/Db/[1;31mMultiTenancyTrait.php:206:17[0m]8;;\ - Property $this->logger with type Psr\Log\LoggerInterface should already be set in the constructor (see https://psalm.dev/261)
            if ([97;41misset($this->logger)[0m) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L221\lib/Db/[1;31mMultiTenancyTrait.php:221:13[0m]8;;\ - Type OCP\IAppConfig for $this->appConfig is always isset (see https://psalm.dev/122)
        if ([97;41m$enablePublished && isset($this->appConfig)[0m) {


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L231\lib/Db/[1;31mMultiTenancyTrait.php:231:17[0m]8;;\ - Property $this->logger with type Psr\Log\LoggerInterface should already be set in the constructor (see https://psalm.dev/261)
            if ([97;41misset($this->logger)[0m) {


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L244\lib/Db/[1;31mMultiTenancyTrait.php:244:27[0m]8;;\ - Instance property OCA\OpenRegister\Db\RegisterMapper::$groupManager is not defined (see https://psalm.dev/041)
            $userGroups = [97;41m$this->groupManager[0m->getUserGroupIds($user);


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L287\lib/Db/[1;31mMultiTenancyTrait.php:287:13[0m]8;;\ - Property $this->organisationService with type OCA\OpenRegister\Service\OrganisationService should already be set in the constructor (see https://psalm.dev/261)
        if ([97;41misset($this->organisationService)[0m) {


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L296\lib/Db/[1;31mMultiTenancyTrait.php:296:23[0m]8;;\ - Instance property OCA\OpenRegister\Db\RegisterMapper::$groupManager is not defined (see https://psalm.dev/041)
        $userGroups = [97;41m$this->groupManager[0m->getUserGroupIds($user);


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L300\lib/Db/[1;31mMultiTenancyTrait.php:300:13[0m]8;;\ - Type OCP\IAppConfig for $this->appConfig is always isset (see https://psalm.dev/122)
        if ([97;41m$isAdmin && isset($this->appConfig)[0m) {


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L311\lib/Db/[1;31mMultiTenancyTrait.php:311:17[0m]8;;\ - Property $this->logger with type Psr\Log\LoggerInterface should already be set in the constructor (see https://psalm.dev/261)
            if ([97;41misset($this->logger)[0m) {


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L320\lib/Db/[1;31mMultiTenancyTrait.php:320:17[0m]8;;\ - Property $this->logger with type Psr\Log\LoggerInterface should already be set in the constructor (see https://psalm.dev/261)
            if ([97;41misset($this->logger)[0m) {


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L335\lib/Db/[1;31mMultiTenancyTrait.php:335:13[0m]8;;\ - Property $this->logger with type Psr\Log\LoggerInterface should already be set in the constructor (see https://psalm.dev/261)
        if ([97;41misset($this->logger)[0m) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L363\lib/Db/[1;31mMultiTenancyTrait.php:363:17[0m]8;;\ - Type Psr\Log\LoggerInterface for $this->logger is always isset (see https://psalm.dev/122)
            if ([97;41misset($this->logger)[0m) {


[0;31mERROR[0m: ParadoxicalCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L377\lib/Db/[1;31mMultiTenancyTrait.php:377:13[0m]8;;\ - Condition (($allowNullOrg) && ($isAdmin) && ($isSystemDefaultOrg)) contradicts a previously-established condition ((!$isAdmin) || (!$isSystemDefaultOrg)) (see https://psalm.dev/089)
        if ([97;41m$allowNullOrg && $isSystemDefaultOrg && $isAdmin[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L377\lib/Db/[1;31mMultiTenancyTrait.php:377:53[0m]8;;\ - Operand of type false is always falsy (see https://psalm.dev/056)
        if ($allowNullOrg && $isSystemDefaultOrg && [97;41m$isAdmin[0m) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L380\lib/Db/[1;31mMultiTenancyTrait.php:380:17[0m]8;;\ - Type Psr\Log\LoggerInterface for $this->logger is always isset (see https://psalm.dev/122)
            if ([97;41misset($this->logger)[0m) {


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L496\lib/Db/[1;31mMultiTenancyTrait.php:496:14[0m]8;;\ - Property $this->organisationService with type OCA\OpenRegister\Service\OrganisationService should already be set in the constructor (see https://psalm.dev/261)
        if (![97;41misset($this->organisationService)[0m) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L512\lib/Db/[1;31mMultiTenancyTrait.php:512:13[0m]8;;\ - Type array<array-key, mixed> for $orgUsers is always array<array-key, mixed> (see https://psalm.dev/122)
        if ([97;41mis_array($orgUsers)[0m && in_array($userId, $orgUsers)) {


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L523\lib/Db/[1;31mMultiTenancyTrait.php:523:14[0m]8;;\ - Property $this->groupManager with type OCP\IGroupManager should already be set in the constructor (see https://psalm.dev/261)
        if (![97;41misset($this->groupManager)[0m) {


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/MultiTenancyTrait.php#L528\lib/Db/[1;31mMultiTenancyTrait.php:528:17[0m]8;;\ - Instance property OCA\OpenRegister\Db\RegisterMapper::$userSession is not defined (see https://psalm.dev/041)
        $user = [97;41m$this->userSession[0m->getUser();


[0;31mERROR[0m: AssignmentToVoid - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntity.php#L731\lib/Db/[1;31mObjectEntity.php:731:13[0m]8;;\ - Cannot assign $lock to type void (see https://psalm.dev/121)
            [97;41m$lock[0m = $this->setLocked();


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntity.php#L731\lib/Db/[1;31mObjectEntity.php:731:21[0m]8;;\ - Too few arguments for setLocked - expecting locked to be passed (see https://psalm.dev/025)
            $lock = [97;41m$this->setLocked()[0m;


[0;31mERROR[0m: NullArrayAccess - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntity.php#L734\lib/Db/[1;31mObjectEntity.php:734:17[0m]8;;\ - Cannot access array value on null variable $lock (see https://psalm.dev/052)
            if ([97;41m$lock['user'][0m !== $userId) {


[0;31mERROR[0m: NullArrayAccess - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntity.php#L739\lib/Db/[1;31mObjectEntity.php:739:45[0m]8;;\ - Cannot access array value on null variable $lock (see https://psalm.dev/052)
            $expirationDate = new \DateTime([97;41m$lock['expiration'][0m);


[0;31mERROR[0m: NullArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntity.php#L739\lib/Db/[1;31mObjectEntity.php:739:45[0m]8;;\ - Argument 1 of DateTime::__construct cannot be null, null value provided to parameter with type string (see https://psalm.dev/057)
            $expirationDate = new \DateTime([97;41m$lock['expiration'][0m);


[0;31mERROR[0m: NullArrayAccess - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntity.php#L746\lib/Db/[1;31mObjectEntity.php:746:54[0m]8;;\ - Cannot access array value on null variable $lock (see https://psalm.dev/052)
                        'process'    => ($process ?? [97;41m$lock['process'][0m),


[0;31mERROR[0m: NullArrayAccess - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntity.php#L747\lib/Db/[1;31mObjectEntity.php:747:41[0m]8;;\ - Cannot access array value on null variable $lock (see https://psalm.dev/052)
                        'created'    => [97;41m$lock['created'][0m,


[0;31mERROR[0m: LessSpecificImplementedReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L67\lib/Db/[1;31mObjectEntityMapper.php:67:12[0m]8;;\ - The inherited return type 'list<OCP\AppFramework\Db\Entity>' for OCP\AppFramework\Db\QBMapper::findEntities is more specific than the implemented return type for OCP\AppFramework\Db\QBMapper::findentities 'array<array-key, OCA\OpenRegister\Db\ObjectEntity>' (see https://psalm.dev/166)
/**
 * The ObjectEntityMapper class
 *
 * @package OCA\OpenRegister\Db
 *
 * @method ObjectEntity insert(Entity $entity)
 * @method ObjectEntity update(Entity $entity)
 * @method ObjectEntity insertOrUpdate(Entity $entity)
 * @method ObjectEntity delete(Entity $entity)
 * @method ObjectEntity find(int|string $id)
 * @method ObjectEntity findEntity(IQueryBuilder $query)
 * @method [97;41mObjectEntity[][0m findAll(int|null $limit = null, int|null $offset = null)
 * @method ObjectEntity[] findEntities(IQueryBuilder $query)
 */
class ObjectEntityMapper extends QBMapper


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L69\lib/Db/[1;31mObjectEntityMapper.php:69:7[0m]8;;\ - OCA\OpenRegister\Db\ObjectEntityMapper has missing template params when extending OCP\AppFramework\Db\QBMapper, expecting 1 (see https://psalm.dev/182)
class [97;41mObjectEntityMapper[0m extends QBMapper


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L209\lib/Db/[1;31mObjectEntityMapper.php:209:51[0m]8;;\ - Class, interface or enum named Doctrine\DBAL\Platforms\MySQLPlatform does not exist (see https://psalm.dev/019)
        if ($db->getDatabasePlatform() instanceof [97;41mMySQLPlatform[0m === true) {


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L465\lib/Db/[1;31mObjectEntityMapper.php:465:45[0m]8;;\ - Method OCA\OpenRegister\Db\ObjectEntityMapper::getPermissionResult does not exist (see https://psalm.dev/022)
                    'result'      => $this->[97;41mgetPermissionResult[0m($exceptionResult),


[0;31mERROR[0m: UndefinedVariable - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L775\lib/Db/[1;31mObjectEntityMapper.php:775:57[0m]8;;\ - Cannot find referenced variable $organizationColumn (see https://psalm.dev/024)
                $orgConditions->add($qb->expr()->isNull([97;41m$organizationColumn[0m));


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L841\lib/Db/[1;31mObjectEntityMapper.php:841:13[0m]8;;\ - string can never contain null (see https://psalm.dev/122)
        if ([97;41m$objectTableAlias !== null[0m && $objectTableAlias !== '') {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L934\lib/Db/[1;31mObjectEntityMapper.php:934:57[0m]8;;\ - Class, interface or enum named Doctrine\DBAL\Platforms\MySQLPlatform does not exist (see https://psalm.dev/019)
        if ($this->db->getDatabasePlatform() instanceof [97;41mMySQLPlatform[0m) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L956\lib/Db/[1;31mObjectEntityMapper.php:956:57[0m]8;;\ - Class, interface or enum named Doctrine\DBAL\Platforms\MySQLPlatform does not exist (see https://psalm.dev/019)
        if ($this->db->getDatabasePlatform() instanceof [97;41mMySQLPlatform[0m) {


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L1161\lib/Db/[1;31mObjectEntityMapper.php:1161:31[0m]8;;\ - Argument 1 of strlen expects string, but int provided (see https://psalm.dev/012)
                return strlen([97;41mintval($id)[0m) === strlen($id);


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L1607\lib/Db/[1;31mObjectEntityMapper.php:1607:64[0m]8;;\ - Operand of type true is always truthy (see https://psalm.dev/122)
            $needsSchemaJoin = $rbac && !$performanceBypass && [97;41m!$smartBypass[0m;


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L1634\lib/Db/[1;31mObjectEntityMapper.php:1634:64[0m]8;;\ - Operand of type true is always truthy (see https://psalm.dev/122)
            $needsSchemaJoin = $rbac && !$performanceBypass && [97;41m!$smartBypass[0m;


[0;31mERROR[0m: UndefinedVariable - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2062\lib/Db/[1;31mObjectEntityMapper.php:2062:13[0m]8;;\ - Cannot find referenced variable $ids (see https://psalm.dev/024)
        if ([97;41m$ids[0m !== null && empty($ids) === false) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2135\lib/Db/[1;31mObjectEntityMapper.php:2135:13[0m]8;;\ - string can never contain null (see https://psalm.dev/122)
        if ([97;41m$tableAlias !== null[0m && $tableAlias !== '') {


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2285\lib/Db/[1;31mObjectEntityMapper.php:2285:20[0m]8;;\ - The inferred type 'int|string' does not match the declared return type 'OCA\OpenRegister\Db\Register|OCA\OpenRegister\Db\Schema|array<array-key, mixed>|null' for OCA\OpenRegister\Db\ObjectEntityMapper::processRegisterSchemaValue (see https://psalm.dev/128)
            return [97;41m$value[0m;


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2549\lib/Db/[1;31mObjectEntityMapper.php:2549:37[0m]8;;\ - Method OCA\OpenRegister\Db\ObjectEntityMapper::prepareEntity does not exist (see https://psalm.dev/022)
        return $this->update($this->[97;41mprepareEntity[0m($newObject));


[0;31mERROR[0m: ParamNameMismatch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2563\lib/Db/[1;31mObjectEntityMapper.php:2563:35[0m]8;;\ - Argument 1 of OCA\OpenRegister\Db\ObjectEntityMapper::delete has wrong name $object, expecting $entity as defined by OCP\AppFramework\Db\QBMapper::delete (see https://psalm.dev/230)
    public function delete(Entity [97;41m$object[0m): ObjectEntity


[0;31mERROR[0m: MoreSpecificImplementedParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2563\lib/Db/[1;31mObjectEntityMapper.php:2563:35[0m]8;;\ - Argument 1 of OCA\OpenRegister\Db\ObjectEntityMapper::delete has the more specific type 'OCA\OpenRegister\Db\ObjectEntity', expecting 'OCP\AppFramework\Db\Entity' as defined by OCP\AppFramework\Db\QBMapper::delete (see https://psalm.dev/140)
    public function delete(Entity [97;41m$object[0m): ObjectEntity


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2692\lib/Db/[1;31mObjectEntityMapper.php:2692:26[0m]8;;\ - Too few arguments for OCA\OpenRegister\Db\ObjectEntityMapper::find - expecting identifier to be passed (see https://psalm.dev/025)
        $object = $this->[97;41mfind[0m(id: $identifier);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2692\lib/Db/[1;31mObjectEntityMapper.php:2692:31[0m]8;;\ - Parameter $id does not exist on function OCA\OpenRegister\Db\ObjectEntityMapper::find (see https://psalm.dev/238)
        $object = $this->find([97;41mid[0m: $identifier);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2704\lib/Db/[1;31mObjectEntityMapper.php:2704:43[0m]8;;\ - Parameter $register does not exist on function OCA\OpenRegister\Db\ObjectEntity::lock (see https://psalm.dev/238)
        $object->lock($this->userSession, [97;41mregister[0m: $process, schema: $duration);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2704\lib/Db/[1;31mObjectEntityMapper.php:2704:63[0m]8;;\ - Parameter $schema does not exist on function OCA\OpenRegister\Db\ObjectEntity::lock (see https://psalm.dev/238)
        $object->lock($this->userSession, register: $process, [97;41mschema[0m: $duration);


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2763\lib/Db/[1;31mObjectEntityMapper.php:2763:26[0m]8;;\ - Too few arguments for OCA\OpenRegister\Db\ObjectEntityMapper::find - expecting identifier to be passed (see https://psalm.dev/025)
        $object = $this->[97;41mfind[0m(id: $identifier);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2763\lib/Db/[1;31mObjectEntityMapper.php:2763:31[0m]8;;\ - Parameter $id does not exist on function OCA\OpenRegister\Db\ObjectEntityMapper::find (see https://psalm.dev/238)
        $object = $this->find([97;41mid[0m: $identifier);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2789\lib/Db/[1;31mObjectEntityMapper.php:2789:54[0m]8;;\ - Parameter $rbac does not exist on function array_filter (see https://psalm.dev/238)
        $cleanIds = array_filter(array_unique($ids), [97;41mrbac[0m: fn($id) => !empty($id));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2797\lib/Db/[1;31mObjectEntityMapper.php:2797:105[0m]8;;\ - Parameter $multi does not exist on function Psr\Log\LoggerInterface::warning (see https://psalm.dev/238)
            $this->logger->warning('findMultiple called with excessive IDs - limiting for performance', [97;41mmulti[0m: [


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L2848\lib/Db/[1;31mObjectEntityMapper.php:2848:86[0m]8;;\ - Class, interface or enum named Doctrine\DBAL\ParameterType does not exist (see https://psalm.dev/019)
            ->where($qb->expr()->eq('o.schema', $qb->createNamedParameter($schemaId, [97;41m\Doctrine\DBAL\ParameterType[0m::INTEGER)))


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L3104\lib/Db/[1;31mObjectEntityMapper.php:3104:21[0m]8;;\ - int can never contain null (see https://psalm.dev/122)
                if ([97;41m$range['min'] !== null[0m) {


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L3573\lib/Db/[1;31mObjectEntityMapper.php:3573:22[0m]8;;\ - The declared return type 'array<int, string>' for OCA\OpenRegister\Db\ObjectEntityMapper::saveObjects is incorrect, got 'list<null|string>' (see https://psalm.dev/011)
     * @psalm-return [97;41marray<int, string>[0m


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L3589\lib/Db/[1;31mObjectEntityMapper.php:3589:59[0m]8;;\ - Argument 1 of OCA\OpenRegister\Db\ObjectEntityMapper::separateLargeObjects expects array<int, array<string, mixed>>, but array<int, OCA\OpenRegister\Db\ObjectEntity> provided (see https://psalm.dev/004)
        $updateObjectGroups = $this->separateLargeObjects([97;41m$updateObjects[0m, 500000); // 500KB threshold


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L3606\lib/Db/[1;31mObjectEntityMapper.php:3606:48[0m]8;;\ - Argument 1 of OCA\OpenRegister\Db\ObjectEntityMapper::update expects OCP\AppFramework\Db\Entity, but array<string, mixed> provided (see https://psalm.dev/004)
                $updatedObject = $this->update([97;41m$largeUpdateObject[0m);


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L3643\lib/Db/[1;31mObjectEntityMapper.php:3643:59[0m]8;;\ - Argument 1 of OCA\OpenRegister\Db\ObjectEntityMapper::processUpdateChunk expects array<int, OCA\OpenRegister\Db\ObjectEntity>, but non-empty-list<array<string, mixed>> provided (see https://psalm.dev/004)
                    $chunkIds = $this->processUpdateChunk([97;41m$updateChunk[0m);


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L3709\lib/Db/[1;31mObjectEntityMapper.php:3709:16[0m]8;;\ - The inferred type 'list<null|string>' does not match the declared return type 'array<int, string>' for OCA\OpenRegister\Db\ObjectEntityMapper::saveObjects (see https://psalm.dev/128)
        return [97;41m$savedObjectIds[0m;


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L3752\lib/Db/[1;31mObjectEntityMapper.php:3752:13[0m]8;;\ - 0 cannot be identical to int<1, max> (see https://psalm.dev/056)
        if ([97;41m$objectCount === 0[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L3874\lib/Db/[1;31mObjectEntityMapper.php:3874:13[0m]8;;\ - 0 cannot be identical to int<1, max> (see https://psalm.dev/056)
        if ([97;41m$objectCount === 0[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L4103\lib/Db/[1;31mObjectEntityMapper.php:4103:25[0m]8;;\ - OCP\DB\IResult does not contain true (see https://psalm.dev/056)
                    if ([97;41m$result === true[0m) {


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L4204\lib/Db/[1;31mObjectEntityMapper.php:4204:22[0m]8;;\ - The declared return type 'array<int, string>' for OCA\OpenRegister\Db\ObjectEntityMapper::bulkUpdate is incorrect, got 'list<null|string>' (see https://psalm.dev/011)
     * @psalm-return [97;41marray<int, string>[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L4250\lib/Db/[1;31mObjectEntityMapper.php:4250:16[0m]8;;\ - The inferred type 'list<null|string>' does not match the declared return type 'array<int, string>' for OCA\OpenRegister\Db\ObjectEntityMapper::bulkUpdate (see https://psalm.dev/128)
        return [97;41m$updatedIds[0m;


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L4417\lib/Db/[1;31mObjectEntityMapper.php:4417:25[0m]8;;\ - 'object' cannot be identical to key-of<array<array-key, mixed>> (see https://psalm.dev/056)
                    if ([97;41m$column === 'object'[0m && is_array($value)) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L4417\lib/Db/[1;31mObjectEntityMapper.php:4417:25[0m]8;;\ - Type key-of<array<array-key, mixed>> for $column is never =string(object) (see https://psalm.dev/056)
                    if ([97;41m$column === 'object'[0m && is_array($value)) {


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L4680\lib/Db/[1;31mObjectEntityMapper.php:4680:15[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\DateTime does not exist (see https://psalm.dev/200)
     * @param [97;41mDateTime|bool[0m $datetime Optional datetime for publishing (false to unset)


[0;31mERROR[0m: MismatchingDocblockParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L4680\lib/Db/[1;31mObjectEntityMapper.php:4680:15[0m]8;;\ - Parameter $datetime has wrong type 'OCA\OpenRegister\Db\DateTime|bool', should be 'DateTime|bool' (see https://psalm.dev/141)
     * @param [97;41mDateTime|bool[0m $datetime Optional datetime for publishing (false to unset)


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L4776\lib/Db/[1;31mObjectEntityMapper.php:4776:15[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\DateTime does not exist (see https://psalm.dev/200)
     * @param [97;41mDateTime|bool[0m $datetime Optional datetime for depublishing (false to unset)


[0;31mERROR[0m: MismatchingDocblockParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L4776\lib/Db/[1;31mObjectEntityMapper.php:4776:15[0m]8;;\ - Parameter $datetime has wrong type 'OCA\OpenRegister\Db\DateTime|bool', should be 'DateTime|bool' (see https://psalm.dev/141)
     * @param [97;41mDateTime|bool[0m $datetime Optional datetime for depublishing (false to unset)


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L5097\lib/Db/[1;31mObjectEntityMapper.php:5097:15[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\DateTime does not exist (see https://psalm.dev/200)
     * @param [97;41mDateTime|bool[0m $datetime Optional datetime for publishing (false to unset)


[0;31mERROR[0m: MismatchingDocblockParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L5097\lib/Db/[1;31mObjectEntityMapper.php:5097:15[0m]8;;\ - Parameter $datetime has wrong type 'OCA\OpenRegister\Db\DateTime|bool', should be 'DateTime|bool' (see https://psalm.dev/141)
     * @param [97;41mDateTime|bool[0m $datetime Optional datetime for publishing (false to unset)


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L5155\lib/Db/[1;31mObjectEntityMapper.php:5155:15[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\DateTime does not exist (see https://psalm.dev/200)
     * @param [97;41mDateTime|bool[0m $datetime Optional datetime for depublishing (false to unset)


[0;31mERROR[0m: MismatchingDocblockParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L5155\lib/Db/[1;31mObjectEntityMapper.php:5155:15[0m]8;;\ - Parameter $datetime has wrong type 'OCA\OpenRegister\Db\DateTime|bool', should be 'DateTime|bool' (see https://psalm.dev/141)
     * @param [97;41mDateTime|bool[0m $datetime Optional datetime for depublishing (false to unset)


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectEntityMapper.php#L5293\lib/Db/[1;31mObjectEntityMapper.php:5293:21[0m]8;;\ - Operand of type OCP\DB\IResult is always truthy (see https://psalm.dev/122)
                if ([97;41m$result[0m && isset($objectData['uuid'])) {


[0;31mERROR[0m: UndefinedFunction - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectHandlers/HyperFacetHandler.php#L447\lib/Db/ObjectHandlers/[1;31mHyperFacetHandler.php:447:20[0m]8;;\ - Function React\Async\await does not exist (see https://psalm.dev/021)
        $results = [97;41m\React\Async\await(\React\Promise\all($promises))[0m;


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectHandlers/HyperFacetHandler.php#L609\lib/Db/ObjectHandlers/[1;31mHyperFacetHandler.php:609:26[0m]8;;\ - Argument 1 expects T:React\Promise\Promise as mixed, but array<string, array<array-key, mixed>|mixed> provided (see https://psalm.dev/004)
                $resolve([97;41m$results[0m);


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectHandlers/HyperFacetHandler.php#L1072\lib/Db/ObjectHandlers/[1;31mHyperFacetHandler.php:1072:22[0m]8;;\ - Argument 1 expects T:React\Promise\Promise as mixed, but array<never, never> provided (see https://psalm.dev/004)
            $resolve([97;41m[][0m); // Simplified for now


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectHandlers/MariaDbFacetHandler.php#L1231\lib/Db/ObjectHandlers/[1;31mMariaDbFacetHandler.php:1231:25[0m]8;;\ - Type array<array-key, mixed> for $value[0] is always array<array-key, mixed> (see https://psalm.dev/122)
                    if ([97;41mis_array($value[0])[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectHandlers/MariaDbFacetHandler.php#L1244\lib/Db/ObjectHandlers/[1;31mMariaDbFacetHandler.php:1244:21[0m]8;;\ - Type object for $value is never array<array-key, mixed> (see https://psalm.dev/056)
                if ([97;41mis_array($value)[0m) {


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectHandlers/MariaDbFacetHandler.php#L1245\lib/Db/ObjectHandlers/[1;31mMariaDbFacetHandler.php:1245:48[0m]8;;\ - All possible types for this argument were invalidated - This may be dead code (see https://psalm.dev/179)
                    $this->analyzeObjectFields([97;41m$value[0m, $fieldAnalysis, $fieldPath, $depth + 1);


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectHandlers/MariaDbFacetHandler.php#L1527\lib/Db/ObjectHandlers/[1;31mMariaDbFacetHandler.php:1527:44[0m]8;;\ - All possible types for this assignment were invalidated - This may be dead code (see https://psalm.dev/179)
            foreach (array_keys($types) as [97;41m$type[0m) {


[0;31mERROR[0m: InvalidOperand - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectHandlers/OptimizedBulkOperations.php#L250\lib/Db/ObjectHandlers/[1;31mOptimizedBulkOperations.php:250:60[0m]8;;\ - Cannot perform a numeric operation with a non-numeric type OCP\DB\IResult (see https://psalm.dev/058)
            $estimatedCreated = max(0, $totalObjects * 2 - [97;41m$affectedRows[0m);


[0;31mERROR[0m: InvalidOperand - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/ObjectHandlers/OptimizedBulkOperations.php#L251\lib/Db/ObjectHandlers/[1;31mOptimizedBulkOperations.php:251:33[0m]8;;\ - Cannot perform a numeric operation with a non-numeric type OCP\DB\IResult (see https://psalm.dev/058)
            $estimatedUpdated = [97;41m$affectedRows[0m - $estimatedCreated;


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Organisation.php#L348\lib/Db/[1;31mOrganisation.php:348:13[0m]8;;\ - Instance property OCA\OpenRegister\Db\Organisation::$roles is not defined (see https://psalm.dev/041)
        if ([97;41m$this->roles[0m === null) {


[0;31mERROR[0m: UndefinedThisPropertyAssignment - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Organisation.php#L350\lib/Db/[1;31mOrganisation.php:350:13[0m]8;;\ - Instance property OCA\OpenRegister\Db\Organisation::$roles is not defined (see https://psalm.dev/040)
            [97;41m$this->roles[0m = [];


[0;31mERROR[0m: UndefinedThisPropertyAssignment - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Organisation.php#L368\lib/Db/[1;31mOrganisation.php:368:17[0m]8;;\ - Instance property OCA\OpenRegister\Db\Organisation::$roles is not defined (see https://psalm.dev/040)
                [97;41m$this->roles[0m[] = $role;


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Organisation.php#L387\lib/Db/[1;31mOrganisation.php:387:13[0m]8;;\ - Instance property OCA\OpenRegister\Db\Organisation::$roles is not defined (see https://psalm.dev/041)
        if ([97;41m$this->roles[0m === null) {


[0;31mERROR[0m: UndefinedThisPropertyAssignment - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Organisation.php#L392\lib/Db/[1;31mOrganisation.php:392:9[0m]8;;\ - Instance property OCA\OpenRegister\Db\Organisation::$roles is not defined (see https://psalm.dev/040)
        [97;41m$this->roles[0m = array_values(


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Organisation.php#L417\lib/Db/[1;31mOrganisation.php:417:13[0m]8;;\ - Instance property OCA\OpenRegister\Db\Organisation::$roles is not defined (see https://psalm.dev/041)
        if ([97;41m$this->roles[0m === null) {


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Organisation.php#L443\lib/Db/[1;31mOrganisation.php:443:13[0m]8;;\ - Instance property OCA\OpenRegister\Db\Organisation::$roles is not defined (see https://psalm.dev/041)
        if ([97;41m$this->roles[0m === null) {


[0;31mERROR[0m: LessSpecificImplementedReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/OrganisationMapper.php#L54\lib/Db/[1;31mOrganisationMapper.php:54:12[0m]8;;\ - The inherited return type 'list<OCP\AppFramework\Db\Entity>' for OCP\AppFramework\Db\QBMapper::findEntities is more specific than the implemented return type for OCP\AppFramework\Db\QBMapper::findentities 'array<array-key, OCA\OpenRegister\Db\Organisation>' (see https://psalm.dev/166)
/**
 * OrganisationMapper
 *
 * Database mapper for Organisation entities with multi-tenancy support.
 * Manages CRUD operations and user-organisation relationships.
 *
 * @package OCA\OpenRegister\Db
 *
 * @method Organisation insert(Entity $entity)
 * @method Organisation update(Entity $entity)
 * @method Organisation insertOrUpdate(Entity $entity)
 * @method Organisation delete(Entity $entity)
 * @method Organisation find(int|string $id)
 * @method Organisation findEntity(IQueryBuilder $query)
 * @method [97;41mOrganisation[][0m findAll(int|null $limit = null, int|null $offset = null)
 * @method Organisation[] findEntities(IQueryBuilder $query)
 */
class OrganisationMapper extends QBMapper


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/OrganisationMapper.php#L56\lib/Db/[1;31mOrganisationMapper.php:56:7[0m]8;;\ - OCA\OpenRegister\Db\OrganisationMapper has missing template params when extending OCP\AppFramework\Db\QBMapper, expecting 1 (see https://psalm.dev/182)
class [97;41mOrganisationMapper[0m extends QBMapper


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/OrganisationMapper.php#L117\lib/Db/[1;31mOrganisationMapper.php:117:29[0m]8;;\ - Method OCA\OpenRegister\Db\OrganisationMapper::find does not exist (see https://psalm.dev/022)
        $oldEntity = $this->[97;41mfind[0m(id: $entity->getId());


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/OrganisationMapper.php#L126\lib/Db/[1;31mOrganisationMapper.php:126:85[0m]8;;\ - Parameter $register does not exist on function OCA\OpenRegister\Event\OrganisationUpdatedEvent::__construct (see https://psalm.dev/238)
        $this->eventDispatcher->dispatchTyped(new OrganisationUpdatedEvent($entity, [97;41mregister[0m: $oldEntity));


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/OrganisationMapper.php#L168\lib/Db/[1;31mOrganisationMapper.php:168:34[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::eq - expecting y to be passed (see https://psalm.dev/025)
            ->where($qb->expr()->[97;41meq[0m('uuid', schema: $qb->createNamedParameter($uuid)));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/OrganisationMapper.php#L168\lib/Db/[1;31mOrganisationMapper.php:168:45[0m]8;;\ - Parameter $schema does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::eq (see https://psalm.dev/238)
            ->where($qb->expr()->eq('uuid', [97;41mschema[0m: $qb->createNamedParameter($uuid)));


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/OrganisationMapper.php#L194\lib/Db/[1;31mOrganisationMapper.php:194:30[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::in - expecting y to be passed (see https://psalm.dev/025)
                $qb->expr()->[97;41min[0m('uuid', files: $qb->createNamedParameter($uuids, rbac: IQueryBuilder::PARAM_STR_ARRAY))


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/OrganisationMapper.php#L194\lib/Db/[1;31mOrganisationMapper.php:194:41[0m]8;;\ - Parameter $files does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::in (see https://psalm.dev/238)
                $qb->expr()->in('uuid', [97;41mfiles[0m: $qb->createNamedParameter($uuids, rbac: IQueryBuilder::PARAM_STR_ARRAY))


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/OrganisationMapper.php#L194\lib/Db/[1;31mOrganisationMapper.php:194:82[0m]8;;\ - Parameter $rbac does not exist on function OCP\DB\QueryBuilder\IQueryBuilder::createNamedParameter (see https://psalm.dev/238)
                $qb->expr()->in('uuid', files: $qb->createNamedParameter($uuids, [97;41mrbac[0m: IQueryBuilder::PARAM_STR_ARRAY))


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/OrganisationMapper.php#L225\lib/Db/[1;31mOrganisationMapper.php:225:34[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::like - expecting y to be passed (see https://psalm.dev/025)
            ->where($qb->expr()->[97;41mlike[0m('users', multi: $qb->createNamedParameter('%"'.$userId.'"%')));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/OrganisationMapper.php#L225\lib/Db/[1;31mOrganisationMapper.php:225:48[0m]8;;\ - Parameter $multi does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::like (see https://psalm.dev/238)
            ->where($qb->expr()->like('users', [97;41mmulti[0m: $qb->createNamedParameter('%"'.$userId.'"%')));


[0;31mERROR[0m: UndefinedPropertyAssignment - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/OrganisationMapper.php#L249\lib/Db/[1;31mOrganisationMapper.php:249:13[0m]8;;\ - Instance property OCA\OpenRegister\Db\Organisation::$userCount is not defined (see https://psalm.dev/038)
            [97;41m$organisation->userCount[0m = count($organisation->getUserIds());


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Register.php#L480\lib/Db/[1;31mRegister.php:480:30[0m]8;;\ - Property $this->id with type int should already be set in the constructor (see https://psalm.dev/261)
        return 'Register #'.([97;41m$this->id[0m ?? 'unknown');


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Register.php#L480\lib/Db/[1;31mRegister.php:480:43[0m]8;;\ - Property $this->id with type int should already be set in the constructor (see https://psalm.dev/261)
        return 'Register #'.($this->id ?? [97;41m'unknown'[0m);


[0;31mERROR[0m: LessSpecificImplementedReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L50\lib/Db/[1;31mRegisterMapper.php:50:12[0m]8;;\ - The inherited return type 'list<OCP\AppFramework\Db\Entity>' for OCP\AppFramework\Db\QBMapper::findEntities is more specific than the implemented return type for OCP\AppFramework\Db\QBMapper::findentities 'array<array-key, OCA\OpenRegister\Db\Register>' (see https://psalm.dev/166)
/**
 * The RegisterMapper class
 *
 * Handles database operations for Register entities with multi-tenancy support.
 *
 * @package OCA\OpenRegister\Db
 *
 * @method Register insert(Entity $entity)
 * @method Register update(Entity $entity)
 * @method Register insertOrUpdate(Entity $entity)
 * @method Register delete(Entity $entity)
 * @method Register find(int|string $id)
 * @method Register findEntity(IQueryBuilder $query)
 * @method [97;41mRegister[][0m findAll(int|null $limit = null, int|null $offset = null)
 * @method Register[] findEntities(IQueryBuilder $query)
 */
class RegisterMapper extends QBMapper


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L52\lib/Db/[1;31mRegisterMapper.php:52:7[0m]8;;\ - OCA\OpenRegister\Db\RegisterMapper has missing template params when extending OCP\AppFramework\Db\QBMapper, expecting 1 (see https://psalm.dev/182)
class [97;41mRegisterMapper[0m extends QBMapper


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L82\lib/Db/[1;31mRegisterMapper.php:82:13[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileService does not exist (see https://psalm.dev/019)
    private [97;41mFileService[0m $fileService;


[0;31mERROR[0m: UndefinedThisPropertyAssignment - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L113\lib/Db/[1;31mRegisterMapper.php:113:9[0m]8;;\ - Instance property OCA\OpenRegister\Db\RegisterMapper::$organisationService is not defined (see https://psalm.dev/040)
        [97;41m$this->organisationService[0m = $organisationService;


[0;31mERROR[0m: UndefinedThisPropertyAssignment - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L114\lib/Db/[1;31mRegisterMapper.php:114:9[0m]8;;\ - Instance property OCA\OpenRegister\Db\RegisterMapper::$userSession is not defined (see https://psalm.dev/040)
        [97;41m$this->userSession[0m         = $userSession;


[0;31mERROR[0m: UndefinedThisPropertyAssignment - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L115\lib/Db/[1;31mRegisterMapper.php:115:9[0m]8;;\ - Instance property OCA\OpenRegister\Db\RegisterMapper::$groupManager is not defined (see https://psalm.dev/040)
        [97;41m$this->groupManager[0m        = $groupManager;


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L205\lib/Db/[1;31mRegisterMapper.php:205:30[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::in - expecting y to be passed (see https://psalm.dev/025)
                $qb->expr()->[97;41min[0m('id', schema: $qb->createNamedParameter($ids, extend: IQueryBuilder::PARAM_INT_ARRAY))


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L205\lib/Db/[1;31mRegisterMapper.php:205:39[0m]8;;\ - Parameter $schema does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::in (see https://psalm.dev/238)
                $qb->expr()->in('id', [97;41mschema[0m: $qb->createNamedParameter($ids, extend: IQueryBuilder::PARAM_INT_ARRAY))


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L205\lib/Db/[1;31mRegisterMapper.php:205:79[0m]8;;\ - Parameter $extend does not exist on function OCP\DB\QueryBuilder\IQueryBuilder::createNamedParameter (see https://psalm.dev/238)
                $qb->expr()->in('id', schema: $qb->createNamedParameter($ids, [97;41mextend[0m: IQueryBuilder::PARAM_INT_ARRAY))


[0;31mERROR[0m: ImplicitToStringCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L317\lib/Db/[1;31mRegisterMapper.php:317:32[0m]8;;\ - Argument 1 of setUuid expects null|string, but Symfony\Component\Uid\UuidV4 provided with a __toString method (see https://psalm.dev/060)
            $register->setUuid([97;41mUuid::v4()[0m);


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L419\lib/Db/[1;31mRegisterMapper.php:419:27[0m]8;;\ - Too few arguments for explode - expecting string to be passed (see https://psalm.dev/025)
            $version    = [97;41mexplode('.', register: $register->getVersion())[0m;


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L419\lib/Db/[1;31mRegisterMapper.php:419:40[0m]8;;\ - Parameter $register does not exist on function explode (see https://psalm.dev/238)
            $version    = explode('.', [97;41mregister[0m: $register->getVersion());


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L421\lib/Db/[1;31mRegisterMapper.php:421:48[0m]8;;\ - Parameter $schema does not exist on function implode (see https://psalm.dev/238)
            $register->setVersion(implode('.', [97;41mschema[0m: $version));


[0;31mERROR[0m: MoreSpecificImplementedParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L445\lib/Db/[1;31mRegisterMapper.php:445:35[0m]8;;\ - Argument 1 of OCA\OpenRegister\Db\RegisterMapper::delete has the more specific type 'OCA\OpenRegister\Db\Register', expecting 'OCP\AppFramework\Db\Entity' as defined by OCP\AppFramework\Db\QBMapper::delete (see https://psalm.dev/140)
    public function delete(Entity [97;41m$entity[0m): Register


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L454\lib/Db/[1;31mRegisterMapper.php:454:36[0m]8;;\ - Parameter $multi does not exist on function method_exists (see https://psalm.dev/238)
        if (method_exists($entity, [97;41mmulti[0m: 'getId') === true) {


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L524\lib/Db/[1;31mRegisterMapper.php:524:15[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IQueryBuilder::setParameter - expecting value to be passed (see https://psalm.dev/025)
            ->[97;41msetParameter[0m('pattern', rbac: $pattern)


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/RegisterMapper.php#L524\lib/Db/[1;31mRegisterMapper.php:524:39[0m]8;;\ - Parameter $rbac does not exist on function OCP\DB\QueryBuilder\IQueryBuilder::setParameter (see https://psalm.dev/238)
            ->setParameter('pattern', [97;41mrbac[0m: $pattern)


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Schema.php#L427\lib/Db/[1;31mSchema.php:427:16[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\Exception does not exist (see https://psalm.dev/200)
     * @throws [97;41mException[0m If the properties are invalid


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Schema.php#L618\lib/Db/[1;31mSchema.php:618:16[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\Exception does not exist (see https://psalm.dev/200)
     * @throws [97;41mException[0m If property validation fails


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Schema.php#L888\lib/Db/[1;31mSchema.php:888:13[0m]8;;\ - Type array<string, mixed> for $this->configuration is always array<array-key, mixed> (see https://psalm.dev/122)
        if ([97;41mis_array($this->configuration)[0m === true) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Schema.php#L893\lib/Db/[1;31mSchema.php:893:13[0m]8;;\ - Type never for $this->configuration is never string (see https://psalm.dev/056)
        if ([97;41mis_string($this->configuration)[0m === true) {


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Schema.php#L894\lib/Db/[1;31mSchema.php:894:36[0m]8;;\ - All possible types for this argument were invalidated - This may be dead code (see https://psalm.dev/179)
            $decoded = json_decode([97;41m$this->configuration[0m, true);


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Schema.php#L939\lib/Db/[1;31mSchema.php:939:36[0m]8;;\ - All possible types for this argument were invalidated - This may be dead code (see https://psalm.dev/179)
            $decoded = json_decode([97;41m$configuration[0m, true);


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Schema.php#L1092\lib/Db/[1;31mSchema.php:1092:28[0m]8;;\ - Property $this->id with type int should already be set in the constructor (see https://psalm.dev/261)
        return 'Schema #'.([97;41m$this->id[0m ?? 'unknown');


[0;31mERROR[0m: RedundantPropertyInitializationCheck - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Schema.php#L1092\lib/Db/[1;31mSchema.php:1092:41[0m]8;;\ - Property $this->id with type int should already be set in the constructor (see https://psalm.dev/261)
        return 'Schema #'.($this->id ?? [97;41m'unknown'[0m);


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Schema.php#L1115\lib/Db/[1;31mSchema.php:1115:13[0m]8;;\ - Type array<array-key, mixed> for $this->facets is always array<array-key, mixed> (see https://psalm.dev/122)
        if ([97;41mis_array($this->facets)[0m === true) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Schema.php#L1120\lib/Db/[1;31mSchema.php:1120:13[0m]8;;\ - Type never for $this->facets is never string (see https://psalm.dev/056)
        if ([97;41mis_string($this->facets)[0m === true) {


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/Schema.php#L1121\lib/Db/[1;31mSchema.php:1121:36[0m]8;;\ - All possible types for this argument were invalidated - This may be dead code (see https://psalm.dev/179)
            $decoded = json_decode([97;41m$this->facets[0m, true);


[0;31mERROR[0m: LessSpecificImplementedReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L51\lib/Db/[1;31mSchemaMapper.php:51:12[0m]8;;\ - The inherited return type 'list<OCP\AppFramework\Db\Entity>' for OCP\AppFramework\Db\QBMapper::findEntities is more specific than the implemented return type for OCP\AppFramework\Db\QBMapper::findentities 'array<array-key, OCA\OpenRegister\Db\Schema>' (see https://psalm.dev/166)
/**
 * The SchemaMapper class
 *
 * Mapper for Schema entities with multi-tenancy and RBAC support.
 *
 * @package OCA\OpenRegister\Db
 *
 * @method Schema insert(Entity $entity)
 * @method Schema update(Entity $entity)
 * @method Schema insertOrUpdate(Entity $entity)
 * @method Schema delete(Entity $entity)
 * @method Schema find(int|string $id)
 * @method Schema findEntity(IQueryBuilder $query)
 * @method [97;41mSchema[][0m findAll(int|null $limit = null, int|null $offset = null)
 * @method Schema[] findEntities(IQueryBuilder $query)
 */
class SchemaMapper extends QBMapper


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L53\lib/Db/[1;31mSchemaMapper.php:53:7[0m]8;;\ - OCA\OpenRegister\Db\SchemaMapper has missing template params when extending OCP\AppFramework\Db\QBMapper, expecting 1 (see https://psalm.dev/182)
class [97;41mSchemaMapper[0m extends QBMapper


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L211\lib/Db/[1;31mSchemaMapper.php:211:30[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::in - expecting y to be passed (see https://psalm.dev/025)
                $qb->expr()->[97;41min[0m('id', schema: $qb->createNamedParameter($ids, extend: IQueryBuilder::PARAM_INT_ARRAY))


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L211\lib/Db/[1;31mSchemaMapper.php:211:39[0m]8;;\ - Parameter $schema does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::in (see https://psalm.dev/238)
                $qb->expr()->in('id', [97;41mschema[0m: $qb->createNamedParameter($ids, extend: IQueryBuilder::PARAM_INT_ARRAY))


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L211\lib/Db/[1;31mSchemaMapper.php:211:79[0m]8;;\ - Parameter $extend does not exist on function OCP\DB\QueryBuilder\IQueryBuilder::createNamedParameter (see https://psalm.dev/238)
                $qb->expr()->in('id', schema: $qb->createNamedParameter($ids, [97;41mextend[0m: IQueryBuilder::PARAM_INT_ARRAY))


[0;31mERROR[0m: ImplicitToStringCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L328\lib/Db/[1;31mSchemaMapper.php:328:30[0m]8;;\ - Argument 1 of setUuid expects null|string, but Symfony\Component\Uid\UuidV4 provided with a __toString method (see https://psalm.dev/060)
            $schema->setUuid([97;41mUuid::v4()[0m);


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L479\lib/Db/[1;31mSchemaMapper.php:479:16[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\Exception does not exist (see https://psalm.dev/200)
     * @throws [97;41mException[0m If property validation fails


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L563\lib/Db/[1;31mSchemaMapper.php:563:16[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\Exception does not exist (see https://psalm.dev/200)
     * @throws [97;41mException[0m If property validation fails


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L573\lib/Db/[1;31mSchemaMapper.php:573:27[0m]8;;\ - Too few arguments for explode - expecting string to be passed (see https://psalm.dev/025)
            $version    = [97;41mexplode('.', register: $schema->getVersion())[0m;


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L573\lib/Db/[1;31mSchemaMapper.php:573:40[0m]8;;\ - Parameter $register does not exist on function explode (see https://psalm.dev/238)
            $version    = explode('.', [97;41mregister[0m: $schema->getVersion());


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L575\lib/Db/[1;31mSchemaMapper.php:575:46[0m]8;;\ - Parameter $schema does not exist on function implode (see https://psalm.dev/238)
            $schema->setVersion(implode('.', [97;41mschema[0m: $version));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L578\lib/Db/[1;31mSchemaMapper.php:578:35[0m]8;;\ - Parameter $extend does not exist on function OCA\OpenRegister\Db\Schema::hydrate (see https://psalm.dev/238)
        $schema->hydrate($object, [97;41mextend[0m: $this->validator);


[0;31mERROR[0m: ParamNameMismatch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L598\lib/Db/[1;31mSchemaMapper.php:598:35[0m]8;;\ - Argument 1 of OCA\OpenRegister\Db\SchemaMapper::delete has wrong name $schema, expecting $entity as defined by OCP\AppFramework\Db\QBMapper::delete (see https://psalm.dev/230)
    public function delete(Entity [97;41m$schema[0m): Schema


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L607\lib/Db/[1;31mSchemaMapper.php:607:44[0m]8;;\ - Parameter $rbac does not exist on function method_exists (see https://psalm.dev/238)
        $schemaId = method_exists($schema, [97;41mrbac[0m: 'getId') ? $schema->getId() : $schema->id;


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L611\lib/Db/[1;31mSchemaMapper.php:611:45[0m]8;;\ - Parameter $multi does not exist on function OCP\DB\QueryBuilder\IFunctionBuilder::count (see https://psalm.dev/238)
        $qb->select($qb->func()->count('*', [97;41mmulti[0m: 'count'))


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L889\lib/Db/[1;31mSchemaMapper.php:889:13[0m]8;;\ - Operand of type true is always truthy (see https://psalm.dev/122)
        if ([97;41m!empty($facetConfig)[0m) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L889\lib/Db/[1;31mSchemaMapper.php:889:14[0m]8;;\ - Type non-empty-array<array-key, array{created?: array{interval: 'month', type: 'date_histogram'}, interval?: 'month', owner?: array{type: 'terms'}, published?: array{interval: 'month', type: 'date_histogram'}, register?: array{type: 'terms'}, schema?: array{type: 'terms'}, type?: string, updated?: array{interval: 'month', type: 'date_histogram'}}> for $facetConfig is never falsy (see https://psalm.dev/122)
        if (![97;41mempty($facetConfig)[0m) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1039\lib/Db/[1;31mSchemaMapper.php:1039:13[0m]8;;\ - Type array<array-key, mixed> for $allOf is always array<array-key, mixed> (see https://psalm.dev/122)
        if ([97;41m$allOf !== null && is_array($allOf)[0m && count($allOf) > 0) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1039\lib/Db/[1;31mSchemaMapper.php:1039:32[0m]8;;\ - Type array<array-key, mixed> for $allOf is always array<array-key, mixed> (see https://psalm.dev/122)
        if ($allOf !== null && [97;41mis_array($allOf)[0m && count($allOf) > 0) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1044\lib/Db/[1;31mSchemaMapper.php:1044:13[0m]8;;\ - Type array<array-key, mixed> for $oneOf is always array<array-key, mixed> (see https://psalm.dev/122)
        if ([97;41m$oneOf !== null && is_array($oneOf)[0m && count($oneOf) > 0) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1044\lib/Db/[1;31mSchemaMapper.php:1044:32[0m]8;;\ - Type array<array-key, mixed> for $oneOf is always array<array-key, mixed> (see https://psalm.dev/122)
        if ($oneOf !== null && [97;41mis_array($oneOf)[0m && count($oneOf) > 0) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1049\lib/Db/[1;31mSchemaMapper.php:1049:13[0m]8;;\ - Type array<array-key, mixed> for $anyOf is always array<array-key, mixed> (see https://psalm.dev/122)
        if ([97;41m$anyOf !== null && is_array($anyOf)[0m && count($anyOf) > 0) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1049\lib/Db/[1;31mSchemaMapper.php:1049:32[0m]8;;\ - Type array<array-key, mixed> for $anyOf is always array<array-key, mixed> (see https://psalm.dev/122)
        if ($anyOf !== null && [97;41mis_array($anyOf)[0m && count($anyOf) > 0) {


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1111\lib/Db/[1;31mSchemaMapper.php:1111:13[0m]8;;\ - Argument 3 of OCA\OpenRegister\Db\SchemaMapper::mergeSchemaPropertiesWithValidation expects string, but int|string provided (see https://psalm.dev/012)
            [97;41m$currentId[0m


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1684\lib/Db/[1;31mSchemaMapper.php:1684:14[0m]8;;\ - Type array<array-key, mixed> for $oneOf is always array<array-key, mixed> (see https://psalm.dev/122)
        if (([97;41m$oneOf !== null && is_array($oneOf)[0m && count($oneOf) > 0)


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1684\lib/Db/[1;31mSchemaMapper.php:1684:33[0m]8;;\ - Type array<array-key, mixed> for $oneOf is always array<array-key, mixed> (see https://psalm.dev/122)
        if (($oneOf !== null && [97;41mis_array($oneOf)[0m && count($oneOf) > 0)


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1685\lib/Db/[1;31mSchemaMapper.php:1685:17[0m]8;;\ - Type array<array-key, mixed> for $anyOf is always array<array-key, mixed> (see https://psalm.dev/122)
            || ([97;41m$anyOf !== null && is_array($anyOf)[0m && count($anyOf) > 0)


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1685\lib/Db/[1;31mSchemaMapper.php:1685:36[0m]8;;\ - Type array<array-key, mixed> for $anyOf is always array<array-key, mixed> (see https://psalm.dev/122)
            || ($anyOf !== null && [97;41mis_array($anyOf)[0m && count($anyOf) > 0)


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1691\lib/Db/[1;31mSchemaMapper.php:1691:13[0m]8;;\ - Type array<array-key, mixed> for $allOf is always array<array-key, mixed> (see https://psalm.dev/122)
        if ([97;41m$allOf !== null && is_array($allOf)[0m && count($allOf) > 0) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1691\lib/Db/[1;31mSchemaMapper.php:1691:32[0m]8;;\ - Type array<array-key, mixed> for $allOf is always array<array-key, mixed> (see https://psalm.dev/122)
        if ($allOf !== null && [97;41mis_array($allOf)[0m && count($allOf) > 0) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1898\lib/Db/[1;31mSchemaMapper.php:1898:13[0m]8;;\ - string can never contain null (see https://psalm.dev/122)
        if ([97;41m$targetId !== null[0m && $targetId !== '') {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1898\lib/Db/[1;31mSchemaMapper.php:1898:35[0m]8;;\ - '' can never contain numeric-string (see https://psalm.dev/122)
        if ($targetId !== null && [97;41m$targetId !== ''[0m) {


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1899\lib/Db/[1;31mSchemaMapper.php:1899:44[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::like - expecting y to be passed (see https://psalm.dev/025)
            $orConditions[] = $qb->expr()->[97;41mlike[0m('all_of', schema: $qb->createNamedParameter('%"'.$targetId.'"%'));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1899\lib/Db/[1;31mSchemaMapper.php:1899:59[0m]8;;\ - Parameter $schema does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::like (see https://psalm.dev/238)
            $orConditions[] = $qb->expr()->like('all_of', [97;41mschema[0m: $qb->createNamedParameter('%"'.$targetId.'"%'));


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1903\lib/Db/[1;31mSchemaMapper.php:1903:44[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::like - expecting y to be passed (see https://psalm.dev/025)
            $orConditions[] = $qb->expr()->[97;41mlike[0m('all_of', extend: $qb->createNamedParameter('%"'.$targetUuid.'"%'));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1903\lib/Db/[1;31mSchemaMapper.php:1903:59[0m]8;;\ - Parameter $extend does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::like (see https://psalm.dev/238)
            $orConditions[] = $qb->expr()->like('all_of', [97;41mextend[0m: $qb->createNamedParameter('%"'.$targetUuid.'"%'));


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1907\lib/Db/[1;31mSchemaMapper.php:1907:44[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::like - expecting y to be passed (see https://psalm.dev/025)
            $orConditions[] = $qb->expr()->[97;41mlike[0m('all_of', files: $qb->createNamedParameter('%"'.$targetSlug.'"%'));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1907\lib/Db/[1;31mSchemaMapper.php:1907:59[0m]8;;\ - Parameter $files does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::like (see https://psalm.dev/238)
            $orConditions[] = $qb->expr()->like('all_of', [97;41mfiles[0m: $qb->createNamedParameter('%"'.$targetSlug.'"%'));


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1911\lib/Db/[1;31mSchemaMapper.php:1911:35[0m]8;;\ - '' can never contain non-empty-string (see https://psalm.dev/122)
        if ($targetId !== null && [97;41m$targetId !== ''[0m) {


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1912\lib/Db/[1;31mSchemaMapper.php:1912:44[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::like - expecting y to be passed (see https://psalm.dev/025)
            $orConditions[] = $qb->expr()->[97;41mlike[0m('one_of', rbac: $qb->createNamedParameter('%"'.$targetId.'"%'));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1912\lib/Db/[1;31mSchemaMapper.php:1912:59[0m]8;;\ - Parameter $rbac does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::like (see https://psalm.dev/238)
            $orConditions[] = $qb->expr()->like('one_of', [97;41mrbac[0m: $qb->createNamedParameter('%"'.$targetId.'"%'));


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1916\lib/Db/[1;31mSchemaMapper.php:1916:44[0m]8;;\ - Too few arguments for OCP\DB\QueryBuilder\IExpressionBuilder::like - expecting y to be passed (see https://psalm.dev/025)
            $orConditions[] = $qb->expr()->[97;41mlike[0m('one_of', multi: $qb->createNamedParameter('%"'.$targetUuid.'"%'));


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SchemaMapper.php#L1916\lib/Db/[1;31mSchemaMapper.php:1916:59[0m]8;;\ - Parameter $multi does not exist on function OCP\DB\QueryBuilder\IExpressionBuilder::like (see https://psalm.dev/238)
            $orConditions[] = $qb->expr()->like('one_of', [97;41mmulti[0m: $qb->createNamedParameter('%"'.$targetUuid.'"%'));


[0;31mERROR[0m: LessSpecificImplementedReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SearchTrailMapper.php#L52\lib/Db/[1;31mSearchTrailMapper.php:52:12[0m]8;;\ - The inherited return type 'list<OCP\AppFramework\Db\Entity>' for OCP\AppFramework\Db\QBMapper::findEntities is more specific than the implemented return type for OCP\AppFramework\Db\QBMapper::findentities 'array<array-key, OCA\OpenRegister\Db\SearchTrail>' (see https://psalm.dev/166)
/**
 * SearchTrailMapper handles database operations for SearchTrail entities
 *
 * Provides comprehensive CRUD operations and statistical query methods
 * for search analytics and optimization.
 *
 * @package OCA\OpenRegister\Db
 *
 * @method SearchTrail insert(Entity $entity)
 * @method SearchTrail update(Entity $entity)
 * @method SearchTrail insertOrUpdate(Entity $entity)
 * @method SearchTrail delete(Entity $entity)
 * @method SearchTrail find(int|string $id)
 * @method SearchTrail findEntity(IQueryBuilder $query)
 * @method [97;41mSearchTrail[][0m findAll(int|null $limit = null, int|null $offset = null)
 * @method SearchTrail[] findEntities(IQueryBuilder $query)
 */
class SearchTrailMapper extends QBMapper


[0;31mERROR[0m: MissingTemplateParam - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SearchTrailMapper.php#L54\lib/Db/[1;31mSearchTrailMapper.php:54:7[0m]8;;\ - OCA\OpenRegister\Db\SearchTrailMapper has missing template params when extending OCP\AppFramework\Db\QBMapper, expecting 1 (see https://psalm.dev/182)
class [97;41mSearchTrailMapper[0m extends QBMapper


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SearchTrailMapper.php#L406\lib/Db/[1;31mSearchTrailMapper.php:406:13[0m]8;;\ - Docblock-defined class, interface or enum named Doctrine\DBAL\Platforms\AbstractPlatform does not exist (see https://psalm.dev/200)
        if ([97;41m$this->db->getDatabasePlatform()[0m->getName() === 'mysql') {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SearchTrailMapper.php#L985\lib/Db/[1;31mSearchTrailMapper.php:985:22[0m]8;;\ - Type string for $<tmp coalesce var>34590 is never null (see https://psalm.dev/122)
        $sessionId = [97;41m$this->request->getHeader('X-Session-ID')[0m ?? session_id();


[0;31mERROR[0m: TypeDoesNotContainNull - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Db/SearchTrailMapper.php#L985\lib/Db/[1;31mSearchTrailMapper.php:985:67[0m]8;;\ - Cannot resolve types for $<tmp coalesce var>34590 - string does not contain null (see https://psalm.dev/090)
        $sessionId = $this->request->getHeader('X-Session-ID') ?? [97;41msession_id()[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/EventListener/AbstractNodeFolderEventListener.php#L45\lib/EventListener/[1;31mAbstractNodeFolderEventListener.php:45:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\EventListener\FileService does not exist (see https://psalm.dev/019)
     * @param [97;41mFileService[0m   $fileService   The file service for file operations.


[0;31mERROR[0m: MoreSpecificImplementedParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Migration/Version1Date20250903160000.php#L58\lib/Migration/[1;31mVersion1Date20250903160000.php:58:81[0m]8;;\ - Argument 3 of OCA\OpenRegister\Migration\Version1Date20250903160000::changeSchema has the more specific type 'array<string, mixed>', expecting 'array<array-key, mixed>' as defined by OCP\Migration\IMigrationStep::changeSchema (see https://psalm.dev/140)
    public function changeSchema(IOutput $output, Closure $schemaClosure, array [97;41m$options[0m): ?ISchemaWrapper


[0;31mERROR[0m: MoreSpecificImplementedParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Migration/Version1Date20250903160000.php#L58\lib/Migration/[1;31mVersion1Date20250903160000.php:58:81[0m]8;;\ - Argument 3 of OCA\OpenRegister\Migration\Version1Date20250903160000::changeSchema has the more specific type 'array<string, mixed>', expecting 'array<array-key, mixed>' as defined by OCP\Migration\SimpleMigrationStep::changeSchema (see https://psalm.dev/140)
    public function changeSchema(IOutput $output, Closure $schemaClosure, array [97;41m$options[0m): ?ISchemaWrapper


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Migration/Version1Date20250904170000.php#L107\lib/Migration/[1;31mVersion1Date20250904170000.php:107:15[0m]8;;\ - Docblock-defined class, interface or enum named OCP\DB\Types\ITable does not exist (see https://psalm.dev/200)
     * @param [97;41m\OCP\DB\Types\ITable[0m $table  The table to optimize


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Migration/Version1Date20251106000000.php#L65\lib/Migration/[1;31mVersion1Date20251106000000.php:65:34[0m]8;;\ - Class, interface or enum named Doctrine\DBAL\Types\Type does not exist (see https://psalm.dev/019)
                $column->setType([97;41m\Doctrine\DBAL\Types\Type[0m::getType(Types::STRING));


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Migration/Version1Date20251106120000.php#L86\lib/Migration/[1;31mVersion1Date20251106120000.php:86:38[0m]8;;\ - Class, interface or enum named Doctrine\DBAL\Types\Type does not exist (see https://psalm.dev/019)
                    $column->setType([97;41m\Doctrine\DBAL\Types\Type[0m::getType(Types::STRING));


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Search/ObjectsProvider.php#L292\lib/Search/[1;31mObjectsProvider.php:292:34[0m]8;;\ - Type null for $limit is always !null (see https://psalm.dev/056)
        $searchQuery['_limit'] = [97;41m$limit[0m ?? 25;


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Search/ObjectsProvider.php#L297\lib/Search/[1;31mObjectsProvider.php:297:35[0m]8;;\ - Type null for $offset is always !null (see https://psalm.dev/056)
        $searchQuery['_offset'] = [97;41m$offset[0m ?? 0;


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/AuthorizationExceptionService.php#L341\lib/Service/[1;31mAuthorizationExceptionService.php:341:58[0m]8;;\ - Argument 1 of OCP\IGroupManager::getUserGroups expects OCP\IUser|null, but OCP\IGroup provided (see https://psalm.dev/004)
            $groups = $this->groupManager->getUserGroups([97;41m$userObj[0m);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L159\lib/Service/[1;31mChatService.php:159:13[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
    private [97;41mSettingsService[0m $settingsService;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L206\lib/Service/[1;31mChatService.php:206:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m        $settingsService    Settings service


[0;31mERROR[0m: TooManyArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L689\lib/Service/[1;31mChatService.php:689:40[0m]8;;\ - Too many arguments for method OCA\OpenRegister\Service\GuzzleSolrService::searchobjectspaginated - saw 9 (see https://psalm.dev/026)
        $results = $this->solrService->[97;41msearchObjectsPaginated[0m(


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L690\lib/Service/[1;31mChatService.php:690:13[0m]8;;\ - Argument 1 of OCA\OpenRegister\Service\GuzzleSolrService::searchObjectsPaginated expects array<array-key, mixed>, but string provided (see https://psalm.dev/004)
            [97;41m$query[0m,


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L691\lib/Service/[1;31mChatService.php:691:13[0m]8;;\ - Argument 2 of OCA\OpenRegister\Service\GuzzleSolrService::searchObjectsPaginated expects bool, but 0 provided (see https://psalm.dev/012)
            [97;41m0[0m,


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L692\lib/Service/[1;31mChatService.php:692:13[0m]8;;\ - Argument 3 of OCA\OpenRegister\Service\GuzzleSolrService::searchObjectsPaginated expects bool, but int provided (see https://psalm.dev/012)
            [97;41m$limit[0m,


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L693\lib/Service/[1;31mChatService.php:693:13[0m]8;;\ - Argument 4 of OCA\OpenRegister\Service\GuzzleSolrService::searchObjectsPaginated expects bool, but array<never, never> provided (see https://psalm.dev/004)
            [97;41m[][0m,


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L694\lib/Service/[1;31mChatService.php:694:13[0m]8;;\ - Argument 5 of OCA\OpenRegister\Service\GuzzleSolrService::searchObjectsPaginated expects bool, but 'score desc' provided (see https://psalm.dev/012)
            [97;41m'score desc'[0m,


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L897\lib/Service/[1;31mChatService.php:897:22[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $llmConfig = [97;41m$this->settingsService[0m->getLLMSettingsOnly();


[0;31mERROR[0m: UndefinedPropertyAssignment - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L951\lib/Service/[1;31mChatService.php:951:25[0m]8;;\ - Instance property LLPhant\OpenAIConfig::$organizationId is not defined (see https://psalm.dev/038)
                        [97;41m$config->organizationId[0m = $openaiConfig['organizationId'];


[0;31mERROR[0m: UndefinedPropertyAssignment - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L977\lib/Service/[1;31mChatService.php:977:21[0m]8;;\ - Instance property LLPhant\OpenAIConfig::$temperature is not defined (see https://psalm.dev/038)
                    [97;41m$config->temperature[0m = $agent->getTemperature();


[0;31mERROR[0m: UndefinedPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1007\lib/Service/[1;31mChatService.php:1007:21[0m]8;;\ - Instance property LLPhant\OllamaConfig::$apiKey is not defined (see https://psalm.dev/039)
                    [97;41m$config->apiKey[0m,


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1093\lib/Service/[1;31mChatService.php:1093:29[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $llmConfig    = [97;41m$this->settingsService[0m->getLLMSettingsOnly();


[0;31mERROR[0m: UndefinedPropertyAssignment - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1145\lib/Service/[1;31mChatService.php:1145:17[0m]8;;\ - Instance property LLPhant\OpenAIConfig::$temperature is not defined (see https://psalm.dev/038)
                [97;41m$config->temperature[0m = 0.7;


[0;31mERROR[0m: UndefinedPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1157\lib/Service/[1;31mChatService.php:1157:21[0m]8;;\ - Instance property LLPhant\OllamaConfig::$apiKey is not defined (see https://psalm.dev/039)
                    [97;41m$config->apiKey[0m,


[0;31mERROR[0m: UndefinedPropertyAssignment - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1349\lib/Service/[1;31mChatService.php:1349:25[0m]8;;\ - Instance property LLPhant\OpenAIConfig::$organizationId is not defined (see https://psalm.dev/038)
                        [97;41m$llphantConfig->organizationId[0m = $config['organizationId'];


[0;31mERROR[0m: UndefinedPropertyAssignment - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1371\lib/Service/[1;31mChatService.php:1371:21[0m]8;;\ - Instance property LLPhant\OpenAIConfig::$temperature is not defined (see https://psalm.dev/038)
                    [97;41m$llphantConfig->temperature[0m = (float) $config['temperature'];


[0;31mERROR[0m: UndefinedPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1379\lib/Service/[1;31mChatService.php:1379:21[0m]8;;\ - Instance property LLPhant\OllamaConfig::$apiKey is not defined (see https://psalm.dev/039)
                    [97;41m$llphantConfig->apiKey[0m,


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1394\lib/Service/[1;31mChatService.php:1394:39[0m]8;;\ - Type string for $llphantConfig->url is always isset (see https://psalm.dev/122)
                        'url'      => [97;41m$llphantConfig->url[0m ?? 'default',


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1394\lib/Service/[1;31mChatService.php:1394:62[0m]8;;\ - Cannot resolve types for $llphantConfig->url with type string and !isset assertion (see https://psalm.dev/056)
                        'url'      => $llphantConfig->url ?? [97;41m'default'[0m,


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1409\lib/Service/[1;31mChatService.php:1409:43[0m]8;;\ - Type string for $llphantConfig->url is always isset (see https://psalm.dev/122)
                            'url'      => [97;41m$llphantConfig->url[0m ?? 'default',


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1409\lib/Service/[1;31mChatService.php:1409:66[0m]8;;\ - Cannot resolve types for $llphantConfig->url with type string and !isset assertion (see https://psalm.dev/056)
                            'url'      => $llphantConfig->url ?? [97;41m'default'[0m,


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1546\lib/Service/[1;31mChatService.php:1546:13[0m]8;;\ - string can never contain null (see https://psalm.dev/122)
        if ([97;41m$curlError !== null[0m && $curlError !== '') {


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1552\lib/Service/[1;31mChatService.php:1552:41[0m]8;;\ - Argument 1 of json_decode expects string, but bool|string provided (see https://psalm.dev/012)
            $errorData    = json_decode([97;41m$response[0m, true);


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1567\lib/Service/[1;31mChatService.php:1567:29[0m]8;;\ - Argument 1 of json_decode expects string, but bool|string provided (see https://psalm.dev/012)
        $data = json_decode([97;41m$response[0m, true);


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1661\lib/Service/[1;31mChatService.php:1661:13[0m]8;;\ - string can never contain null (see https://psalm.dev/122)
        if ([97;41m$curlError !== null[0m && $curlError !== '') {


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1667\lib/Service/[1;31mChatService.php:1667:41[0m]8;;\ - Argument 1 of json_decode expects string, but bool|string provided (see https://psalm.dev/012)
            $errorData    = json_decode([97;41m$response[0m, true);


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1682\lib/Service/[1;31mChatService.php:1682:29[0m]8;;\ - Argument 1 of json_decode expects string, but bool|string provided (see https://psalm.dev/012)
        $data = json_decode([97;41m$response[0m, true);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1782\lib/Service/[1;31mChatService.php:1782:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $llmConfig    = [97;41m$this->settingsService[0m->getLLMSettingsOnly();


[0;31mERROR[0m: UndefinedPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1846\lib/Service/[1;31mChatService.php:1846:17[0m]8;;\ - Instance property LLPhant\OllamaConfig::$apiKey is not defined (see https://psalm.dev/039)
                [97;41m$config->apiKey[0m,


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ChatService.php#L1945\lib/Service/[1;31mChatService.php:1945:24[0m]8;;\ - Method OCA\OpenRegister\Tool\ToolInterface::setAgent does not exist (see https://psalm.dev/181)
                $tool->[97;41msetAgent[0m($agent);


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationCacheService.php#L171\lib/Service/[1;31mConfigurationCacheService.php:171:40[0m]8;;\ - Method OCP\ISession::getKeys does not exist (see https://psalm.dev/181)
        $sessionKeys = $this->session->[97;41mgetKeys[0m();


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L90\lib/Service/[1;31mConfigurationService.php:90:13[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Service\OCA\OpenConnector\Service\ConfigurationService does not exist (see https://psalm.dev/200)
     * @var [97;41mOCA\OpenConnector\Service\ConfigurationService[0m The OpenConnector service instance.


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L430\lib/Service/[1;31mConfigurationService.php:430:40[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Service\OCA\OpenConnector\Service\ConfigurationService does not exist (see https://psalm.dev/200)
                $openConnectorConfig = [97;41m$this->openConnectorConfigurationService[0m->exportRegister($register->getId());


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L521\lib/Service/[1;31mConfigurationService.php:521:54[0m]8;;\ - Cannot access value on variable $registerIdsAndSlugsMap using a numeric offset, expecting array-key (see https://psalm.dev/115)
                if (is_numeric($registerId) && isset([97;41m$registerIdsAndSlugsMap[$registerId][0m) === true) {


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L534\lib/Service/[1;31mConfigurationService.php:534:52[0m]8;;\ - Cannot access value on variable $schemaIdsAndSlugsMap using a numeric offset, expecting array-key (see https://psalm.dev/115)
                if (is_numeric($schemaId) && isset([97;41m$schemaIdsAndSlugsMap[$schemaId][0m) === true) {


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L551\lib/Service/[1;31mConfigurationService.php:551:54[0m]8;;\ - Cannot access value on variable $registerIdsAndSlugsMap using a numeric offset, expecting array-key (see https://psalm.dev/115)
                if (is_numeric($registerId) && isset([97;41m$registerIdsAndSlugsMap[$registerId][0m) === true) {


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L568\lib/Service/[1;31mConfigurationService.php:568:52[0m]8;;\ - Cannot access value on variable $schemaIdsAndSlugsMap using a numeric offset, expecting array-key (see https://psalm.dev/115)
                if (is_numeric($schemaId) && isset([97;41m$schemaIdsAndSlugsMap[$schemaId][0m) === true) {


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L613\lib/Service/[1;31mConfigurationService.php:613:16[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Service\InvalidArgumentException does not exist (see https://psalm.dev/200)
     * @throws [97;41mInvalidArgumentException[0m If the URL is not a string


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L777\lib/Service/[1;31mConfigurationService.php:777:16[0m]8;;\ - The declared return type 'array<array-key, mixed>' for OCA\OpenRegister\Service\ConfigurationService::getJSONfromFile is incorrect, got 'OCP\AppFramework\Http\JSONResponse<400, array{'MIME-type'?: string, error: string}, array<never, never>>|array<array-key, mixed>' (see https://psalm.dev/011)
     * @return [97;41marray[0m A PHP array with the uploaded json data or a JSONResponse in case of an error.


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L783\lib/Service/[1;31mConfigurationService.php:783:20[0m]8;;\ - The inferred type 'OCP\AppFramework\Http\JSONResponse<400, array{error: string}, array<never, never>>' does not match the declared return type 'array<array-key, mixed>' for OCA\OpenRegister\Service\ConfigurationService::getJSONfromFile (see https://psalm.dev/128)
            return [97;41mnew JSONResponse(data: ['error' => 'File upload error: '.$uploadedFile['error']], statusCode: 400)[0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L791\lib/Service/[1;31mConfigurationService.php:791:20[0m]8;;\ - The inferred type 'OCP\AppFramework\Http\JSONResponse<400, array{'MIME-type': string, error: 'Failed to decode file content as JSON or YAML'}, array<never, never>>' does not match the declared return type 'array<array-key, mixed>' for OCA\OpenRegister\Service\ConfigurationService::getJSONfromFile (see https://psalm.dev/128)
            return [97;41mnew JSONResponse(
                data: ['error' => 'Failed to decode file content as JSON or YAML', 'MIME-type' => $fileExtension],
                statusCode: 400
            )[0m;


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L843\lib/Service/[1;31mConfigurationService.php:843:16[0m]8;;\ - The declared return type 'array<array-key, mixed>' for OCA\OpenRegister\Service\ConfigurationService::getJSONfromBody is incorrect, got 'OCP\AppFramework\Http\JSONResponse<400, array{error: 'Failed to decode JSON input'}, array<never, never>>|array<array-key, mixed>' (see https://psalm.dev/011)
     * @return [97;41marray[0m A PHP array with the uploaded json data or a JSONResponse in case of an error.


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L852\lib/Service/[1;31mConfigurationService.php:852:20[0m]8;;\ - The inferred type 'OCP\AppFramework\Http\JSONResponse<400, array{error: 'Failed to decode JSON input'}, array<never, never>>' does not match the declared return type 'array<array-key, mixed>' for OCA\OpenRegister\Service\ConfigurationService::getJSONfromBody (see https://psalm.dev/128)
            return [97;41mnew JSONResponse(
                data: ['error' => 'Failed to decode JSON input'],
                statusCode: 400
            )[0m;


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L1158\lib/Service/[1;31mConfigurationService.php:1158:29[0m]8;;\ - OCA\OpenRegister\Db\ObjectEntity can never contain null (see https://psalm.dev/122)
                        if ([97;41m$object !== null[0m) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L1183\lib/Service/[1;31mConfigurationService.php:1183:25[0m]8;;\ - OCA\OpenRegister\Db\ObjectEntity can never contain null (see https://psalm.dev/122)
                    if ([97;41m$object !== null[0m) {


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L1193\lib/Service/[1;31mConfigurationService.php:1193:36[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Service\OCA\OpenConnector\Service\ConfigurationService does not exist (see https://psalm.dev/200)
            $openConnectorResult = [97;41m$this->openConnectorConfigurationService[0m->importConfiguration($data);


[0;31mERROR[0m: InvalidPropertyAssignmentValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L1566\lib/Service/[1;31mConfigurationService.php:1566:33[0m]8;;\ - $this->registersMap with declared type 'array<string, OCA\OpenRegister\Db\Register>' cannot be assigned type 'non-empty-array<int|string, OCA\OpenRegister\Db\Register>' (see https://psalm.dev/145)
                                [97;41m$this->registersMap[0m[$registerSlug] = $existingRegister;


[0;31mERROR[0m: InvalidPropertyAssignmentValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L1591\lib/Service/[1;31mConfigurationService.php:1591:37[0m]8;;\ - $this->schemasMap with declared type 'array<string, OCA\OpenRegister\Db\Schema>' cannot be assigned type 'non-empty-array<int|string, OCA\OpenRegister\Db\Schema>' (see https://psalm.dev/145)
                                    [97;41m$this->schemasMap[0m[$schemaSlug] = $existingSchema;


[0;31mERROR[0m: InvalidPropertyAssignmentValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L1628\lib/Service/[1;31mConfigurationService.php:1628:33[0m]8;;\ - $this->registersMap with declared type 'array<string, OCA\OpenRegister\Db\Register>' cannot be assigned type 'non-empty-array<int|string, OCA\OpenRegister\Db\Register>' (see https://psalm.dev/145)
                                [97;41m$this->registersMap[0m[$registerSlug] = $existingRegister;


[0;31mERROR[0m: InvalidPropertyAssignmentValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L1653\lib/Service/[1;31mConfigurationService.php:1653:37[0m]8;;\ - $this->schemasMap with declared type 'array<string, OCA\OpenRegister\Db\Schema>' cannot be assigned type 'non-empty-array<int|string, OCA\OpenRegister\Db\Schema>' (see https://psalm.dev/145)
                                    [97;41m$this->schemasMap[0m[$schemaSlug] = $existingSchema;


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L1767\lib/Service/[1;31mConfigurationService.php:1767:21[0m]8;;\ - Argument 1 of OCA\OpenRegister\Db\ObjectEntityMapper::findAll expects int|null, but array{filters: array{name: mixed, register: mixed, schema: mixed}} provided (see https://psalm.dev/004)
                    [97;41m[
                        'filters' => [
                            'register' => $registerId,
                            'schema'   => $schemaId,
                            'name'     => $objectName,
                        ],
                    ][0m


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L1865\lib/Service/[1;31mConfigurationService.php:1865:29[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Service\OCA\OpenConnector\Service\ConfigurationService does not exist (see https://psalm.dev/200)
            $exportedData = [97;41m$this->openConnectorConfigurationService[0m->exportRegister($registerId);


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L1916\lib/Service/[1;31mConfigurationService.php:1916:25[0m]8;;\ - Instance property OCA\OpenRegister\Service\ConfigurationService::$appDataPath is not defined (see https://psalm.dev/041)
            $fullPath = [97;41m$this->appDataPath[0m.'/../../../'.$filePath;


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L2616\lib/Service/[1;31mConfigurationService.php:2616:24[0m]8;;\ - The declared return type 'OCP\AppFramework\Http\JSONResponse|array{endpoints: array<array-key, mixed>, jobs: array<array-key, mixed>, mappings: array<array-key, mixed>, objects: array<array-key, mixed>, registers: array<array-key, mixed>, rules: array<array-key, mixed>, schemas: array<array-key, mixed>, sources: array<array-key, mixed>, synchronizations: array<array-key, mixed>}' for OCA\OpenRegister\Service\ConfigurationService::previewConfigurationChanges is incorrect, got 'OCP\AppFramework\Http\JSONResponse<100|101|102|200|201|202|203|204|205|206|207|208|226|300|301|302|303|304|305|306|307|400|401|402|403|404|405|406|407|408|409|410|411|412|413|414|415|416|417|418|422|423|424|426|428|429|431|500|501|502|503|504|505|506|507|508|509|510|511, JsonSerializable|array<array-key, mixed>|null|scalar|stdClass, array<string, mixed>>|array{endpoints: array<never, never>, jobs: array<never, never>, mappings: array<never, never>, metadata: array{configurationId: int, configurationTitle: null|string, localVersion: null|string, previewedAt: string, remoteVersion: mixed|null, sourceUrl: null|string, totalChanges: int<0, max>}, objects: list<array{action: string, changes: array<array-key, mixed>, current: array<array-key, mixed>|null, proposed: array<array-key, mixed>, register: string, schema: string, slug: string, title: string, type: string}>, registers: list<array{action: string, changes: array<array-key, mixed>, current: array<array-key, mixed>|null, proposed: array<array-key, mixed>, slug: string, title: string, type: string}>, rules: array<never, never>, schemas: list<array{action: string, changes: array<array-key, mixed>, current: array<array-key, mixed>|null, proposed: array<array-key, mixed>, slug: string, title: string, type: string}>, sources: array<never, never>, synchronizations: array<never, never>}' which is different due to additional array shape fields (metadata) (see https://psalm.dev/011)
     * @phpstan-return [97;41marray{
     *     registers: array,
     *     schemas: array,
     *     objects: array,
     *     endpoints: array,
     *     sources: array,
     *     mappings: array,
     *     jobs: array,
     *     synchronizations: array,
     *     rules: array
     * }|JSONResponse[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L2699\lib/Service/[1;31mConfigurationService.php:2699:16[0m]8;;\ - The inferred type 'array{endpoints: array<never, never>, jobs: array<never, never>, mappings: array<never, never>, metadata: array{configurationId: int, configurationTitle: null|string, localVersion: null|string, previewedAt: string, remoteVersion: mixed|null, sourceUrl: null|string, totalChanges: int<0, max>}, objects: list<array{action: string, changes: array<array-key, mixed>, current: array<array-key, mixed>|null, proposed: array<array-key, mixed>, register: string, schema: string, slug: string, title: string, type: string}>, registers: list<array{action: string, changes: array<array-key, mixed>, current: array<array-key, mixed>|null, proposed: array<array-key, mixed>, slug: string, title: string, type: string}>, rules: array<never, never>, schemas: list<array{action: string, changes: array<array-key, mixed>, current: array<array-key, mixed>|null, proposed: array<array-key, mixed>, slug: string, title: string, type: string}>, sources: array<never, never>, synchronizations: array<never, never>}' does not match the declared return type 'OCP\AppFramework\Http\JSONResponse|array{endpoints: array<array-key, mixed>, jobs: array<array-key, mixed>, mappings: array<array-key, mixed>, objects: array<array-key, mixed>, registers: array<array-key, mixed>, rules: array<array-key, mixed>, schemas: array<array-key, mixed>, sources: array<array-key, mixed>, synchronizations: array<array-key, mixed>}' for OCA\OpenRegister\Service\ConfigurationService::previewConfigurationChanges due to additional array shape fields (metadata) (see https://psalm.dev/128)
        return [97;41m$preview[0m;


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L3029\lib/Service/[1;31mConfigurationService.php:3029:24[0m]8;;\ - The declared return type 'array{objects: array<array-key, OCA\OpenRegister\Db\ObjectEntity>, registers: array<array-key, OCA\OpenRegister\Db\Register>, schemas: array<array-key, OCA\OpenRegister\Db\Schema>, skipped: array<array-key, mixed>}' for OCA\OpenRegister\Service\ConfigurationService::importConfigurationWithSelection is incorrect, got 'array{endpoints: array<array-key, mixed>, jobs: array<array-key, mixed>, mappings: array<array-key, mixed>, objects: array<array-key, OCA\OpenRegister\Db\ObjectEntity>, registers: array<array-key, OCA\OpenRegister\Db\Register>, rules: array<array-key, mixed>, schemas: array<array-key, OCA\OpenRegister\Db\Schema>, sources: array<array-key, mixed>, synchronizations: array<array-key, mixed>}' which is different due to additional array shape fields (endpoints, sources, mappings, jobs, synchronizations, rules) (see https://psalm.dev/011)
     * @phpstan-return [97;41marray{
     *     registers: array<Register>,
     *     schemas: array<Schema>,
     *     objects: array<ObjectEntity>,
     *     skipped: array
     * }[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ConfigurationService.php#L3164\lib/Service/[1;31mConfigurationService.php:3164:16[0m]8;;\ - The inferred type 'array{endpoints: array<array-key, mixed>, jobs: array<array-key, mixed>, mappings: array<array-key, mixed>, objects: array<array-key, OCA\OpenRegister\Db\ObjectEntity>, registers: array<array-key, OCA\OpenRegister\Db\Register>, rules: array<array-key, mixed>, schemas: array<array-key, OCA\OpenRegister\Db\Schema>, sources: array<array-key, mixed>, synchronizations: array<array-key, mixed>}' does not match the declared return type 'array{objects: array<array-key, OCA\OpenRegister\Db\ObjectEntity>, registers: array<array-key, OCA\OpenRegister\Db\Register>, schemas: array<array-key, OCA\OpenRegister\Db\Schema>, skipped: array<array-key, mixed>}' for OCA\OpenRegister\Service\ConfigurationService::importConfigurationWithSelection due to additional array shape fields (endpoints, sources, mappings, jobs, synchronizations, rules) (see https://psalm.dev/128)
        return [97;41m$result[0m;


[0;31mERROR[0m: InvalidDocblock - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/DashboardService.php#L271\lib/Service/[1;31mDashboardService.php:271:5[0m]8;;\ - Unexpected token . in docblock for OCA\OpenRegister\Service\DashboardService::getRegistersWithSchemas (see https://psalm.dev/008)
    /**
     * Get all registers with their schemas and statistics
     *
     * @param int|null $registerId The register ID to filter by
     * @param int|null $schemaId   The schema ID to filter by
     *
     * @return (array|mixed|string)[][] Array of registers with their schemas and statistics
     *
     * @throws \Exception If there is an error getting the registers with schemas
     *
     * @psalm-return list{
     *     0: array{
     *         id: 'orphaned'|'totals'|mixed,
     *         title: 'Orphaned Items'|'System Totals'|mixed,
     *         description: (
     *             'Items that reference non-existent registers, schemas, '
     *             .'or invalid register-schema combinations'
     *             )|('Total statistics across all registers and schemas')|mixed,
     *         stats: array,
     *         schemas: list<mixed>,
     *         ...
     *     },
     *     1?: array{
     *         stats: array,
     *         schemas: list<mixed>,
     *         id: 'orphaned'|'totals'|mixed,
     *         title: 'Orphaned Items'|'System Totals'|mixed,
     *         description: (
     *             'Items that reference non-existent registers, schemas, '
     *             .'or invalid register-schema combinations'
     *             )|('Total statistics across all registers and schemas')|mixed,
     *         ...
     *     },
     *     ...
     * }
     */
    [97;41mpublic function getRegistersWithSchemas([0m


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/DashboardService.php#L538\lib/Service/[1;31mDashboardService.php:538:37[0m]8;;\ - Method OCA\OpenRegister\Service\DashboardService::buildRegisterScope does not exist (see https://psalm.dev/022)
            $registerScope = $this->[97;41mbuildRegisterScope[0m($register);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/DashboardService.php#L540\lib/Service/[1;31mDashboardService.php:540:35[0m]8;;\ - Method OCA\OpenRegister\Service\DashboardService::buildSchemaScope does not exist (see https://psalm.dev/022)
            $schemaScope = $this->[97;41mbuildSchemaScope[0m($schema);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/DashboardService.php#L542\lib/Service/[1;31mDashboardService.php:542:35[0m]8;;\ - Method OCA\OpenRegister\Service\DashboardService::calculateSuccessRate does not exist (see https://psalm.dev/022)
            $successRate = $this->[97;41mcalculateSuccessRate[0m($results);


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ExportService.php#L156\lib/Service/[1;31mExportService.php:156:34[0m]8;;\ - Argument 1 expects T:React\Promise\Promise as mixed, but PhpOffice\PhpSpreadsheet\Spreadsheet provided (see https://psalm.dev/004)
                        $resolve([97;41m$spreadsheet[0m);


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ExportService.php#L220\lib/Service/[1;31mExportService.php:220:34[0m]8;;\ - Argument 1 expects T:React\Promise\Promise as mixed, but string provided (see https://psalm.dev/004)
                        $resolve([97;41m$csv[0m);


[0;31mERROR[0m: StringIncrement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ExportService.php#L390\lib/Service/[1;31mExportService.php:390:17[0m]8;;\ - Possibly unintended string increment (see https://psalm.dev/211)
                [97;41m$col[0m++;


[0;31mERROR[0m: MissingDependency - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L129\lib/Service/[1;31mFileService.php:129:15[0m]8;;\ - OCP\Files\IRootFolder depends on class or interface oc\hooks\emitter that does not exist (see https://psalm.dev/157)
     * @param [97;41mIRootFolder[0m           $rootFolder         The root folder interface


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L139\lib/Service/[1;31mFileService.php:139:15[0m]8;;\ - Class, interface or enum named OCA\Files_Versions\Versions\VersionManager does not exist (see https://psalm.dev/019)
     * @param [97;41mVersionManager[0m        $versionManager     Version manager service


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L210\lib/Service/[1;31mFileService.php:210:9[0m]8;;\ - Class, interface or enum named OCA\Files_Versions\Versions\VersionManager does not exist (see https://psalm.dev/019)
        [97;41m$this->versionManager[0m->createVersion(user: $this->userManager->get(self::APP_USER), file: $file);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L236\lib/Service/[1;31mFileService.php:236:16[0m]8;;\ - Class, interface or enum named OCA\Files_Versions\Versions\VersionManager does not exist (see https://psalm.dev/019)
        return [97;41m$this->versionManager[0m->getVersionFile($this->userManager->get(self::APP_USER), $file, $version);


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L365\lib/Service/[1;31mFileService.php:365:7[0m]8;;\ - Type OCA\OpenRegister\Db\ObjectEntity for $objectEntity is never string (see https://psalm.dev/056)
		if ([97;41mis_string($objectEntity)[0m === true) {


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L366\lib/Service/[1;31mFileService.php:366:4[0m]8;;\ - All possible types for this return were invalidated - This may be dead code (see https://psalm.dev/179)
			[97;41mreturn $objectEntity;[0m


[0;31mERROR[0m: InvalidCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L431\lib/Service/[1;31mFileService.php:431:60[0m]8;;\ - never cannot be cast to int (see https://psalm.dev/103)
                $existingFolder = $this->getNodeById((int) [97;41m$folderProperty[0m);


[0;31mERROR[0m: InvalidCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L491\lib/Service/[1;31mFileService.php:491:60[0m]8;;\ - never cannot be cast to int (see https://psalm.dev/103)
                $existingFolder = $this->getNodeById((int) [97;41m$folderProperty[0m);


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L530\lib/Service/[1;31mFileService.php:530:46[0m]8;;\ - Method OCP\Files\Node::get does not exist (see https://psalm.dev/181)
            $objectFolder = $registerFolder->[97;41mget[0m($objectFolderName);


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L534\lib/Service/[1;31mFileService.php:534:46[0m]8;;\ - Method OCP\Files\Node::newFolder does not exist (see https://psalm.dev/181)
            $objectFolder = $registerFolder->[97;41mnewFolder[0m($objectFolderName);


[0;31mERROR[0m: MissingDependency - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L574\lib/Service/[1;31mFileService.php:574:27[0m]8;;\ - OCP\Files\IRootFolder depends on class or interface oc\hooks\emitter that does not exist (see https://psalm.dev/157)
            $userFolder = [97;41m$this->rootFolder[0m->getUserFolder($user->getUID());


[0;31mERROR[0m: InvalidCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L670\lib/Service/[1;31mFileService.php:670:44[0m]8;;\ - never cannot be cast to int (see https://psalm.dev/103)
        $folder = $this->getNodeById((int) [97;41m$folderProperty[0m);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L757\lib/Service/[1;31mFileService.php:757:45[0m]8;;\ - Method OCA\OpenRegister\Service\FileService::getNodeTypeFromFolder does not exist (see https://psalm.dev/022)
                    'nodeType'    => $this->[97;41mgetNodeTypeFromFolder[0m($rootFolder),


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L932\lib/Service/[1;31mFileService.php:932:24[0m]8;;\ - Method OCP\Files\Node::getDirectoryListing does not exist (see https://psalm.dev/181)
                $file->[97;41mgetDirectoryListing[0m();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L1035\lib/Service/[1;31mFileService.php:1035:37[0m]8;;\ - Method OCA\OpenRegister\Service\FileService::getAccessUrlFromShares does not exist (see https://psalm.dev/022)
            'accessUrl'   => $this->[97;41mgetAccessUrlFromShares[0m($shares),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L1036\lib/Service/[1;31mFileService.php:1036:37[0m]8;;\ - Method OCA\OpenRegister\Service\FileService::getDownloadUrlFromShares does not exist (see https://psalm.dev/022)
            'downloadUrl' => $this->[97;41mgetDownloadUrlFromShares[0m($shares),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L1041\lib/Service/[1;31mFileService.php:1041:37[0m]8;;\ - Method OCA\OpenRegister\Service\FileService::getPublishedTimeFromShares does not exist (see https://psalm.dev/022)
            'published'   => $this->[97;41mgetPublishedTimeFromShares[0m($shares),


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L1043\lib/Service/[1;31mFileService.php:1043:57[0m]8;;\ - Argument 1 of OCA\OpenRegister\Service\FileService::getFileTags expects string, but int provided (see https://psalm.dev/004)
            'labels'      => $this->getFileTags(fileId: [97;41m$file->getId()[0m),


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L1626\lib/Service/[1;31mFileService.php:1626:38[0m]8;;\ - Method OCP\Files\Storage\IStorage::chown does not exist (see https://psalm.dev/181)
                $file->getStorage()->[97;41mchown[0m($file->getInternalPath(), $openRegisterUserId);


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L1655\lib/Service/[1;31mFileService.php:1655:52[0m]8;;\ - Too few arguments for OCP\Share\IManager::getSharesBy - expecting userId to be passed (see https://psalm.dev/025)
            $existingShares = $this->shareManager->[97;41mgetSharesBy[0m(


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L1656\lib/Service/[1;31mFileService.php:1656:17[0m]8;;\ - Parameter $sharedBy does not exist on function OCP\Share\IManager::getSharesBy (see https://psalm.dev/238)
                [97;41msharedBy[0m: $this->getUser()->getUID(),


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L1658\lib/Service/[1;31mFileService.php:1658:17[0m]8;;\ - Parameter $node does not exist on function OCP\Share\IManager::getSharesBy (see https://psalm.dev/238)
                [97;41mnode[0m: $file


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L1733\lib/Service/[1;31mFileService.php:1733:40[0m]8;;\ - Method OCP\Files\Storage\IStorage::chown does not exist (see https://psalm.dev/181)
                $folder->getStorage()->[97;41mchown[0m($folder->getInternalPath(), $openRegisterUserId);


[0;31mERROR[0m: MissingDependency - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L1780\lib/Service/[1;31mFileService.php:1780:21[0m]8;;\ - OCP\Files\IRootFolder depends on class or interface oc\hooks\emitter that does not exist (see https://psalm.dev/157)
            $file = [97;41m$this->rootFolder[0m->get($path);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L1865\lib/Service/[1;31mFileService.php:1865:45[0m]8;;\ - Method OCA\OpenRegister\Service\FileService::getNodeTypeFromFolder does not exist (see https://psalm.dev/022)
                    'nodeType'    => $this->[97;41mgetNodeTypeFromFolder[0m($rootFolder),


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L1951\lib/Service/[1;31mFileService.php:1951:56[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
            $pathInfo = $this->extractFileNameFromPath([97;41m(string)$filePath[0m);


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L2045\lib/Service/[1;31mFileService.php:2045:41[0m]8;;\ - Method OCP\Files\Node::hash does not exist (see https://psalm.dev/181)
        if ($content !== null && $file->[97;41mhash[0m(type: 'md5') !== md5(string: $content)) {


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L2058\lib/Service/[1;31mFileService.php:2058:24[0m]8;;\ - Method OCP\Files\Node::putContent does not exist (see https://psalm.dev/181)
                $file->[97;41mputContent[0m(data: $content);


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L2072\lib/Service/[1;31mFileService.php:2072:56[0m]8;;\ - Argument 1 of OCA\OpenRegister\Service\FileService::getFileTags expects string, but int provided (see https://psalm.dev/004)
            $existingTags = $this->getFileTags(fileId: [97;41m$file->getId()[0m);


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L2080\lib/Service/[1;31mFileService.php:2080:45[0m]8;;\ - Argument 1 of OCA\OpenRegister\Service\FileService::attachTagsToFile expects string, but int provided (see https://psalm.dev/004)
            $this->attachTagsToFile(fileId: [97;41m$file->getId()[0m, tags: $allTags);


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L2397\lib/Service/[1;31mFileService.php:2397:17[0m]8;;\ - Type non-empty-list<string> for $allTags is never falsy (see https://psalm.dev/122)
            if ([97;41mempty($allTags) === false[0m) {


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L2398\lib/Service/[1;31mFileService.php:2398:49[0m]8;;\ - Argument 1 of OCA\OpenRegister\Service\FileService::attachTagsToFile expects string, but int provided (see https://psalm.dev/004)
                $this->attachTagsToFile(fileId: [97;41m$file->getId()[0m, tags: $allTags);


[0;31mERROR[0m: RedundantFunctionCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L2519\lib/Service/[1;31mFileService.php:2519:20[0m]8;;\ - The call to array_values is unnecessary, list<string> is already a list (see https://psalm.dev/280)
            return [97;41marray_values[0m($tagNames);


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L2589\lib/Service/[1;31mFileService.php:2589:31[0m]8;;\ - Type string for $file is always string (see https://psalm.dev/122)
        if (is_int($file) || ([97;41mis_string($file)[0m && ctype_digit($file))) {


[0;31mERROR[0m: MissingDependency - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L2664\lib/Service/[1;31mFileService.php:2664:22[0m]8;;\ - OCP\Files\IRootFolder depends on class or interface oc\hooks\emitter that does not exist (see https://psalm.dev/157)
            $nodes = [97;41m$this->rootFolder[0m->getById($fileId);


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L2761\lib/Service/[1;31mFileService.php:2761:56[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
            $pathInfo = $this->extractFileNameFromPath([97;41m(string)$file[0m);


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L2883\lib/Service/[1;31mFileService.php:2883:56[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
            $pathInfo = $this->extractFileNameFromPath([97;41m(string)$filePath[0m);


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L3173\lib/Service/[1;31mFileService.php:3173:54[0m]8;;\ - Argument 1 of OCP\Files\Folder::getById expects int, but string provided (see https://psalm.dev/004)
                        $file = $userFolder->getById([97;41m$fileId[0m);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L3284\lib/Service/[1;31mFileService.php:3284:35[0m]8;;\ - Method OCA\OpenRegister\Service\FileService::getObjectId does not exist (see https://psalm.dev/022)
            'object_id' => $this->[97;41mgetObjectId[0m($object),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L3316\lib/Service/[1;31mFileService.php:3316:37[0m]8;;\ - Method OCA\OpenRegister\Service\FileService::getFileInObjectFolderMessage does not exist (see https://psalm.dev/022)
                'message' => $this->[97;41mgetFileInObjectFolderMessage[0m($fileInObjectFolder, $fileId)


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L3544\lib/Service/[1;31mFileService.php:3544:46[0m]8;;\ - Method OCP\Files\Node::get does not exist (see https://psalm.dev/181)
            $objectFolder = $registerFolder->[97;41mget[0m($objectFolderName);


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileService.php#L3548\lib/Service/[1;31mFileService.php:3548:46[0m]8;;\ - Method OCP\Files\Node::newFolder does not exist (see https://psalm.dev/181)
            $objectFolder = $registerFolder->[97;41mnewFolder[0m($objectFolderName);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L73\lib/Service/[1;31mFileTextService.php:73:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
     * @param [97;41mFileTextMapper[0m  $fileTextMapper  File text mapper


[0;31mERROR[0m: MissingDependency - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L76\lib/Service/[1;31mFileTextService.php:76:15[0m]8;;\ - OCP\Files\IRootFolder depends on class or interface oc\hooks\emitter that does not exist (see https://psalm.dev/157)
     * @param [97;41mIRootFolder[0m     $rootFolder      Root folder


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L95\lib/Service/[1;31mFileTextService.php:95:16[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
     * @return [97;41marray{success: bool, fileText?: FileText, error?: string}[0m


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L268\lib/Service/[1;31mFileTextService.php:268:47[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/019)
    public function getFileText(int $fileId): [97;41m?FileText[0m


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L295\lib/Service/[1;31mFileTextService.php:295:13[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/019)
        if ([97;41m$fileText[0m->getExtractionStatus() === 'pending') {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L299\lib/Service/[1;31mFileTextService.php:299:13[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/019)
        if ([97;41m$fileText[0m->getExtractionStatus() === 'failed') {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L309\lib/Service/[1;31mFileTextService.php:309:42[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/019)
                if ($currentChecksum !== [97;41m$fileText[0m->getFileChecksum()) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L341\lib/Service/[1;31mFileTextService.php:341:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
            $fileText = [97;41m$this->fileTextMapper[0m->findByFileId($fileId);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L350\lib/Service/[1;31mFileTextService.php:350:13[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
            [97;41m$this->fileTextMapper[0m->update($fileText);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L379\lib/Service/[1;31mFileTextService.php:379:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
        $pendingFiles = [97;41m$this->fileTextMapper[0m->findPendingExtractions($limit);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L424\lib/Service/[1;31mFileTextService.php:424:16[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
        return [97;41m$this->fileTextMapper[0m->getStats();


[0;31mERROR[0m: MissingDependency - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L453\lib/Service/[1;31mFileTextService.php:453:22[0m]8;;\ - OCP\Files\IRootFolder depends on class or interface oc\hooks\emitter that does not exist (see https://psalm.dev/157)
            $files = [97;41m$this->rootFolder[0m->getById($fileId);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L484\lib/Service/[1;31mFileTextService.php:484:9[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileTextMapper does not exist (see https://psalm.dev/019)
        [97;41m$this->fileTextMapper[0m->deleteByFileId($fileId);


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/FileTextService.php#L496\lib/Service/[1;31mFileTextService.php:496:16[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
     * @return [97;41mFileText[][0m Array of FileText entities


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GitHubService.php#L274\lib/Service/[1;31mGitHubService.php:274:21[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::hasResponse does not exist (see https://psalm.dev/181)
            if ($e->[97;41mhasResponse[0m()) {


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GitHubService.php#L275\lib/Service/[1;31mGitHubService.php:275:35[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::getResponse does not exist (see https://psalm.dev/181)
                $statusCode = $e->[97;41mgetResponse[0m()->getStatusCode();


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GitHubService.php#L950\lib/Service/[1;31mGitHubService.php:950:21[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::hasResponse does not exist (see https://psalm.dev/181)
            if ($e->[97;41mhasResponse[0m()) {


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GitHubService.php#L951\lib/Service/[1;31mGitHubService.php:951:37[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::getResponse does not exist (see https://psalm.dev/181)
                $statusCode   = $e->[97;41mgetResponse[0m()->getStatusCode();


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GitHubService.php#L952\lib/Service/[1;31mGitHubService.php:952:37[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::getResponse does not exist (see https://psalm.dev/181)
                $responseBody = $e->[97;41mgetResponse[0m()->getBody()->getContents();


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GitHubService.php#L1021\lib/Service/[1;31mGitHubService.php:1021:21[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::hasResponse does not exist (see https://psalm.dev/181)
            if ($e->[97;41mhasResponse[0m() && $e->getResponse()->getStatusCode() === 404) {


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GitHubService.php#L1021\lib/Service/[1;31mGitHubService.php:1021:42[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::getResponse does not exist (see https://psalm.dev/181)
            if ($e->hasResponse() && $e->[97;41mgetResponse[0m()->getStatusCode() === 404) {


[0;31mERROR[0m: InvalidPropertyAssignmentValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L74\lib/Service/[1;31mGuzzleSolrService.php:74:33[0m]8;;\ - $this->solrConfig with declared type 'array{autoCommit: bool, commitWithin: int, core: string, enableLogging: bool, enabled: bool, host: string, password: string, path: string, port: int, scheme: string, timeout: int, username: string}' cannot be assigned type 'array<never, never>' (see https://psalm.dev/145)
    private array $solrConfig = [97;41m[][0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L122\lib/Service/[1;31mGuzzleSolrService.php:122:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m          $settingsService     Settings service for configuration


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L193\lib/Service/[1;31mGuzzleSolrService.php:193:33[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $this->solrConfig = [97;41m$this->settingsService[0m->getSolrSettings();


[0;31mERROR[0m: InvalidPropertyAssignmentValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L196\lib/Service/[1;31mGuzzleSolrService.php:196:33[0m]8;;\ - $this->solrConfig with declared type 'array{autoCommit: bool, commitWithin: int, core: string, enableLogging: bool, enabled: bool, host: string, password: string, path: string, port: int, scheme: string, timeout: int, username: string}' cannot be assigned type 'array{enabled: false}' (see https://psalm.dev/145)
            $this->solrConfig = [97;41m['enabled' => false][0m;


[0;31mERROR[0m: InvalidPropertyAssignmentValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L241\lib/Service/[1;31mGuzzleSolrService.php:241:29[0m]8;;\ - $this->httpClient with declared type 'OCP\Http\Client\IClient' cannot be assigned type 'GuzzleHttp\Client' (see https://psalm.dev/145)
        $this->httpClient = [97;41mnew GuzzleClient($clientConfig)[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L633\lib/Service/[1;31mGuzzleSolrService.php:633:37[0m]8;;\ - Class, interface or enum named APCUIterator does not exist (see https://psalm.dev/019)
                    $iterator = new [97;41m\APCUIterator[0m('/^solr_availability_/');


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L692\lib/Service/[1;31mGuzzleSolrService.php:692:54[0m]8;;\ - Cannot access value on variable $solrConfig using offset value of 'useCloud', expecting 'enabled', 'host', 'port', 'path', 'core', 'scheme', 'username', 'password', 'timeout', 'autoCommit', 'commitWithin' or 'enableLogging' (see https://psalm.dev/115)
            if ($includeCollectionTests === true && ([97;41m$solrConfig['useCloud'][0m ?? false) === true) {


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L810\lib/Service/[1;31mGuzzleSolrService.php:810:16[0m]8;;\ - The declared return type 'bool' for OCA\OpenRegister\Service\GuzzleSolrService::ensureTenantCollection is incorrect, got 'array<array-key, mixed>|bool' (see https://psalm.dev/011)
     * @return [97;41mbool[0m True if collection exists or was created


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L818\lib/Service/[1;31mGuzzleSolrService.php:818:33[0m]8;;\ - Cannot access value on variable $this->solrConfig using offset value of 'collection', expecting 'enabled', 'host', 'port', 'path', 'core', 'scheme', 'username', 'password', 'timeout', 'autoCommit', 'commitWithin' or 'enableLogging' (see https://psalm.dev/115)
        $baseCollectionName   = [97;41m$this->solrConfig['collection'][0m ?? $this->solrConfig['core'] ?? 'openregister';


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L850\lib/Service/[1;31mGuzzleSolrService.php:850:22[0m]8;;\ - Cannot access value on variable $this->solrConfig using offset value of 'configSet', expecting 'enabled', 'host', 'port', 'path', 'core', 'scheme', 'username', 'password', 'timeout', 'autoCommit', 'commitWithin', 'enableLogging' or 'collection' (see https://psalm.dev/115)
        $configSet = [97;41m$this->solrConfig['configSet'][0m ?? 'openregister';


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L851\lib/Service/[1;31mGuzzleSolrService.php:851:16[0m]8;;\ - The inferred type 'array<array-key, mixed>' does not match the declared return type 'bool' for OCA\OpenRegister\Service\GuzzleSolrService::ensureTenantCollection (see https://psalm.dev/128)
        return [97;41m$this->createCollection($tenantCollectionName, $configSet)[0m;


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L867\lib/Service/[1;31mGuzzleSolrService.php:867:31[0m]8;;\ - Cannot access value on variable $this->solrConfig using offset value of 'objectCollection', expecting 'enabled', 'host', 'port', 'path', 'core', 'scheme', 'username', 'password', 'timeout', 'autoCommit', 'commitWithin' or 'enableLogging' (see https://psalm.dev/115)
        $baseCollectionName = [97;41m$this->solrConfig['objectCollection'][0m ?? null;


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L871\lib/Service/[1;31mGuzzleSolrService.php:871:35[0m]8;;\ - Cannot access value on variable $this->solrConfig using offset value of 'collection', expecting 'enabled', 'host', 'port', 'path', 'core', 'scheme', 'username', 'password', 'timeout', 'autoCommit', 'commitWithin', 'enableLogging' or 'objectCollection' (see https://psalm.dev/115)
            $baseCollectionName = [97;41m$this->solrConfig['collection'][0m ?? 'openregister';


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L1164\lib/Service/[1;31mGuzzleSolrService.php:1164:62[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getSelfRelationsType does not exist (see https://psalm.dev/022)
                            'self_relations_type'  => $this->[97;41mgetSelfRelationsType[0m($document),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L1616\lib/Service/[1;31mGuzzleSolrService.php:1616:45[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getSelfObjectJson does not exist (see https://psalm.dev/022)
            'self_object'         => $this->[97;41mgetSelfObjectJson[0m($object),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L2314\lib/Service/[1;31mGuzzleSolrService.php:2314:37[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getConfigStatus does not exist (see https://psalm.dev/022)
                'host'    => $this->[97;41mgetConfigStatus[0m('host'),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L2315\lib/Service/[1;31mGuzzleSolrService.php:2315:37[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getPortStatus does not exist (see https://psalm.dev/022)
                'port'    => $this->[97;41mgetPortStatus[0m(),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L2316\lib/Service/[1;31mGuzzleSolrService.php:2316:37[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getCoreStatus does not exist (see https://psalm.dev/022)
                'core'    => $this->[97;41mgetCoreStatus[0m(),


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L2328\lib/Service/[1;31mGuzzleSolrService.php:2328:76[0m]8;;\ - Cannot access value on variable $connectionTest using offset value of 'error', expecting 'success', 'message', 'details' or 'components' (see https://psalm.dev/115)
                'SOLR service is not available. Connection test failed: '.([97;41m$connectionTest['error'][0m ?? 'Unknown connection error').'. Please verify that SOLR is running and accessible at the configured URL.'


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L2486\lib/Service/[1;31mGuzzleSolrService.php:2486:20[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            return [97;41m$this->settingsService[0m->isMultiTenancyEnabled();


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L2846\lib/Service/[1;31mGuzzleSolrService.php:2846:13[0m]8;;\ - Type array<array-key, mixed> for $order is always array<array-key, mixed> (see https://psalm.dev/122)
        if ([97;41mis_array($order)[0m === true) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L3471\lib/Service/[1;31mGuzzleSolrService.php:3471:17[0m]8;;\ - Type non-empty-list<array<array-key, mixed>> for $solrDocs is never falsy (see https://psalm.dev/122)
            if ([97;41mempty($solrDocs) === false[0m) {


[0;31mERROR[0m: InvalidMethodCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L4366\lib/Service/[1;31mGuzzleSolrService.php:4366:51[0m]8;;\ - Cannot call method on string variable  (see https://psalm.dev/091)
            $responseBody = $response->getBody()->[97;41mgetContents[0m();


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L4781\lib/Service/[1;31mGuzzleSolrService.php:4781:31[0m]8;;\ - Cannot access value on variable $this->solrConfig using offset value of 'zookeeperHosts', expecting 'enabled', 'host', 'port', 'path', 'core', 'scheme', 'username', 'password', 'timeout', 'autoCommit', 'commitWithin' or 'enableLogging' (see https://psalm.dev/115)
            $zookeeperHosts = [97;41m$this->solrConfig['zookeeperHosts'][0m ?? 'zookeeper:2181';


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L4981\lib/Service/[1;31mGuzzleSolrService.php:4981:18[0m]8;;\ - Cannot access value on variable $this->solrConfig using offset value of 'useCloud', expecting 'enabled', 'host', 'port', 'path', 'core', 'scheme', 'username', 'password', 'timeout', 'autoCommit', 'commitWithin' or 'enableLogging' (see https://psalm.dev/115)
            if (([97;41m$this->solrConfig['useCloud'][0m ?? false) === true) {


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L5116\lib/Service/[1;31mGuzzleSolrService.php:5116:23[0m]8;;\ - Cannot access value on variable $this->solrConfig using offset value of 'collection', expecting 'enabled', 'host', 'port', 'path', 'core', 'scheme', 'username', 'password', 'timeout', 'autoCommit', 'commitWithin' or 'enableLogging' (see https://psalm.dev/115)
            if (isset([97;41m$this->solrConfig['collection'][0m) === true) {


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L5214\lib/Service/[1;31mGuzzleSolrService.php:5214:23[0m]8;;\ - Cannot access value on variable $this->solrConfig using offset value of 'collection', expecting 'enabled', 'host', 'port', 'path', 'core', 'scheme', 'username', 'password', 'timeout', 'autoCommit', 'commitWithin' or 'enableLogging' (see https://psalm.dev/115)
            if (isset([97;41m$this->solrConfig['collection'][0m) === true) {


[0;31mERROR[0m: InvalidMethodCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L5289\lib/Service/[1;31mGuzzleSolrService.php:5289:63[0m]8;;\ - Cannot call method on string variable  (see https://psalm.dev/091)
            $responseData = json_decode($response->getBody()->[97;41mgetContents[0m(), true);


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L5614\lib/Service/[1;31mGuzzleSolrService.php:5614:33[0m]8;;\ - Cannot access value on variable $this->solrConfig using offset value of 'objectCollection', expecting 'enabled', 'host', 'port', 'path', 'core', 'scheme', 'username', 'password', 'timeout', 'autoCommit', 'commitWithin' or 'enableLogging' (see https://psalm.dev/115)
            $objectCollection = [97;41m$this->solrConfig['objectCollection'][0m ?? null;


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L5615\lib/Service/[1;31mGuzzleSolrService.php:5615:33[0m]8;;\ - Cannot access value on variable $this->solrConfig using offset value of 'fileCollection', expecting 'enabled', 'host', 'port', 'path', 'core', 'scheme', 'username', 'password', 'timeout', 'autoCommit', 'commitWithin', 'enableLogging' or 'objectCollection' (see https://psalm.dev/115)
            $fileCollection   = [97;41m$this->solrConfig['fileCollection'][0m ?? null;


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L5618\lib/Service/[1;31mGuzzleSolrService.php:5618:23[0m]8;;\ - Cannot access value on variable $this->solrConfig using offset value of 'collection', expecting 'enabled', 'host', 'port', 'path', 'core', 'scheme', 'username', 'password', 'timeout', 'autoCommit', 'commitWithin', 'enableLogging', 'objectCollection' or 'fileCollection' (see https://psalm.dev/115)
            if (isset([97;41m$this->solrConfig['collection'][0m) === true) {


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L6061\lib/Service/[1;31mGuzzleSolrService.php:6061:16[0m]8;;\ - The declared return type 'GuzzleHttp\Client' for OCA\OpenRegister\Service\GuzzleSolrService::getHttpClient is incorrect, got 'OCP\Http\Client\IClient' (see https://psalm.dev/011)
     * @return [97;41mGuzzleClient[0m The configured and authenticated HTTP client


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L6065\lib/Service/[1;31mGuzzleSolrService.php:6065:16[0m]8;;\ - The inferred type 'OCP\Http\Client\IClient' does not match the declared return type 'GuzzleHttp\Client' for OCA\OpenRegister\Service\GuzzleSolrService::getHttpClient (see https://psalm.dev/128)
        return [97;41m$this->httpClient[0m;


[0;31mERROR[0m: TypeDoesNotContainNull - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L6222\lib/Service/[1;31mGuzzleSolrService.php:6222:13[0m]8;;\ - array<array-key, mixed> does not contain null (see https://psalm.dev/090)
        if ([97;41m$schemaIds === null[0m) {


[0;31mERROR[0m: TypeDoesNotContainNull - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L6455\lib/Service/[1;31mGuzzleSolrService.php:6455:13[0m]8;;\ - array<array-key, mixed> does not contain null (see https://psalm.dev/090)
        if ([97;41m$schemaIds === null[0m) {


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L6605\lib/Service/[1;31mGuzzleSolrService.php:6605:16[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Service\ObjectEntityMapper does not exist (see https://psalm.dev/200)
     * @param  [97;41mObjectEntityMapper[0m $objectMapper Object mapper instance


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L6797\lib/Service/[1;31mGuzzleSolrService.php:6797:50[0m]8;;\ - All possible types for this argument were invalidated - This may be dead code (see https://psalm.dev/179)
                                $entity->hydrate([97;41m$object[0m);


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L7027\lib/Service/[1;31mGuzzleSolrService.php:7027:15[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Service\ObjectEntityMapper does not exist (see https://psalm.dev/200)
     * @param [97;41mObjectEntityMapper[0m $objectMapper Object mapper for database operations


[0;31mERROR[0m: TypeDoesNotContainNull - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L7247\lib/Service/[1;31mGuzzleSolrService.php:7247:13[0m]8;;\ - array<array-key, mixed> does not contain null (see https://psalm.dev/090)
        if ([97;41m$schemaIds === null[0m) {


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L7271\lib/Service/[1;31mGuzzleSolrService.php:7271:31[0m]8;;\ - Redundant cast to int (see https://psalm.dev/262)
        $initialMemoryUsage = [97;41m(int) memory_get_usage(true)[0m;


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L7272\lib/Service/[1;31mGuzzleSolrService.php:7272:31[0m]8;;\ - Redundant cast to int (see https://psalm.dev/262)
        $initialMemoryPeak  = [97;41m(int) memory_get_peak_usage(true)[0m;


[0;31mERROR[0m: TypeDoesNotContainNull - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L7691\lib/Service/[1;31mGuzzleSolrService.php:7691:13[0m]8;;\ - array<array-key, mixed> does not contain null (see https://psalm.dev/090)
        if ([97;41m$schemaIds === null[0m) {


[0;31mERROR[0m: InvalidMethodCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L7970\lib/Service/[1;31mGuzzleSolrService.php:7970:75[0m]8;;\ - Cannot call method on string variable  (see https://psalm.dev/091)
                        $responseData = json_decode($response->getBody()->[97;41mgetContents[0m(), true);


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L8719\lib/Service/[1;31mGuzzleSolrService.php:8719:16[0m]8;;\ - The declared return type 'array{core_info?: array<array-key, mixed>, dynamic_fields?: array<array-key, mixed>, environment_notes?: array<array-key, mixed>, field_types?: array<array-key, mixed>, fields?: array<array-key, mixed>, message: string, success: bool}' for OCA\OpenRegister\Service\GuzzleSolrService::getFieldsConfiguration is incorrect, got 'array{core_info?: array<array-key, mixed>, details?: array{error?: string, response?: mixed}, dynamic_fields?: array<array-key, mixed>, environment_notes?: array<array-key, mixed>, execution_time_ms?: float, field_types?: array<array-key, mixed>, fields?: array<array-key, mixed>, message: non-falsy-string, success: bool}' which is different due to additional array shape fields (details, execution_time_ms) (see https://psalm.dev/011)
     * @return [97;41marray{success: bool, message: string, fields?: array, dynamic_fields?: array, field_types?: array, core_info?: array, environment_notes?: array}[0m


[0;31mERROR[0m: InvalidMethodCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L8767\lib/Service/[1;31mGuzzleSolrService.php:8767:61[0m]8;;\ - Cannot call method on string variable  (see https://psalm.dev/091)
            $schemaData = json_decode($response->getBody()->[97;41mgetContents[0m(), true);


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L8770\lib/Service/[1;31mGuzzleSolrService.php:8770:24[0m]8;;\ - The inferred type 'array{details: array{response: mixed}, message: 'Invalid schema response from SOLR', success: false}' does not match the declared return type 'array{core_info?: array<array-key, mixed>, dynamic_fields?: array<array-key, mixed>, environment_notes?: array<array-key, mixed>, field_types?: array<array-key, mixed>, fields?: array<array-key, mixed>, message: string, success: bool}' for OCA\OpenRegister\Service\GuzzleSolrService::getFieldsConfiguration due to additional array shape fields (details) (see https://psalm.dev/128)
                return [97;41m[
                    'success' => false,
                    'message' => 'Invalid schema response from SOLR',
                    'details' => ['response' => $schemaData],
                ][0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L8803\lib/Service/[1;31mGuzzleSolrService.php:8803:20[0m]8;;\ - The inferred type 'array{core_info: array<array-key, mixed>, dynamic_fields: array<array-key, mixed>, environment_notes: array<array-key, mixed>, execution_time_ms: float, field_types: array<array-key, mixed>, fields: array<array-key, mixed>, message: 'SOLR field configuration retrieved successfully', success: true}' does not match the declared return type 'array{core_info?: array<array-key, mixed>, dynamic_fields?: array<array-key, mixed>, environment_notes?: array<array-key, mixed>, field_types?: array<array-key, mixed>, fields?: array<array-key, mixed>, message: string, success: bool}' for OCA\OpenRegister\Service\GuzzleSolrService::getFieldsConfiguration due to additional array shape fields (execution_time_ms) (see https://psalm.dev/128)
            return [97;41m$result[0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L8813\lib/Service/[1;31mGuzzleSolrService.php:8813:20[0m]8;;\ - The inferred type 'array{details: array{error: string}, message: non-falsy-string, success: false}' does not match the declared return type 'array{core_info?: array<array-key, mixed>, dynamic_fields?: array<array-key, mixed>, environment_notes?: array<array-key, mixed>, field_types?: array<array-key, mixed>, fields?: array<array-key, mixed>, message: string, success: bool}' for OCA\OpenRegister\Service\GuzzleSolrService::getFieldsConfiguration due to additional array shape fields (details) (see https://psalm.dev/128)
            return [97;41m[
                'success' => false,
                'message' => 'Failed to retrieve SOLR field configuration: '.$e->getMessage(),
                'details' => ['error' => $e->getMessage()],
            ][0m;


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L8993\lib/Service/[1;31mGuzzleSolrService.php:8993:30[0m]8;;\ - Redundant cast to int (see https://psalm.dev/262)
            $currentMemory = [97;41m(int) memory_get_usage(true)[0m;


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L9105\lib/Service/[1;31mGuzzleSolrService.php:9105:42[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::calculatePredictionAccuracy does not exist (see https://psalm.dev/022)
            $predictionAccuracy = $this->[97;41mcalculatePredictionAccuracy[0m($prediction['estimated_additional'], $actualUsed);


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L9252\lib/Service/[1;31mGuzzleSolrService.php:9252:13[0m]8;;\ - Type string for $fieldName is always string (see https://psalm.dev/122)
        if ([97;41mis_string($fieldName)[0m === true && str_contains(strtolower($fieldName), 'base64') === true) {


[0;31mERROR[0m: InvalidMethodCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L9292\lib/Service/[1;31mGuzzleSolrService.php:9292:61[0m]8;;\ - Cannot call method on string variable  (see https://psalm.dev/091)
            $schemaData = json_decode($response->getBody()->[97;41mgetContents[0m(), true);


[0;31mERROR[0m: InvalidMethodCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L9417\lib/Service/[1;31mGuzzleSolrService.php:9417:61[0m]8;;\ - Cannot call method on string variable  (see https://psalm.dev/091)
            $schemaData = json_decode($response->getBody()->[97;41mgetContents[0m(), true);


[0;31mERROR[0m: InvalidMethodCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L9618\lib/Service/[1;31mGuzzleSolrService.php:9618:51[0m]8;;\ - Cannot call method on string variable  (see https://psalm.dev/091)
            $responseBody = $response->getBody()->[97;41mgetContents[0m();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L9797\lib/Service/[1;31mGuzzleSolrService.php:9797:27[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getNumericType does not exist (see https://psalm.dev/022)
            return $this->[97;41mgetNumericType[0m($sampleValue);


[0;31mERROR[0m: InvalidMethodCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L9918\lib/Service/[1;31mGuzzleSolrService.php:9918:51[0m]8;;\ - Cannot call method on string variable  (see https://psalm.dev/091)
            $responseBody = $response->getBody()->[97;41mgetContents[0m();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L10133\lib/Service/[1;31mGuzzleSolrService.php:10133:37[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getFieldNameFromFacetKey does not exist (see https://psalm.dev/022)
                $fieldName = $this->[97;41mgetFieldNameFromFacetKey[0m($facetKey);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L10160\lib/Service/[1;31mGuzzleSolrService.php:10160:35[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getFacetConfigKey does not exist (see https://psalm.dev/022)
            $configKey   = $this->[97;41mgetFacetConfigKey[0m($isMetadataField, $facetKey, $fieldName);


[0;31mERROR[0m: InvalidMethodCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L10344\lib/Service/[1;31mGuzzleSolrService.php:10344:51[0m]8;;\ - Cannot call method on string variable  (see https://psalm.dev/091)
            $responseBody = $response->getBody()->[97;41mgetContents[0m();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L10364\lib/Service/[1;31mGuzzleSolrService.php:10364:55[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getFacetKeys does not exist (see https://psalm.dev/022)
                        'facet_keys'        => $this->[97;41mgetFacetKeys[0m($data),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L10365\lib/Service/[1;31mGuzzleSolrService.php:10365:55[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getObjectFacetKeys does not exist (see https://psalm.dev/022)
                        'object_facet_keys' => $this->[97;41mgetObjectFacetKeys[0m($data),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L11586\lib/Service/[1;31mGuzzleSolrService.php:11586:51[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getCollectionHealth does not exist (see https://psalm.dev/022)
                    'health'            => $this->[97;41mgetCollectionHealth[0m($allActive),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L11587\lib/Service/[1;31mGuzzleSolrService.php:11587:51[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getCollectionStatus does not exist (see https://psalm.dev/022)
                    'status'            => $this->[97;41mgetCollectionStatus[0m($allActive),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L11911\lib/Service/[1;31mGuzzleSolrService.php:11911:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $settings       = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: InvalidMethodCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L11965\lib/Service/[1;31mGuzzleSolrService.php:11965:59[0m]8;;\ - Cannot call method on string variable  (see https://psalm.dev/091)
            $result   = json_decode($response->getBody()->[97;41mgetContents[0m(), true);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L12115\lib/Service/[1;31mGuzzleSolrService.php:12115:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $settings       = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: InvalidMethodCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L12162\lib/Service/[1;31mGuzzleSolrService.php:12162:59[0m]8;;\ - Cannot call method on string variable  (see https://psalm.dev/091)
            $result   = json_decode($response->getBody()->[97;41mgetContents[0m(), true);


[0;31mERROR[0m: InvalidMethodCall - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/GuzzleSolrService.php#L12177\lib/Service/[1;31mGuzzleSolrService.php:12177:61[0m]8;;\ - Cannot call method on string variable  (see https://psalm.dev/091)
            $result2   = json_decode($response2->getBody()->[97;41mgetContents[0m(), true);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L228\lib/Service/[1;31mImportService.php:228:8[0m]8;;\ - Class, interface or enum named React\Async\PromiseInterface does not exist (see https://psalm.dev/019)
    ): [97;41mPromiseInterface[0m {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L318\lib/Service/[1;31mImportService.php:318:8[0m]8;;\ - Class, interface or enum named React\Async\PromiseInterface does not exist (see https://psalm.dev/019)
    ): [97;41mPromiseInterface[0m {


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L346\lib/Service/[1;31mImportService.php:346:24[0m]8;;\ - The declared return type 'array<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, unchanged: array<array-key, mixed>, updated: array<array-key, mixed>}>' for OCA\OpenRegister\Service\ImportService::importFromCsv is incorrect, got 'non-empty-array<string, array{schema: array{id: int, slug: null|string, title: null|string}, ...<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>}>}>' (see https://psalm.dev/011)
     * @psalm-return   [97;41marray<string, array{created: array<mixed>, updated: array<mixed>, unchanged: array<mixed>, errors: array<mixed>}>[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L402\lib/Service/[1;31mImportService.php:402:16[0m]8;;\ - The inferred type 'non-empty-array<string, array{schema: array{id: int, slug: null|string, title: null|string}, ...<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>}>}>' does not match the declared return type 'array<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, unchanged: array<array-key, mixed>, updated: array<array-key, mixed>}>' for OCA\OpenRegister\Service\ImportService::importFromCsv (see https://psalm.dev/128)
        return [97;41m$finalResult[0m;


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L419\lib/Service/[1;31mImportService.php:419:24[0m]8;;\ - The declared return type 'array<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>, updated: array<array-key, mixed>}>' for OCA\OpenRegister\Service\ImportService::processMultiSchemaSpreadsheetAsync is incorrect, got 'array<string, array{created: array{created?: array<array-key, mixed>, errors?: array<array-key, mixed>, found?: int, unchanged?: array<array-key, mixed>, updated?: array<array-key, mixed>}, debug: array{created?: array<array-key, mixed>, errors?: array<array-key, mixed>, found?: int, headers: array<never, never>, processableHeaders: array<never, never>, schemaProperties: list<array-key>, unchanged?: array<array-key, mixed>, updated?: array<array-key, mixed>}, errors: array{0?: array{error: non-falsy-string, register: array{id: int, name: null|string}, schema: null, sheet: string, type: 'SchemaNotFoundException'}, created?: array<array-key, mixed>, errors?: array<array-key, mixed>, found?: int, unchanged?: array<array-key, mixed>, updated?: array<array-key, mixed>, ...<int<0, max>, array{error: non-falsy-string, register: array{id: int, name: null|string}, schema: null, sheet: string, type: 'SchemaNotFoundException'}>}, found: 0|array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>, updated: array<array-key, mixed>}, schema: array{created?: array<array-key, mixed>, errors?: array<array-key, mixed>, found?: int, id: int, slug: null|string, title: null|string, unchanged?: array<array-key, mixed>, updated?: array<array-key, mixed>}|null, unchanged: array{created?: array<array-key, mixed>, errors?: array<array-key, mixed>, found?: int, unchanged?: array<array-key, mixed>, updated?: array<array-key, mixed>}, updated: array{created?: array<array-key, mixed>, errors?: array<array-key, mixed>, found?: int, unchanged?: array<array-key, mixed>, updated?: array<array-key, mixed>}, ...<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>, updated: array<array-key, mixed>}>}>' (see https://psalm.dev/011)
     * @psalm-return   [97;41marray<string, array{found: int, created: array<mixed>, updated: array<mixed>, unchanged: array<mixed>, errors: array<mixed>}>[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L482\lib/Service/[1;31mImportService.php:482:16[0m]8;;\ - The inferred type 'array<string, array{created: array{created?: array<array-key, mixed>, errors?: array<array-key, mixed>, found?: int, unchanged?: array<array-key, mixed>, updated?: array<array-key, mixed>}, debug: array{created?: array<array-key, mixed>, errors?: array<array-key, mixed>, found?: int, headers: array<never, never>, processableHeaders: array<never, never>, schemaProperties: list<array-key>, unchanged?: array<array-key, mixed>, updated?: array<array-key, mixed>}, errors: array{0?: array{error: non-falsy-string, register: array{id: int, name: null|string}, schema: null, sheet: string, type: 'SchemaNotFoundException'}, created?: array<array-key, mixed>, errors?: array<array-key, mixed>, found?: int, unchanged?: array<array-key, mixed>, updated?: array<array-key, mixed>, ...<int<0, max>, array{error: non-falsy-string, register: array{id: int, name: null|string}, schema: null, sheet: string, type: 'SchemaNotFoundException'}>}, found: 0|array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>, updated: array<array-key, mixed>}, schema: array{created?: array<array-key, mixed>, errors?: array<array-key, mixed>, found?: int, id: int, slug: null|string, title: null|string, unchanged?: array<array-key, mixed>, updated?: array<array-key, mixed>}|null, unchanged: array{created?: array<array-key, mixed>, errors?: array<array-key, mixed>, found?: int, unchanged?: array<array-key, mixed>, updated?: array<array-key, mixed>}, updated: array{created?: array<array-key, mixed>, errors?: array<array-key, mixed>, found?: int, unchanged?: array<array-key, mixed>, updated?: array<array-key, mixed>}, ...<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>, updated: array<array-key, mixed>}>}>' does not match the declared return type 'array<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>, updated: array<array-key, mixed>}>' for OCA\OpenRegister\Service\ImportService::processMultiSchemaSpreadsheetAsync (see https://psalm.dev/128)
        return [97;41m$summary[0m;


[0;31mERROR[0m: InvalidOperand - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L534\lib/Service/[1;31mImportService.php:534:13[0m]8;;\ - Cannot add an array to a non-array int (see https://psalm.dev/058)
            [97;41m$summary['found'][0m    += $chunkSummary['found'];


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L575\lib/Service/[1;31mImportService.php:575:24[0m]8;;\ - The declared return type 'array<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>, updated: array<array-key, mixed>}>' for OCA\OpenRegister\Service\ImportService::processSpreadsheetBatch is incorrect, got 'array{created: array<never, mixed|null>, deduplication_efficiency?: non-empty-lowercase-string, errors: list<array{error: 'No data rows found in sheet'|'No valid headers found in sheet'|'Validation failed'|mixed, object: array<never, never>|mixed, row?: 1, sheet: string, type?: 'ValidationException'|mixed}>, found: int<0, max>, unchanged: array<never, mixed|null>, updated: array<never, mixed|null>}' (see https://psalm.dev/011)
     * @psalm-return   [97;41marray<string, array{found: int, created: array<mixed>, updated: array<mixed>, unchanged: array<mixed>, errors: array<mixed>}>[0m


[0;31mERROR[0m: DuplicateArrayKey - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L594\lib/Service/[1;31mImportService.php:594:13[0m]8;;\ - Key 'unchanged' already exists on array (see https://psalm.dev/151)
            [97;41m'unchanged' => [][0m,


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L616\lib/Service/[1;31mImportService.php:616:20[0m]8;;\ - The inferred type 'array{created: array<never, never>, errors: non-empty-list<array{error: 'No valid headers found in sheet', object: array<never, never>, row: 1, sheet: string}>, found: 0, unchanged: array<never, never>, updated: array<never, never>}' does not match the declared return type 'array<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>, updated: array<array-key, mixed>}>' for OCA\OpenRegister\Service\ImportService::processSpreadsheetBatch (see https://psalm.dev/128)
            return [97;41m$summary[0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L629\lib/Service/[1;31mImportService.php:629:20[0m]8;;\ - The inferred type 'array{created: array<never, never>, errors: non-empty-list<array{error: 'No data rows found in sheet', object: array<never, never>, row: 1, sheet: string}>, found: 0, unchanged: array<never, never>, updated: array<never, never>}' does not match the declared return type 'array<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>, updated: array<array-key, mixed>}>' for OCA\OpenRegister\Service\ImportService::processSpreadsheetBatch (see https://psalm.dev/128)
            return [97;41m$summary[0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L696\lib/Service/[1;31mImportService.php:696:16[0m]8;;\ - The inferred type 'array{created: array<never, mixed|null>, deduplication_efficiency?: non-empty-lowercase-string, errors: list<array{error: 'Validation failed'|mixed, object: mixed, sheet: string, type: 'ValidationException'|mixed}>, found: int<0, max>, unchanged: array<never, mixed|null>, updated: array<never, mixed|null>}' does not match the declared return type 'array<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>, updated: array<array-key, mixed>}>' for OCA\OpenRegister\Service\ImportService::processSpreadsheetBatch (see https://psalm.dev/128)
        return [97;41m$summary[0m;


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L713\lib/Service/[1;31mImportService.php:713:24[0m]8;;\ - The declared return type 'array<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>}>' for OCA\OpenRegister\Service\ImportService::processCsvSheet is incorrect, got 'array{created: array<never, mixed|null>, deduplication_efficiency?: non-empty-lowercase-string, errors: list<array{error: 'No data rows found in CSV file'|'No valid headers found in CSV file'|'Validation failed'|mixed, object: array<never, never>|mixed, row?: 1, type?: 'ValidationException'|mixed}>, found: int<0, max>, performance?: array{efficiency: 0|float, objectsPerSecond: float, totalFound: int<0, max>, totalProcessed: int<0, max>, totalTime: float, totalTimeMs: float}, unchanged: array<never, mixed|null>, updated: array<never, mixed|null>}' (see https://psalm.dev/011)
     * @psalm-return   [97;41marray<string, array{found: int, created: array<mixed>, unchanged: array<mixed>, errors: array<mixed>}>[0m


[0;31mERROR[0m: DuplicateArrayKey - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L722\lib/Service/[1;31mImportService.php:722:13[0m]8;;\ - Key 'unchanged' already exists on array (see https://psalm.dev/151)
            [97;41m'unchanged' => [][0m,


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L739\lib/Service/[1;31mImportService.php:739:20[0m]8;;\ - The inferred type 'array{created: array<never, never>, errors: non-empty-list<array{error: 'No valid headers found in CSV file', object: array<never, never>, row: 1}>, found: 0, unchanged: array<never, never>, updated: array<never, never>}' does not match the declared return type 'array<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>}>' for OCA\OpenRegister\Service\ImportService::processCsvSheet (see https://psalm.dev/128)
            return [97;41m$summary[0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L751\lib/Service/[1;31mImportService.php:751:20[0m]8;;\ - The inferred type 'array{created: array<never, never>, errors: non-empty-list<array{error: 'No data rows found in CSV file', object: array<never, never>, row: 1}>, found: 0, unchanged: array<never, never>, updated: array<never, never>}' does not match the declared return type 'array<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>}>' for OCA\OpenRegister\Service\ImportService::processCsvSheet (see https://psalm.dev/128)
            return [97;41m$summary[0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L847\lib/Service/[1;31mImportService.php:847:16[0m]8;;\ - The inferred type 'array{created: array<never, mixed|null>, deduplication_efficiency?: non-empty-lowercase-string, errors: list<array{error: 'Validation failed'|mixed, object: mixed, type: 'ValidationException'|mixed}>, found: int<0, max>, performance: array{efficiency: 0|float, objectsPerSecond: float, totalFound: int<0, max>, totalProcessed: int<0, max>, totalTime: float, totalTimeMs: float}, unchanged: array<never, mixed|null>, updated: array<never, mixed|null>}' does not match the declared return type 'array<string, array{created: array<array-key, mixed>, errors: array<array-key, mixed>, found: int, unchanged: array<array-key, mixed>}>' for OCA\OpenRegister\Service\ImportService::processCsvSheet (see https://psalm.dev/128)
        return [97;41m$summary[0m;


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L951\lib/Service/[1;31mImportService.php:951:30[0m]8;;\ - Argument 1 expects T:React\Promise\Promise as mixed, but array{created: array<never, mixed|null>, errors: array<int, array<string, mixed>>, found: int<0, max>, updated: array<never, mixed|null>} provided (see https://psalm.dev/004)
                    $resolve([97;41m$result[0m);


[0;31mERROR[0m: UndefinedFunction - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L957\lib/Service/[1;31mImportService.php:957:29[0m]8;;\ - Function React\Async\await does not exist (see https://psalm.dev/021)
            $batchResults = [97;41m\React\Async\await(\React\Promise\all($promises))[0m;


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L989\lib/Service/[1;31mImportService.php:989:24[0m]8;;\ - The declared return type 'array{errors: array<int, array<string, mixed>>, objects: array<int, array<string, mixed>>}' for OCA\OpenRegister\Service\ImportService::processCsvChunk is incorrect, got 'array{objects: list<array<string, mixed>>}' (see https://psalm.dev/011)
     * @psalm-return   [97;41marray{objects: array<int, array<string, mixed>>, errors: array<int, array<string, mixed>>}[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1038\lib/Service/[1;31mImportService.php:1038:16[0m]8;;\ - The inferred type 'array{objects: list<array<string, mixed>>}' does not match the declared return type 'array{errors: array<int, array<string, mixed>>, objects: array<int, array<string, mixed>>}' for OCA\OpenRegister\Service\ImportService::processCsvChunk (see https://psalm.dev/128)
        return [97;41m[
            'objects' => $objects,
        ][0m;


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1060\lib/Service/[1;31mImportService.php:1060:20[0m]8;;\ - Cannot access value on variable $this->schemaPropertiesCache using a int offset, expecting string (see https://psalm.dev/115)
        if (!isset([97;41m$this->schemaPropertiesCache[$schemaId][0m)) {


[0;31mERROR[0m: InvalidPropertyAssignmentValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1061\lib/Service/[1;31mImportService.php:1061:13[0m]8;;\ - $this->schemaPropertiesCache with declared type 'array<string, array<array-key, mixed>>' cannot be assigned type 'non-empty-array<int|string, array<array-key, mixed>|null>' (see https://psalm.dev/145)
            [97;41m$this->schemaPropertiesCache[0m[$schemaId] = $schema->getProperties();


[0;31mERROR[0m: InvalidArrayAccess - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1081\lib/Service/[1;31mImportService.php:1081:26[0m]8;;\ - Cannot access array value on non-array variable $key of type array-key (see https://psalm.dev/005)
            $firstChar = [97;41m$key[0][0m ?? '';


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1083\lib/Service/[1;31mImportService.php:1083:17[0m]8;;\ - '_' cannot be identical to '' (see https://psalm.dev/056)
            if ([97;41m$firstChar === '_'[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1083\lib/Service/[1;31mImportService.php:1083:17[0m]8;;\ - Type '' for $firstChar is never =string(_) (see https://psalm.dev/056)
            if ([97;41m$firstChar === '_'[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1086\lib/Service/[1;31mImportService.php:1086:24[0m]8;;\ - '@' cannot be identical to '' (see https://psalm.dev/056)
            } else if ([97;41m$firstChar === '@'[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1086\lib/Service/[1;31mImportService.php:1086:24[0m]8;;\ - Type '' for $firstChar is never =string(@) (see https://psalm.dev/056)
            } else if ([97;41m$firstChar === '@'[0m) {


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1119\lib/Service/[1;31mImportService.php:1119:54[0m]8;;\ - Argument 2 of OCA\OpenRegister\Service\ImportService::validateObjectProperties expects string, but int provided (see https://psalm.dev/004)
        $this->validateObjectProperties($objectData, [97;41m$schemaId[0m);


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1209\lib/Service/[1;31mImportService.php:1209:24[0m]8;;\ - The declared return type 'array{errors: array<int, array<string, mixed>>, objects: array<int, array<string, mixed>>}' for OCA\OpenRegister\Service\ImportService::processExcelChunk is incorrect, got 'array{objects: list<array<string, mixed>>}' (see https://psalm.dev/011)
     * @psalm-return   [97;41marray{objects: array<int, array<string, mixed>>, errors: array<int, array<string, mixed>>}[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1238\lib/Service/[1;31mImportService.php:1238:16[0m]8;;\ - The inferred type 'array{objects: list<array<string, mixed>>}' does not match the declared return type 'array{errors: array<int, array<string, mixed>>, objects: array<int, array<string, mixed>>}' for OCA\OpenRegister\Service\ImportService::processExcelChunk (see https://psalm.dev/128)
        return [97;41m[
            'objects' => $objects,
        ][0m;


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1343\lib/Service/[1;31mImportService.php:1343:41[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
                $cleanColumnName = trim([97;41m(string) $cellValue[0m);


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1369\lib/Service/[1;31mImportService.php:1369:16[0m]8;;\ - The declared return type 'array<string, array<array-key, mixed>>' for OCA\OpenRegister\Service\ImportService::processChunk is incorrect, got 'array{created: list<mixed>, errors: list<mixed>, found: int<0, max>, unchanged: array<never, never>, updated: list<mixed>}' (see https://psalm.dev/011)
     * @return [97;41marray<string, array>[0m Chunk processing summary


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1408\lib/Service/[1;31mImportService.php:1408:38[0m]8;;\ - Argument 1 expects T:React\Promise\Promise as mixed, but array<string, mixed> provided (see https://psalm.dev/004)
                            $resolve([97;41m$result[0m);


[0;31mERROR[0m: UndefinedFunction - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1417\lib/Service/[1;31mImportService.php:1417:28[0m]8;;\ - Function React\Async\await does not exist (see https://psalm.dev/021)
                $results = [97;41m\React\Async\await(\React\Promise\all($batch))[0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1433\lib/Service/[1;31mImportService.php:1433:16[0m]8;;\ - The inferred type 'array{created: list<mixed>, errors: list<mixed>, found: int<0, max>, unchanged: array<never, never>, updated: list<mixed>}' does not match the declared return type 'array<string, array<array-key, mixed>>' for OCA\OpenRegister\Service\ImportService::processChunk (see https://psalm.dev/128)
        return [97;41m$chunkSummary[0m;


[0;31mERROR[0m: TooManyArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ImportService.php#L1949\lib/Service/[1;31mImportService.php:1949:29[0m]8;;\ - Too many arguments for method OCP\BackgroundJob\IJobList::add - saw 3 (see https://psalm.dev/026)
            $this->jobList->[97;41madd[0m(SolrWarmupJob::class, $jobArguments, $executeAfter);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L221\lib/Service/[1;31mMagicMapper.php:221:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m    $settingsService    Settings service for configuration


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L342\lib/Service/[1;31mMagicMapper.php:342:33[0m]8;;\ - Operand of type true is always truthy (see https://psalm.dev/122)
            if ($tableExists && [97;41m$force[0m) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L505\lib/Service/[1;31mMagicMapper.php:505:21[0m]8;;\ - string can never contain null (see https://psalm.dev/122)
                if ([97;41m$uuid !== null[0m && $uuid !== '') {


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L603\lib/Service/[1;31mMagicMapper.php:603:41[0m]8;;\ - Method OCP\IDBConnection::getSchemaManager does not exist (see https://psalm.dev/181)
            $schemaManager = $this->db->[97;41mgetSchemaManager[0m();


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L798\lib/Service/[1;31mMagicMapper.php:798:21[0m]8;;\ - Type array{default?: mixed, index?: bool, length?: int, name: string, nullable: bool, type: string, unique?: bool} for $column is never =string() (see https://psalm.dev/122)
                if ([97;41m$column !== null && $column !== ''[0m) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L798\lib/Service/[1;31mMagicMapper.php:798:41[0m]8;;\ - '' can never contain array{default?: mixed, index?: bool, length?: int, name: string, nullable: bool, type: string, unique?: bool} (see https://psalm.dev/122)
                if ($column !== null && [97;41m$column !== ''[0m) {


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L814\lib/Service/[1;31mMagicMapper.php:814:22[0m]8;;\ - The declared return type 'array<string, array{default?: mixed, index?: bool, length?: int, name: string, nullable: bool, type: string, unique?: bool}>' for OCA\OpenRegister\Service\MagicMapper::getMetadataColumns is incorrect, got 'array{_application: array{length: 255, name: '_application', nullable: true, type: 'string'}, _authorization: array{name: '_authorization', nullable: true, type: 'json'}, _created: array{index: true, name: '_created', nullable: true, type: 'datetime'}, _deleted: array{name: '_deleted', nullable: true, type: 'json'}, _depublished: array{index: true, name: '_depublished', nullable: true, type: 'datetime'}, _description: array{name: '_description', nullable: true, type: 'text'}, _expires: array{index: true, name: '_expires', nullable: true, type: 'datetime'}, _files: array{name: '_files', nullable: true, type: 'json'}, _folder: array{length: 255, name: '_folder', nullable: true, type: 'string'}, _geo: array{name: '_geo', nullable: true, type: 'json'}, _groups: array{name: '_groups', nullable: true, type: 'json'}, _id: array{autoincrement: true, name: '_id', nullable: false, primary: true, type: 'bigint'}, _image: array{name: '_image', nullable: true, type: 'text'}, _locked: array{name: '_locked', nullable: true, type: 'json'}, _name: array{index: true, length: 255, name: '_name', nullable: true, type: 'string'}, _organisation: array{index: true, length: 36, name: '_organisation', nullable: true, type: 'string'}, _owner: array{index: true, length: 64, name: '_owner', nullable: true, type: 'string'}, _published: array{index: true, name: '_published', nullable: true, type: 'datetime'}, _register: array{index: true, length: 255, name: '_register', nullable: false, type: 'string'}, _relations: array{name: '_relations', nullable: true, type: 'json'}, _retention: array{name: '_retention', nullable: true, type: 'json'}, _schema: array{index: true, length: 255, name: '_schema', nullable: false, type: 'string'}, _schema_version: array{length: 50, name: '_schema_version', nullable: true, type: 'string'}, _size: array{length: 50, name: '_size', nullable: true, type: 'string'}, _slug: array{index: true, length: 255, name: '_slug', nullable: true, type: 'string'}, _summary: array{name: '_summary', nullable: true, type: 'text'}, _updated: array{index: true, name: '_updated', nullable: true, type: 'datetime'}, _uri: array{name: '_uri', nullable: true, type: 'text'}, _uuid: array{index: true, length: 36, name: '_uuid', nullable: false, type: 'string', unique: true}, _validation: array{name: '_validation', nullable: true, type: 'json'}, _version: array{length: 50, name: '_version', nullable: true, type: 'string'}}' (see https://psalm.dev/011)
     * @psalm-return [97;41marray<string, TableColumnConfig>[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L818\lib/Service/[1;31mMagicMapper.php:818:16[0m]8;;\ - The inferred type 'array{_application: array{length: 255, name: '_application', nullable: true, type: 'string'}, _authorization: array{name: '_authorization', nullable: true, type: 'json'}, _created: array{index: true, name: '_created', nullable: true, type: 'datetime'}, _deleted: array{name: '_deleted', nullable: true, type: 'json'}, _depublished: array{index: true, name: '_depublished', nullable: true, type: 'datetime'}, _description: array{name: '_description', nullable: true, type: 'text'}, _expires: array{index: true, name: '_expires', nullable: true, type: 'datetime'}, _files: array{name: '_files', nullable: true, type: 'json'}, _folder: array{length: 255, name: '_folder', nullable: true, type: 'string'}, _geo: array{name: '_geo', nullable: true, type: 'json'}, _groups: array{name: '_groups', nullable: true, type: 'json'}, _id: array{autoincrement: true, name: '_id', nullable: false, primary: true, type: 'bigint'}, _image: array{name: '_image', nullable: true, type: 'text'}, _locked: array{name: '_locked', nullable: true, type: 'json'}, _name: array{index: true, length: 255, name: '_name', nullable: true, type: 'string'}, _organisation: array{index: true, length: 36, name: '_organisation', nullable: true, type: 'string'}, _owner: array{index: true, length: 64, name: '_owner', nullable: true, type: 'string'}, _published: array{index: true, name: '_published', nullable: true, type: 'datetime'}, _register: array{index: true, length: 255, name: '_register', nullable: false, type: 'string'}, _relations: array{name: '_relations', nullable: true, type: 'json'}, _retention: array{name: '_retention', nullable: true, type: 'json'}, _schema: array{index: true, length: 255, name: '_schema', nullable: false, type: 'string'}, _schema_version: array{length: 50, name: '_schema_version', nullable: true, type: 'string'}, _size: array{length: 50, name: '_size', nullable: true, type: 'string'}, _slug: array{index: true, length: 255, name: '_slug', nullable: true, type: 'string'}, _summary: array{name: '_summary', nullable: true, type: 'text'}, _updated: array{index: true, name: '_updated', nullable: true, type: 'datetime'}, _uri: array{name: '_uri', nullable: true, type: 'text'}, _uuid: array{index: true, length: 36, name: '_uuid', nullable: false, type: 'string', unique: true}, _validation: array{name: '_validation', nullable: true, type: 'json'}, _version: array{length: 50, name: '_version', nullable: true, type: 'string'}}' does not match the declared return type 'array<string, array{default?: mixed, index?: bool, length?: int, name: string, nullable: bool, type: string, unique?: bool}>' for OCA\OpenRegister\Service\MagicMapper::getMetadataColumns (see https://psalm.dev/128)
        return [97;41m[
            self::METADATA_PREFIX.'id'             => [
                'name'          => self::METADATA_PREFIX.'id',
                'type'          => 'bigint',
                'nullable'      => false,
                'autoincrement' => true,
                'primary'       => true,
            ],
            self::METADATA_PREFIX.'uuid'           => [
                'name'     => self::METADATA_PREFIX.'uuid',
                'type'     => 'string',
                'length'   => 36,
                'nullable' => false,
                'unique'   => true,
                'index'    => true,
            ],
            self::METADATA_PREFIX.'slug'           => [
                'name'     => self::METADATA_PREFIX.'slug',
                'type'     => 'string',
                'length'   => 255,
                'nullable' => true,
                'index'    => true,
            ],
            self::METADATA_PREFIX.'uri'            => [
                'name'     => self::METADATA_PREFIX.'uri',
                'type'     => 'text',
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'version'        => [
                'name'     => self::METADATA_PREFIX.'version',
                'type'     => 'string',
                'length'   => 50,
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'register'       => [
                'name'     => self::METADATA_PREFIX.'register',
                'type'     => 'string',
                'length'   => 255,
                'nullable' => false,
                'index'    => true,
            ],
            self::METADATA_PREFIX.'schema'         => [
                'name'     => self::METADATA_PREFIX.'schema',
                'type'     => 'string',
                'length'   => 255,
                'nullable' => false,
                'index'    => true,
            ],
            self::METADATA_PREFIX.'owner'          => [
                'name'     => self::METADATA_PREFIX.'owner',
                'type'     => 'string',
                'length'   => 64,
                'nullable' => true,
                'index'    => true,
            ],
            self::METADATA_PREFIX.'organisation'   => [
                'name'     => self::METADATA_PREFIX.'organisation',
                'type'     => 'string',
                'length'   => 36,
                'nullable' => true,
                'index'    => true,
            ],
            self::METADATA_PREFIX.'application'    => [
                'name'     => self::METADATA_PREFIX.'application',
                'type'     => 'string',
                'length'   => 255,
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'folder'         => [
                'name'     => self::METADATA_PREFIX.'folder',
                'type'     => 'string',
                'length'   => 255,
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'name'           => [
                'name'     => self::METADATA_PREFIX.'name',
                'type'     => 'string',
                'length'   => 255,
                'nullable' => true,
                'index'    => true,
            ],
            self::METADATA_PREFIX.'description'    => [
                'name'     => self::METADATA_PREFIX.'description',
                'type'     => 'text',
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'summary'        => [
                'name'     => self::METADATA_PREFIX.'summary',
                'type'     => 'text',
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'image'          => [
                'name'     => self::METADATA_PREFIX.'image',
                'type'     => 'text',
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'size'           => [
                'name'     => self::METADATA_PREFIX.'size',
                'type'     => 'string',
                'length'   => 50,
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'schema_version' => [
                'name'     => self::METADATA_PREFIX.'schema_version',
                'type'     => 'string',
                'length'   => 50,
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'created'        => [
                'name'     => self::METADATA_PREFIX.'created',
                'type'     => 'datetime',
                'nullable' => true,
                'index'    => true,
            ],
            self::METADATA_PREFIX.'updated'        => [
                'name'     => self::METADATA_PREFIX.'updated',
                'type'     => 'datetime',
                'nullable' => true,
                'index'    => true,
            ],
            self::METADATA_PREFIX.'published'      => [
                'name'     => self::METADATA_PREFIX.'published',
                'type'     => 'datetime',
                'nullable' => true,
                'index'    => true,
            ],
            self::METADATA_PREFIX.'depublished'    => [
                'name'     => self::METADATA_PREFIX.'depublished',
                'type'     => 'datetime',
                'nullable' => true,
                'index'    => true,
            ],
            self::METADATA_PREFIX.'expires'        => [
                'name'     => self::METADATA_PREFIX.'expires',
                'type'     => 'datetime',
                'nullable' => true,
                'index'    => true,
            ],
            // JSON columns for complex data.
            self::METADATA_PREFIX.'files'          => [
                'name'     => self::METADATA_PREFIX.'files',
                'type'     => 'json',
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'relations'      => [
                'name'     => self::METADATA_PREFIX.'relations',
                'type'     => 'json',
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'locked'         => [
                'name'     => self::METADATA_PREFIX.'locked',
                'type'     => 'json',
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'authorization'  => [
                'name'     => self::METADATA_PREFIX.'authorization',
                'type'     => 'json',
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'validation'     => [
                'name'     => self::METADATA_PREFIX.'validation',
                'type'     => 'json',
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'deleted'        => [
                'name'     => self::METADATA_PREFIX.'deleted',
                'type'     => 'json',
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'geo'            => [
                'name'     => self::METADATA_PREFIX.'geo',
                'type'     => 'json',
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'retention'      => [
                'name'     => self::METADATA_PREFIX.'retention',
                'type'     => 'json',
                'nullable' => true,
            ],
            self::METADATA_PREFIX.'groups'         => [
                'name'     => self::METADATA_PREFIX.'groups',
                'type'     => 'json',
                'nullable' => true,
            ],
        ][0m;


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L1041\lib/Service/[1;31mMagicMapper.php:1041:35[0m]8;;\ - Cannot access value on variable $propertyConfig using offset value of 'default', expecting 'type', 'format', 'items', 'properties', 'required', 'maxLength', 'minLength', 'maximum' or 'minimum' (see https://psalm.dev/115)
                    'default'  => [97;41m$propertyConfig['default'][0m ?? null,


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L1181\lib/Service/[1;31mMagicMapper.php:1181:27[0m]8;;\ - Cannot access value on variable $propertyConfig using offset value of 'default', expecting 'type', 'format', 'items', 'properties', 'required', 'maxLength', 'minLength', 'maximum' or 'minimum' (see https://psalm.dev/115)
            'default'  => [97;41m$propertyConfig['default'][0m ?? null,


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L1198\lib/Service/[1;31mMagicMapper.php:1198:22[0m]8;;\ - The declared return type 'array{default?: mixed, index?: bool, length?: int, name: string, nullable: bool, type: string, unique?: bool}' for OCA\OpenRegister\Service\MagicMapper::mapNumberProperty is incorrect, got 'array{default: mixed|null, index: true, name: string, nullable: bool, precision: 10, scale: 2, type: 'decimal'}' which is different due to additional array shape fields (precision, scale) (see https://psalm.dev/011)
     * @psalm-return [97;41mTableColumnConfig[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L1204\lib/Service/[1;31mMagicMapper.php:1204:16[0m]8;;\ - The inferred type 'array{default: mixed|null, index: true, name: string, nullable: bool, precision: 10, scale: 2, type: 'decimal'}' does not match the declared return type 'array{default?: mixed, index?: bool, length?: int, name: string, nullable: bool, type: string, unique?: bool}' for OCA\OpenRegister\Service\MagicMapper::mapNumberProperty due to additional array shape fields (precision, scale) (see https://psalm.dev/128)
        return [97;41m[
            'name'      => $columnName,
            'type'      => 'decimal',
            'precision' => 10,
            'scale'     => 2,
            'nullable'  => !$isRequired,
            'default'   => $propertyConfig['default'] ?? null,
            'index'     => true,
        // Numeric fields are often used for filtering.
        ][0m;


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L1210\lib/Service/[1;31mMagicMapper.php:1210:28[0m]8;;\ - Cannot access value on variable $propertyConfig using offset value of 'default', expecting 'type', 'format', 'items', 'properties', 'required', 'maxLength', 'minLength', 'maximum' or 'minimum' (see https://psalm.dev/115)
            'default'   => [97;41m$propertyConfig['default'][0m ?? null,


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L1230\lib/Service/[1;31mMagicMapper.php:1230:19[0m]8;;\ - Class, interface or enum named Doctrine\DBAL\Schema\Schema does not exist (see https://psalm.dev/019)
        $schema = [97;41m$this->db->createSchema()[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L1231\lib/Service/[1;31mMagicMapper.php:1231:19[0m]8;;\ - Class, interface or enum named Doctrine\DBAL\Schema\Schema does not exist (see https://psalm.dev/019)
        $table  = [97;41m$schema[0m->createTable($tableName);


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L1275\lib/Service/[1;31mMagicMapper.php:1275:19[0m]8;;\ - Cannot access value on variable $column using offset value of 'autoincrement', expecting 'name', 'type', 'length', 'nullable', 'default', 'index' or 'unique' (see https://psalm.dev/115)
        if (isset([97;41m$column['autoincrement'][0m) && $column['autoincrement']) {


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L1279\lib/Service/[1;31mMagicMapper.php:1279:19[0m]8;;\ - Cannot access value on variable $column using offset value of 'precision', expecting 'name', 'type', 'length', 'nullable', 'default', 'index', 'unique' or 'autoincrement' (see https://psalm.dev/115)
        if (isset([97;41m$column['precision'][0m)) {


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L1283\lib/Service/[1;31mMagicMapper.php:1283:19[0m]8;;\ - Cannot access value on variable $column using offset value of 'scale', expecting 'name', 'type', 'length', 'nullable', 'default', 'index', 'unique', 'autoincrement' or 'precision' (see https://psalm.dev/115)
        if (isset([97;41m$column['scale'][0m)) {


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L1291\lib/Service/[1;31mMagicMapper.php:1291:19[0m]8;;\ - Cannot access value on variable $column using offset value of 'primary', expecting 'name', 'type', 'length', 'nullable', 'default', 'index', 'unique', 'autoincrement', 'precision' or 'scale' (see https://psalm.dev/115)
        if (isset([97;41m$column['primary'][0m) && $column['primary']) {


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L1643\lib/Service/[1;31mMagicMapper.php:1643:48[0m]8;;\ - Parameter $datetime does not exist on function DateTime::__construct (see https://psalm.dev/238)
                        $value = new \DateTime([97;41mdatetime[0m: $value);


[0;31mERROR[0m: NullArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L1826\lib/Service/[1;31mMagicMapper.php:1826:71[0m]8;;\ - Argument 3 of OCP\IConfig::getAppValue cannot be null, null value provided to parameter with type string (see https://psalm.dev/057)
        return $this->config->getAppValue('openregister', $configKey, [97;41mnull[0m);


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L2021\lib/Service/[1;31mMagicMapper.php:2021:41[0m]8;;\ - Method OCP\IDBConnection::getSchemaManager does not exist (see https://psalm.dev/181)
            $schemaManager = $this->db->[97;41mgetSchemaManager[0m();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L2065\lib/Service/[1;31mMagicMapper.php:2065:19[0m]8;;\ - Class, interface or enum named Doctrine\DBAL\Schema\Schema does not exist (see https://psalm.dev/019)
        $table  = [97;41m$schema[0m->getTable($tableName);


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L2126\lib/Service/[1;31mMagicMapper.php:2126:41[0m]8;;\ - Method OCP\IDBConnection::getSchemaManager does not exist (see https://psalm.dev/181)
            $schemaManager = $this->db->[97;41mgetSchemaManager[0m();


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapper.php#L2221\lib/Service/[1;31mMagicMapper.php:2221:41[0m]8;;\ - Method OCP\IDBConnection::getSchemaManager does not exist (see https://psalm.dev/181)
            $schemaManager = $this->db->[97;41mgetSchemaManager[0m();


[0;31mERROR[0m: TypeDoesNotContainNull - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapperHandlers/MagicOrganizationHandler.php#L147\lib/Service/MagicMapperHandlers/[1;31mMagicOrganizationHandler.php:147:21[0m]8;;\ - string does not contain null (see https://psalm.dev/090)
                if ([97;41m$activeOrganisationUuid === null[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapperHandlers/MagicRbacHandler.php#L141\lib/Service/MagicMapperHandlers/[1;31mMagicRbacHandler.php:141:47[0m]8;;\ - '{}' cannot be identical to non-empty-array<array-key, mixed> (see https://psalm.dev/056)
        if (empty($authorization) === true || [97;41m$authorization === '{}'[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapperHandlers/MagicRbacHandler.php#L141\lib/Service/MagicMapperHandlers/[1;31mMagicRbacHandler.php:141:47[0m]8;;\ - Type non-empty-array<array-key, mixed> for $authorization is never =string({}) (see https://psalm.dev/056)
        if (empty($authorization) === true || [97;41m$authorization === '{}'[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapperHandlers/MagicRbacHandler.php#L146\lib/Service/MagicMapperHandlers/[1;31mMagicRbacHandler.php:146:13[0m]8;;\ - Type non-empty-array<array-key, mixed> for $authorization is never string (see https://psalm.dev/056)
        if ([97;41mis_string($authorization)[0m === true) {


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapperHandlers/MagicRbacHandler.php#L147\lib/Service/MagicMapperHandlers/[1;31mMagicRbacHandler.php:147:39[0m]8;;\ - All possible types for this argument were invalidated - This may be dead code (see https://psalm.dev/179)
            $authConfig = json_decode([97;41m$authorization[0m, true);


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapperHandlers/MagicRbacHandler.php#L200\lib/Service/MagicMapperHandlers/[1;31mMagicRbacHandler.php:200:47[0m]8;;\ - '{}' cannot be identical to non-empty-array<array-key, mixed> (see https://psalm.dev/056)
        if (empty($authorization) === true || [97;41m$authorization === '{}'[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapperHandlers/MagicRbacHandler.php#L200\lib/Service/MagicMapperHandlers/[1;31mMagicRbacHandler.php:200:47[0m]8;;\ - Type non-empty-array<array-key, mixed> for $authorization is never =string({}) (see https://psalm.dev/056)
        if (empty($authorization) === true || [97;41m$authorization === '{}'[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapperHandlers/MagicRbacHandler.php#L205\lib/Service/MagicMapperHandlers/[1;31mMagicRbacHandler.php:205:13[0m]8;;\ - Type non-empty-array<array-key, mixed> for $authorization is never string (see https://psalm.dev/056)
        if ([97;41mis_string($authorization)[0m === true) {


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapperHandlers/MagicRbacHandler.php#L206\lib/Service/MagicMapperHandlers/[1;31mMagicRbacHandler.php:206:39[0m]8;;\ - All possible types for this argument were invalidated - This may be dead code (see https://psalm.dev/179)
            $authConfig = json_decode([97;41m$authorization[0m, true);


[0;31mERROR[0m: UndefinedVariable - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapperHandlers/MagicSearchHandler.php#L367\lib/Service/MagicMapperHandlers/[1;31mMagicSearchHandler.php:367:87[0m]8;;\ - Cannot find referenced variable $tableName (see https://psalm.dev/024)
            $objectEntity = $this->convertRowToObjectEntity($row, $register, $schema, [97;41m$tableName[0m);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapperHandlers/MagicSearchHandler.php#L516\lib/Service/MagicMapperHandlers/[1;31mMagicSearchHandler.php:516:57[0m]8;;\ - Parameter $activeOrganisationUuid does not exist on function OCA\OpenRegister\Service\MagicMapperHandlers\MagicSearchHandler::searchObjects (see https://psalm.dev/238)
        return $this->searchObjects(query: $countQuery, [97;41mactiveOrganisationUuid[0m: $register, rbac: $schema, multi: $tableName);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapperHandlers/MagicSearchHandler.php#L516\lib/Service/MagicMapperHandlers/[1;31mMagicSearchHandler.php:516:92[0m]8;;\ - Parameter $rbac does not exist on function OCA\OpenRegister\Service\MagicMapperHandlers\MagicSearchHandler::searchObjects (see https://psalm.dev/238)
        return $this->searchObjects(query: $countQuery, activeOrganisationUuid: $register, [97;41mrbac[0m: $schema, multi: $tableName);


[0;31mERROR[0m: InvalidNamedArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MagicMapperHandlers/MagicSearchHandler.php#L516\lib/Service/MagicMapperHandlers/[1;31mMagicSearchHandler.php:516:107[0m]8;;\ - Parameter $multi does not exist on function OCA\OpenRegister\Service\MagicMapperHandlers\MagicSearchHandler::searchObjects (see https://psalm.dev/238)
        return $this->searchObjects(query: $countQuery, activeOrganisationUuid: $register, rbac: $schema, [97;41mmulti[0m: $tableName);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MetricsService.php#L117\lib/Service/[1;31mMetricsService.php:117:73[0m]8;;\ - Method OCA\OpenRegister\Service\MetricsService::encodeMetadata does not exist (see https://psalm.dev/022)
                    'metadata'      => $qb->createNamedParameter($this->[97;41mencodeMetadata[0m($metadata)),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MetricsService.php#L199\lib/Service/[1;31mMetricsService.php:199:31[0m]8;;\ - Method OCA\OpenRegister\Service\MetricsService::calculateSuccessRate does not exist (see https://psalm.dev/022)
        $successRate = $this->[97;41mcalculateSuccessRate[0m($total, $successful);


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MetricsService.php#L240\lib/Service/[1;31mMetricsService.php:240:44[0m]8;;\ - Method OCP\DB\QueryBuilder\IFunctionBuilder::avg does not exist (see https://psalm.dev/181)
                ->selectAlias($qb->func()->[97;41mavg[0m('duration_ms'), 'avg_ms')


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MetricsService.php#L255\lib/Service/[1;31mMetricsService.php:255:36[0m]8;;\ - Method OCA\OpenRegister\Service\MetricsService::roundAverageMs does not exist (see https://psalm.dev/022)
                'avg_ms' => $this->[97;41mroundAverageMs[0m($row['avg_ms']),


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MetricsService.php#L293\lib/Service/[1;31mMetricsService.php:293:54[0m]8;;\ - Method OCP\DB\QueryBuilder\IFunctionBuilder::length does not exist (see https://psalm.dev/181)
        $qb2->select($qb2->func()->sum($qb2->func()->[97;41mlength[0m('embedding')), 'total_bytes')


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MetricsService.php#L312\lib/Service/[1;31mMetricsService.php:312:47[0m]8;;\ - Method OCA\OpenRegister\Service\MetricsService::calculateAverageVectorsPerDay does not exist (see https://psalm.dev/022)
            'avg_vectors_per_day'   => $this->[97;41mcalculateAverageVectorsPerDay[0m($growthData),


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MetricsService.php#L341\lib/Service/[1;31mMetricsService.php:341:16[0m]8;;\ - The declared return type 'int' for OCA\OpenRegister\Service\MetricsService::cleanOldMetrics is incorrect, got 'OCP\DB\IResult|int' (see https://psalm.dev/011)
     * @return [97;41mint[0m Number of deleted records


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MetricsService.php#L352\lib/Service/[1;31mMetricsService.php:352:16[0m]8;;\ - The inferred type 'OCP\DB\IResult|int' does not match the declared return type 'int' for OCA\OpenRegister\Service\MetricsService::cleanOldMetrics (see https://psalm.dev/128)
        return [97;41m$qb->execute()[0m;


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MySQLJsonService.php#L297\lib/Service/[1;31mMySQLJsonService.php:297:17[0m]8;;\ - Type list<mixed> for $value is always array<array-key, mixed> (see https://psalm.dev/122)
            if ([97;41mis_array($value)[0m === true) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/MySQLJsonService.php#L313\lib/Service/[1;31mMySQLJsonService.php:313:17[0m]8;;\ - Type never for $value is never bool (see https://psalm.dev/056)
            if ([97;41mis_bool($value)[0m === true) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/NamedEntityRecognitionService.php#L85\lib/Service/[1;31mNamedEntityRecognitionService.php:85:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m      $settingsService      Settings service.


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/NamedEntityRecognitionService.php#L467\lib/Service/[1;31mNamedEntityRecognitionService.php:467:40[0m]8;;\ - Method OCA\OpenRegister\Db\GdprEntityMapper::getQueryBuilder does not exist (see https://psalm.dev/022)
            $qb = $this->entityMapper->[97;41mgetQueryBuilder[0m();


[0;31mERROR[0m: InaccessibleMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/NamedEntityRecognitionService.php#L474\lib/Service/[1;31mNamedEntityRecognitionService.php:474:46[0m]8;;\ - Cannot access protected method OCA\OpenRegister\Db\GdprEntityMapper::findEntity from context OCA\OpenRegister\Service\NamedEntityRecognitionService (see https://psalm.dev/003)
            $existing = $this->entityMapper->[97;41mfindEntity[0m($qb);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/NamedEntityRecognitionService.php#L484\lib/Service/[1;31mNamedEntityRecognitionService.php:484:30[0m]8;;\ - Class, interface or enum named Ramsey\Uuid\Uuid does not exist (see https://psalm.dev/019)
            $entity->setUuid([97;41mUuid[0m::v4()->toString());


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/OasService.php#L151\lib/Service/[1;31mOasService.php:151:17[0m]8;;\ - Type non-empty-array<array-key, mixed> for $schemaDefinition is always array<array-key, mixed> (see https://psalm.dev/122)
            if ([97;41m!empty($schemaDefinition) && is_array($schemaDefinition)[0m) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/OasService.php#L151\lib/Service/[1;31mOasService.php:151:46[0m]8;;\ - Type non-empty-array<array-key, mixed> for $schemaDefinition is always array<array-key, mixed> (see https://psalm.dev/122)
            if (!empty($schemaDefinition) && [97;41mis_array($schemaDefinition)[0m) {


[0;31mERROR[0m: InvalidPropertyAssignmentValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectCacheService.php#L664\lib/Service/[1;31mObjectCacheService.php:664:9[0m]8;;\ - $this->objectCache with declared type 'array<string, OCA\OpenRegister\Db\ObjectEntity>' cannot be assigned type 'non-empty-array<int|string, OCA\OpenRegister\Db\ObjectEntity>' (see https://psalm.dev/145)
        [97;41m$this->objectCache[0m[$object->getId()] = $object;


[0;31mERROR[0m: InvalidPropertyAssignmentValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectCacheService.php#L668\lib/Service/[1;31mObjectCacheService.php:668:13[0m]8;;\ - $this->objectCache with declared type 'array<string, OCA\OpenRegister\Db\ObjectEntity>' cannot be assigned type 'non-empty-array<int|string, OCA\OpenRegister\Db\ObjectEntity>' (see https://psalm.dev/145)
            [97;41m$this->objectCache[0m[$object->getUuid()] = $object;


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectCacheService.php#L1070\lib/Service/[1;31mObjectCacheService.php:1070:41[0m]8;;\ - Argument 1 of OCA\OpenRegister\Service\ObjectCacheService::clearSchemaRelatedCaches expects int|null, but int|null|string provided (see https://psalm.dev/012)
        $this->clearSchemaRelatedCaches([97;41m$schemaId[0m, $registerId, $operation);


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectCacheService.php#L1070\lib/Service/[1;31mObjectCacheService.php:1070:52[0m]8;;\ - Argument 2 of OCA\OpenRegister\Service\ObjectCacheService::clearSchemaRelatedCaches expects int|null, but int|null|string provided (see https://psalm.dev/012)
        $this->clearSchemaRelatedCaches($schemaId, [97;41m$registerId[0m, $operation);


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectCacheService.php#L1099\lib/Service/[1;31mObjectCacheService.php:1099:15[0m]8;;\ - Cannot access value on variable $this->objectCache using a int offset, expecting string (see https://psalm.dev/115)
        unset([97;41m$this->objectCache[$object->getId()][0m);


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectCacheService.php#L1179\lib/Service/[1;31mObjectCacheService.php:1179:13[0m]8;;\ - Type array<array-key, mixed> for $keyComponents['query'] is always array<array-key, mixed> (see https://psalm.dev/122)
        if ([97;41misset($keyComponents['query']) && is_array($keyComponents['query'])[0m) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectCacheService.php#L1179\lib/Service/[1;31mObjectCacheService.php:1179:47[0m]8;;\ - Type array<array-key, mixed> for $keyComponents['query'] is always array<array-key, mixed> (see https://psalm.dev/122)
        if (isset($keyComponents['query']) && [97;41mis_array($keyComponents['query'])[0m) {


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectCacheService.php#L1371\lib/Service/[1;31mObjectCacheService.php:1371:71[0m]8;;\ - Argument 1 of OCA\OpenRegister\Db\OrganisationMapper::findByUuid expects string, but int|string provided (see https://psalm.dev/012)
                $organisation = $this->organisationMapper->findByUuid([97;41m$identifier[0m);


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectCacheService.php#L1372\lib/Service/[1;31mObjectCacheService.php:1372:21[0m]8;;\ - OCA\OpenRegister\Db\Organisation can never contain null (see https://psalm.dev/122)
                if ([97;41m$organisation !== null[0m) {


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectCacheService.php#L1757\lib/Service/[1;31mObjectCacheService.php:1757:55[0m]8;;\ - Method OCA\OpenRegister\Db\ObjectEntityMapper::findInBatches does not exist (see https://psalm.dev/022)
                $objects = $this->objectEntityMapper->[97;41mfindInBatches[0m(


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectCacheService.php#L1915\lib/Service/[1;31mObjectCacheService.php:1915:16[0m]8;;\ - The declared return type 'bool' for OCA\OpenRegister\Service\ObjectCacheService::clearSolrIndex is incorrect, got 'array<array-key, mixed>|bool' (see https://psalm.dev/011)
     * @return [97;41mbool[0m True if clearing was successful


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectCacheService.php#L1950\lib/Service/[1;31mObjectCacheService.php:1950:20[0m]8;;\ - The inferred type 'array<array-key, mixed>|bool' does not match the declared return type 'bool' for OCA\OpenRegister\Service\ObjectCacheService::clearSolrIndex (see https://psalm.dev/128)
            return [97;41m$result[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/DeleteObject.php#L71\lib/Service/ObjectHandlers/[1;31mDeleteObject.php:71:13[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
    private [97;41mSettingsService[0m $settingsService;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/DeleteObject.php#L90\lib/Service/ObjectHandlers/[1;31mDeleteObject.php:90:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m         $settingsService         Settings service for accessing trail settings.


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/DeleteObject.php#L145\lib/Service/ObjectHandlers/[1;31mDeleteObject.php:145:32[0m]8;;\ - Method JsonSerializable::getRegister does not exist (see https://psalm.dev/181)
                $objectEntity->[97;41mgetRegister[0m(),


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/DeleteObject.php#L146\lib/Service/ObjectHandlers/[1;31mDeleteObject.php:146:32[0m]8;;\ - Method JsonSerializable::getSchema does not exist (see https://psalm.dev/181)
                $objectEntity->[97;41mgetSchema[0m()


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/DeleteObject.php#L269\lib/Service/ObjectHandlers/[1;31mDeleteObject.php:269:34[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $retentionSettings = [97;41m$this->settingsService[0m->getRetentionSettingsOnly();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/GetObject.php#L62\lib/Service/ObjectHandlers/[1;31mGetObject.php:62:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m    $settingsService    Settings service for accessing trail settings.


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/GetObject.php#L325\lib/Service/ObjectHandlers/[1;31mGetObject.php:325:58[0m]8;;\ - Method OCA\OpenRegister\Db\ObjectEntityMapper::findByRelationUri does not exist (see https://psalm.dev/022)
        $referencingObjects = $this->objectEntityMapper->[97;41mfindByRelationUri[0m(


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/GetObject.php#L420\lib/Service/ObjectHandlers/[1;31mGetObject.php:420:34[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $retentionSettings = [97;41m$this->settingsService[0m->getRetentionSettingsOnly();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/ObjectServiceFacetExample.php#L152\lib/Service/ObjectHandlers/[1;31mObjectServiceFacetExample.php:152:20[0m]8;;\ - Method OCA\OpenRegister\Service\ObjectHandlers\ObjectServiceFacetExample::isAuditTrailsEnabled does not exist (see https://psalm.dev/022)
        if ($this->[97;41misAuditTrailsEnabled[0m() === true) {


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/ObjectServiceFacetExample.php#L413\lib/Service/ObjectHandlers/[1;31mObjectServiceFacetExample.php:413:49[0m]8;;\ - Method OCA\OpenRegister\Service\ObjectHandlers\ObjectServiceFacetExample::calculatePerformanceImprovement does not exist (see https://psalm.dev/022)
            'performance_improvement' => $this->[97;41mcalculatePerformanceImprovement[0m($legacyTime, $newTime),


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L141\lib/Service/ObjectHandlers/[1;31mRenderObject.php:141:24[0m]8;;\ - The declared return type 'array<string, OCA\OpenRegister\Db\ObjectEntity>' for OCA\OpenRegister\Service\ObjectHandlers\RenderObject::preloadRelatedObjects is incorrect, got 'array<int|string, OCA\OpenRegister\Db\ObjectEntity>' (see https://psalm.dev/011)
     * @psalm-return   [97;41marray<string, ObjectEntity>[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L217\lib/Service/ObjectHandlers/[1;31mRenderObject.php:217:20[0m]8;;\ - The inferred type 'array<int|string, OCA\OpenRegister\Db\ObjectEntity>' does not match the declared return type 'array<string, OCA\OpenRegister\Db\ObjectEntity>' for OCA\OpenRegister\Service\ObjectHandlers\RenderObject::preloadRelatedObjects (see https://psalm.dev/128)
            return [97;41m$indexedObjects[0m;


[0;31mERROR[0m: InvalidNullableReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L872\lib/Service/ObjectHandlers/[1;31mRenderObject.php:872:16[0m]8;;\ - The declared return type 'OCA\OpenRegister\Db\ObjectEntity' for OCA\OpenRegister\Service\ObjectHandlers\RenderObject::renderEntity is not nullable, but 'OCA\OpenRegister\Db\ObjectEntity|null' contains null (see https://psalm.dev/144)
     * @return [97;41mObjectEntity[0m The rendered entity with applied extensions and filters


[0;31mERROR[0m: NullableReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L889\lib/Service/ObjectHandlers/[1;31mRenderObject.php:889:20[0m]8;;\ - The declared return type 'OCA\OpenRegister\Db\ObjectEntity' for OCA\OpenRegister\Service\ObjectHandlers\RenderObject::renderEntity is not nullable, but the function returns 'null' (see https://psalm.dev/139)
            return [97;41m$entity->setObject(['@circular' => true, 'id' => $entity->getUuid()])[0m;


[0;31mERROR[0m: MismatchingDocblockReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L1017\lib/Service/ObjectHandlers/[1;31mRenderObject.php:1017:16[0m]8;;\ - Docblock has incorrect return type 'Adbar\Dot|array<array-key, mixed>', should be 'array<array-key, mixed>' (see https://psalm.dev/142)
     * @return [97;41marray|Dot[0m


[0;31mERROR[0m: MismatchingDocblockParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L1073\lib/Service/ObjectHandlers/[1;31mRenderObject.php:1073:15[0m]8;;\ - Parameter $allFlag has wrong type 'bool|null', should be 'bool' (see https://psalm.dev/141)
     * @param [97;41mbool|null[0m  $allFlag    If we extend all or not.


[0;31mERROR[0m: MismatchingDocblockParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L1074\lib/Service/ObjectHandlers/[1;31mRenderObject.php:1074:15[0m]8;;\ - Parameter $visitedIds has wrong type 'array<array-key, mixed>|null', should be 'array<array-key, mixed>' (see https://psalm.dev/141)
     * @param [97;41marray|null[0m $visitedIds All ids we already handled.


[0;31mERROR[0m: UndefinedVariable - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L1151\lib/Service/ObjectHandlers/[1;31mRenderObject.php:1151:120[0m]8;;\ - Cannot find referenced variable $filter (see https://psalm.dev/024)
                            return $this->renderEntity(entity: $object, extend: $subExtend, depth: $depth + 1, filter: [97;41m$filter[0m ?? [], fields: $fields ?? [], unset: $unset ?? [], visitedIds: $visitedIds)->jsonSerialize();


[0;31mERROR[0m: UndefinedVariable - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L1151\lib/Service/ObjectHandlers/[1;31mRenderObject.php:1151:143[0m]8;;\ - Cannot find referenced variable $fields (see https://psalm.dev/024)
                            return $this->renderEntity(entity: $object, extend: $subExtend, depth: $depth + 1, filter: $filter ?? [], fields: [97;41m$fields[0m ?? [], unset: $unset ?? [], visitedIds: $visitedIds)->jsonSerialize();


[0;31mERROR[0m: UndefinedVariable - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L1151\lib/Service/ObjectHandlers/[1;31mRenderObject.php:1151:165[0m]8;;\ - Cannot find referenced variable $unset (see https://psalm.dev/024)
                            return $this->renderEntity(entity: $object, extend: $subExtend, depth: $depth + 1, filter: $filter ?? [], fields: $fields ?? [], unset: [97;41m$unset[0m ?? [], visitedIds: $visitedIds)->jsonSerialize();


[0;31mERROR[0m: UndefinedVariable - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L1202\lib/Service/ObjectHandlers/[1;31mRenderObject.php:1202:33[0m]8;;\ - Cannot find referenced variable $filter (see https://psalm.dev/024)
                        filter: [97;41m$filter[0m ?? [],


[0;31mERROR[0m: UndefinedVariable - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L1203\lib/Service/ObjectHandlers/[1;31mRenderObject.php:1203:33[0m]8;;\ - Cannot find referenced variable $fields (see https://psalm.dev/024)
                        fields: [97;41m$fields[0m ?? [],


[0;31mERROR[0m: UndefinedVariable - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L1204\lib/Service/ObjectHandlers/[1;31mRenderObject.php:1204:32[0m]8;;\ - Cannot find referenced variable $unset (see https://psalm.dev/024)
                        unset: [97;41m$unset[0m ?? [],


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/RenderObject.php#L1351\lib/Service/ObjectHandlers/[1;31mRenderObject.php:1351:51[0m]8;;\ - Argument 1 of array_combine expects array<array-key, array-key>, but array<array-key, null|string> provided (see https://psalm.dev/004)
        $objectsToCache     = array_combine(keys: [97;41m$ids[0m, values: $referencingObjects);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L125\lib/Service/ObjectHandlers/[1;31mSaveObject.php:125:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m         $settingsService         Settings service for accessing trail settings.


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L178\lib/Service/ObjectHandlers/[1;31mSaveObject.php:178:24[0m]8;;\ - The inferred type 'int' does not match the declared return type 'null|string' for OCA\OpenRegister\Service\ObjectHandlers\SaveObject::resolveSchemaReference (see https://psalm.dev/128)
                return [97;41m$schema->getId()[0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L196\lib/Service/ObjectHandlers/[1;31mSaveObject.php:196:28[0m]8;;\ - The inferred type 'int' does not match the declared return type 'null|string' for OCA\OpenRegister\Service\ObjectHandlers\SaveObject::resolveSchemaReference (see https://psalm.dev/128)
                    return [97;41m$schema->getId()[0m;


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L205\lib/Service/ObjectHandlers/[1;31mSaveObject.php:205:44[0m]8;;\ - Method OCA\OpenRegister\Db\SchemaMapper::findBySlug does not exist (see https://psalm.dev/022)
            $schema = $this->schemaMapper->[97;41mfindBySlug[0m($slug);


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L261\lib/Service/ObjectHandlers/[1;31mSaveObject.php:261:24[0m]8;;\ - The inferred type 'int' does not match the declared return type 'null|string' for OCA\OpenRegister\Service\ObjectHandlers\SaveObject::resolveRegisterReference (see https://psalm.dev/128)
                return [97;41m$register->getId()[0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L279\lib/Service/ObjectHandlers/[1;31mSaveObject.php:279:28[0m]8;;\ - The inferred type 'int' does not match the declared return type 'null|string' for OCA\OpenRegister\Service\ObjectHandlers\SaveObject::resolveRegisterReference (see https://psalm.dev/128)
                    return [97;41m$register->getId()[0m;


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L288\lib/Service/ObjectHandlers/[1;31mSaveObject.php:288:48[0m]8;;\ - Method OCA\OpenRegister\Db\RegisterMapper::findBySlug does not exist (see https://psalm.dev/022)
            $register = $this->registerMapper->[97;41mfindBySlug[0m($slug);


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L572\lib/Service/ObjectHandlers/[1;31mSaveObject.php:572:17[0m]8;;\ - Type null|string for $imageValue is never array<array-key, mixed> (see https://psalm.dev/056)
            if ([97;41mis_array($imageValue)[0m && !empty($imageValue)) {


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L596\lib/Service/ObjectHandlers/[1;31mSaveObject.php:596:53[0m]8;;\ - Too few arguments for OCA\OpenRegister\Service\FileService::publishFile - expecting file to be passed (see https://psalm.dev/025)
                                $this->fileService->[97;41mpublishFile[0m($fileNode);


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L596\lib/Service/ObjectHandlers/[1;31mSaveObject.php:596:53[0m]8;;\ - Too few arguments for method OCA\OpenRegister\Service\FileService::publishfile saw 1 (see https://psalm.dev/025)
                                $this->fileService->[97;41mpublishFile[0m($fileNode);


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L596\lib/Service/ObjectHandlers/[1;31mSaveObject.php:596:65[0m]8;;\ - Argument 1 of OCA\OpenRegister\Service\FileService::publishFile expects OCA\OpenRegister\Db\ObjectEntity|string, but OCP\Files\File provided (see https://psalm.dev/004)
                                $this->fileService->publishFile([97;41m$fileNode[0m);


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L643\lib/Service/ObjectHandlers/[1;31mSaveObject.php:643:49[0m]8;;\ - Too few arguments for OCA\OpenRegister\Service\FileService::publishFile - expecting file to be passed (see https://psalm.dev/025)
                            $this->fileService->[97;41mpublishFile[0m($fileNode);


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L643\lib/Service/ObjectHandlers/[1;31mSaveObject.php:643:49[0m]8;;\ - Too few arguments for method OCA\OpenRegister\Service\FileService::publishfile saw 1 (see https://psalm.dev/025)
                            $this->fileService->[97;41mpublishFile[0m($fileNode);


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L643\lib/Service/ObjectHandlers/[1;31mSaveObject.php:643:61[0m]8;;\ - Argument 1 of OCA\OpenRegister\Service\FileService::publishFile expects OCA\OpenRegister\Db\ObjectEntity|string, but OCP\Files\File provided (see https://psalm.dev/004)
                            $this->fileService->publishFile([97;41m$fileNode[0m);


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L663\lib/Service/ObjectHandlers/[1;31mSaveObject.php:663:24[0m]8;;\ - Type null|string for $imageValue is never array<array-key, mixed> (see https://psalm.dev/056)
            } else if ([97;41mis_array($imageValue)[0m && isset($imageValue['downloadUrl'])) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L666\lib/Service/ObjectHandlers/[1;31mSaveObject.php:666:24[0m]8;;\ - Type null|string for $imageValue is never array<array-key, mixed> (see https://psalm.dev/056)
            } else if ([97;41mis_array($imageValue)[0m && isset($imageValue['accessUrl'])) {


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L1015\lib/Service/ObjectHandlers/[1;31mSaveObject.php:1015:39[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
            $slug = $this->createSlug([97;41m(string) $value[0m);


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L1570\lib/Service/ObjectHandlers/[1;31mSaveObject.php:1570:65[0m]8;;\ - Operand of type true is always truthy (see https://psalm.dev/122)
                } else if (is_array($value) && empty($value) && [97;41m$isRequired[0m) {


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L1727\lib/Service/ObjectHandlers/[1;31mSaveObject.php:1727:31[0m]8;;\ - Type array<array-key, mixed> for $selfData is never null (see https://psalm.dev/122)
                    selfData: [97;41m$selfData[0m ?? [],


[0;31mERROR[0m: TypeDoesNotContainNull - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L1727\lib/Service/ObjectHandlers/[1;31mSaveObject.php:1727:44[0m]8;;\ - Cannot resolve types for $selfData - array<array-key, mixed> does not contain null (see https://psalm.dev/090)
                    selfData: $selfData ?? [97;41m[][0m,


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L1766\lib/Service/ObjectHandlers/[1;31mSaveObject.php:1766:23[0m]8;;\ - Type array<array-key, mixed> for $selfData is never null (see https://psalm.dev/122)
            selfData: [97;41m$selfData[0m ?? [],


[0;31mERROR[0m: TypeDoesNotContainNull - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L1766\lib/Service/ObjectHandlers/[1;31mSaveObject.php:1766:36[0m]8;;\ - Cannot resolve types for $selfData - array<array-key, mixed> does not contain null (see https://psalm.dev/090)
            selfData: $selfData ?? [97;41m[][0m,


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L1841\lib/Service/ObjectHandlers/[1;31mSaveObject.php:1841:13[0m]8;;\ - Argument 3 of OCA\OpenRegister\Service\ObjectCacheService::invalidateForObjectChange expects int|null, but null|string provided (see https://psalm.dev/012)
            [97;41m$savedEntity->getRegister()[0m,


[0;31mERROR[0m: InvalidScalarArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L1842\lib/Service/ObjectHandlers/[1;31mSaveObject.php:1842:13[0m]8;;\ - Argument 4 of OCA\OpenRegister\Service\ObjectCacheService::invalidateForObjectChange expects int|null, but null|string provided (see https://psalm.dev/012)
            [97;41m$savedEntity->getSchema()[0m


[0;31mERROR[0m: DuplicateArrayKey - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L3376\lib/Service/ObjectHandlers/[1;31mSaveObject.php:3376:13[0m]8;;\ - Key 'PK' already exists on array (see https://psalm.dev/151)
            [97;41m"\x50\x4B\x03\x04" => false[0m,


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L3462\lib/Service/ObjectHandlers/[1;31mSaveObject.php:3462:24[0m]8;;\ - The declared return type 'array<int, string>' for OCA\OpenRegister\Service\ObjectHandlers\SaveObject::prepareAutoTags is incorrect, got 'list<array<array-key, string>|string>' (see https://psalm.dev/011)
     * @psalm-return   [97;41marray<int, string>[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L3484\lib/Service/ObjectHandlers/[1;31mSaveObject.php:3484:16[0m]8;;\ - The inferred type 'list<array<array-key, string>|string>' does not match the declared return type 'array<int, string>' for OCA\OpenRegister\Service\ObjectHandlers\SaveObject::prepareAutoTags (see https://psalm.dev/128)
        return [97;41m$processedTags[0m;


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L3740\lib/Service/ObjectHandlers/[1;31mSaveObject.php:3740:33[0m]8;;\ - Operand of type true is always truthy (see https://psalm.dev/122)
        if (is_array($value) && [97;41m!empty($value)[0m) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObject.php#L3770\lib/Service/ObjectHandlers/[1;31mSaveObject.php:3770:34[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $retentionSettings = [97;41m$this->settingsService[0m->getRetentionSettingsOnly();


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObjects.php#L1339\lib/Service/ObjectHandlers/[1;31mSaveObjects.php:1339:13[0m]8;;\ - Type array<array-key, mixed> for $bulkResult is always array<array-key, mixed> (see https://psalm.dev/122)
        if ([97;41mis_array($bulkResult)[0m) {


[0;31mERROR[0m: UndefinedVariable - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/SaveObjects.php#L1872\lib/Service/ObjectHandlers/[1;31mSaveObjects.php:1872:86[0m]8;;\ - Cannot find referenced variable $register (see https://psalm.dev/024)
            $selfData['register'] = $selfData['register'] ?? $object['register'] ?? ([97;41m$register[0m ? $register->getId() : null);


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/ValidateObject.php#L503\lib/Service/ObjectHandlers/[1;31mValidateObject.php:503:28[0m]8;;\ - Too few arguments for OCA\OpenRegister\Service\ObjectHandlers\ValidateObject::isSelfReference - expecting schemaSlug to be passed (see https://psalm.dev/025)
                if ($this->[97;41misSelfReference[0m($schemaSlug)) {


[0;31mERROR[0m: TooFewArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/ValidateObject.php#L503\lib/Service/ObjectHandlers/[1;31mValidateObject.php:503:28[0m]8;;\ - Too few arguments for method OCA\OpenRegister\Service\ObjectHandlers\ValidateObject::isselfreference saw 1 (see https://psalm.dev/025)
                if ($this->[97;41misSelfReference[0m($schemaSlug)) {


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/ValidateObject.php#L503\lib/Service/ObjectHandlers/[1;31mValidateObject.php:503:44[0m]8;;\ - Argument 1 of OCA\OpenRegister\Service\ObjectHandlers\ValidateObject::isSelfReference expects object, but string provided (see https://psalm.dev/004)
                if ($this->isSelfReference([97;41m$schemaSlug[0m)) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/ValidateObject.php#L953\lib/Service/ObjectHandlers/[1;31mValidateObject.php:953:24[0m]8;;\ - Type int|null for $schema is never string (see https://psalm.dev/056)
            } else if ([97;41mis_int($schema) === true || is_string($schema) === true[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/ValidateObject.php#L953\lib/Service/ObjectHandlers/[1;31mValidateObject.php:953:52[0m]8;;\ - Type null for $schema is never string (see https://psalm.dev/056)
            } else if (is_int($schema) === true || [97;41mis_string($schema)[0m === true) {


[0;31mERROR[0m: TooManyArguments - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/ValidateObject.php#L981\lib/Service/ObjectHandlers/[1;31mValidateObject.php:981:20[0m]8;;\ - Too many arguments for Opis\JsonSchema\ValidationResult::__construct - expecting 1 but saw 2 (see https://psalm.dev/026)
            return [97;41mnew ValidationResult(null, null)[0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectHandlers/ValidateObject.php#L1093\lib/Service/ObjectHandlers/[1;31mValidateObject.php:1093:20[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\File does not exist (see https://psalm.dev/019)
            return [97;41mFile[0m::getSchema($this->urlGenerator);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L182\lib/Service/[1;31mObjectService.php:182:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m         $settingsService         Service for settings operations.


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L411\lib/Service/[1;31mObjectService.php:411:40[0m]8;;\ - Argument 1 of setFolder expects null|string, but int provided (see https://psalm.dev/004)
                    $entity->setFolder([97;41m$folderNode->getId()[0m);


[0;31mERROR[0m: TypeDoesNotContainNull - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L589\lib/Service/[1;31mObjectService.php:589:13[0m]8;;\ - OCA\OpenRegister\Db\ObjectEntity does not contain null (see https://psalm.dev/090)
        if ([97;41m$object === null[0m) {


[0;31mERROR[0m: MismatchingDocblockReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L698\lib/Service/[1;31mObjectService.php:698:16[0m]8;;\ - Docblock has incorrect return type 'array<array-key, mixed>', should be 'OCA\OpenRegister\Db\ObjectEntity' (see https://psalm.dev/142)
     * @return [97;41marray[0m The created object.


[0;31mERROR[0m: MismatchingDocblockReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L813\lib/Service/[1;31mObjectService.php:813:16[0m]8;;\ - Docblock has incorrect return type 'array<array-key, mixed>', should be 'OCA\OpenRegister\Db\ObjectEntity' (see https://psalm.dev/142)
     * @return [97;41marray[0m The updated object.


[0;31mERROR[0m: UndefinedVariable - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L1305\lib/Service/[1;31mObjectService.php:1305:19[0m]8;;\ - Cannot find referenced variable $config (see https://psalm.dev/024)
        if (isset([97;41m$config[0m['filters']['register']) === true) {


[0;31mERROR[0m: UndefinedVariable - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L1311\lib/Service/[1;31mObjectService.php:1311:19[0m]8;;\ - Cannot find referenced variable $config (see https://psalm.dev/024)
        if (isset([97;41m$config[0m['filters']['schema']) === true) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L1588\lib/Service/[1;31mObjectService.php:1588:20[0m]8;;\ - Type null for $ids is always !null (see https://psalm.dev/056)
        } else if ([97;41m$ids !== null[0m && $searchIds !== null) {


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L1589\lib/Service/[1;31mObjectService.php:1589:36[0m]8;;\ - All possible types for this argument were invalidated - This may be dead code (see https://psalm.dev/179)
            $ids = array_intersect([97;41m$ids[0m, $searchIds);


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L1590\lib/Service/[1;31mObjectService.php:1590:43[0m]8;;\ - null can never contain null (see https://psalm.dev/122)
        } else if ($searchIds === null && [97;41m$searchIds !== [][0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L1834\lib/Service/[1;31mObjectService.php:1834:65[0m]8;;\ - Type array<array-key, mixed> for $current[$part] is always !array<array-key, mixed> (see https://psalm.dev/056)
                        if (isset($current[$part]) === false || [97;41mis_array($current[$part]) === false[0m) {


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L1872\lib/Service/[1;31mObjectService.php:1872:17[0m]8;;\ - Type int|string for $register is never array<array-key, mixed> (see https://psalm.dev/056)
            if ([97;41mis_array($register)[0m === true) {


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L1874\lib/Service/[1;31mObjectService.php:1874:67[0m]8;;\ - All possible types for this argument were invalidated - This may be dead code (see https://psalm.dev/179)
                $query['@self']['register'] = array_map('intval', [97;41m$register[0m);


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L1881\lib/Service/[1;31mObjectService.php:1881:17[0m]8;;\ - Type int|string for $schema is never array<array-key, mixed> (see https://psalm.dev/056)
            if ([97;41mis_array($schema)[0m === true) {


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L1883\lib/Service/[1;31mObjectService.php:1883:65[0m]8;;\ - All possible types for this argument were invalidated - This may be dead code (see https://psalm.dev/179)
                $query['@self']['schema'] = array_map('intval', [97;41m$schema[0m);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L2857\lib/Service/[1;31mObjectService.php:2857:29[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $solrSettings = [97;41m$this->settingsService[0m->getSolrSettings();


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L3567\lib/Service/[1;31mObjectService.php:3567:38[0m]8;;\ - Argument 1 expects T:React\Promise\Promise as mixed, but array<array-key, mixed> provided (see https://psalm.dev/004)
                            $resolve([97;41m$result[0m);


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L3591\lib/Service/[1;31mObjectService.php:3591:34[0m]8;;\ - Argument 1 expects T:React\Promise\Promise as mixed, but array<int, OCA\OpenRegister\Db\ObjectEntity>|int provided (see https://psalm.dev/004)
                        $resolve([97;41m$result[0m);


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L3603\lib/Service/[1;31mObjectService.php:3603:34[0m]8;;\ - Argument 1 expects T:React\Promise\Promise as mixed, but array<array-key, mixed> provided (see https://psalm.dev/004)
                        $resolve([97;41m$result[0m);


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L3615\lib/Service/[1;31mObjectService.php:3615:34[0m]8;;\ - Argument 1 expects T:React\Promise\Promise as mixed, but int provided (see https://psalm.dev/004)
                        $resolve([97;41m$result[0m);


[0;31mERROR[0m: UndefinedFunction - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L3717\lib/Service/[1;31mObjectService.php:3717:16[0m]8;;\ - Function React\Async\await does not exist (see https://psalm.dev/021)
        return [97;41m\React\Async\await($promise)[0m;


[0;31mERROR[0m: InaccessibleMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L4347\lib/Service/[1;31mObjectService.php:4347:45[0m]8;;\ - Cannot access private method OCA\OpenRegister\Service\ObjectHandlers\SaveObject::handleInverseRelationsWriteBack from context OCA\OpenRegister\Service\ObjectService (see https://psalm.dev/003)
                        $this->saveHandler->[97;41mhandleInverseRelationsWriteBack[0m($savedObject, $schema, $writeBackData);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L4372\lib/Service/[1;31mObjectService.php:4372:20[0m]8;;\ - Method OCA\OpenRegister\Service\ObjectService::performBulkWriteBackUpdates does not exist (see https://psalm.dev/022)
            $this->[97;41mperformBulkWriteBackUpdates[0m(array_values($bulkWriteBackUpdates));


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L6331\lib/Service/[1;31mObjectService.php:6331:34[0m]8;;\ - Argument 1 expects T:React\Promise\Promise as mixed, but non-empty-array<array-key, OCA\OpenRegister\Db\ObjectEntity> provided (see https://psalm.dev/004)
                        $resolve([97;41m$renderedBatch[0m);


[0;31mERROR[0m: UndefinedFunction - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L6344\lib/Service/[1;31mObjectService.php:6344:20[0m]8;;\ - Function React\Async\await does not exist (see https://psalm.dev/021)
        $results = [97;41m\React\Async\await(\React\Promise\all($promises))[0m;


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L6808\lib/Service/[1;31mObjectService.php:6808:42[0m]8;;\ - Method OCA\OpenRegister\Db\ObjectEntityMapper::getDB does not exist (see https://psalm.dev/022)
        $qb = $this->objectEntityMapper->[97;41mgetDB[0m()->getQueryBuilder();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L6841\lib/Service/[1;31mObjectService.php:6841:85[0m]8;;\ - Class, interface or enum named OCP\DB\IQueryBuilder does not exist (see https://psalm.dev/019)
        ->where($qb->expr()->in('o.id', $qb->createNamedParameter($relationshipIds, [97;41m\OCP\DB\IQueryBuilder[0m::PARAM_STR_ARRAY)))


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L6842\lib/Service/[1;31mObjectService.php:6842:89[0m]8;;\ - Class, interface or enum named OCP\DB\IQueryBuilder does not exist (see https://psalm.dev/019)
        ->orWhere($qb->expr()->in('o.uuid', $qb->createNamedParameter($relationshipIds, [97;41m\OCP\DB\IQueryBuilder[0m::PARAM_STR_ARRAY)))


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L6843\lib/Service/[1;31mObjectService.php:6843:89[0m]8;;\ - Class, interface or enum named OCP\DB\IQueryBuilder does not exist (see https://psalm.dev/019)
        ->orWhere($qb->expr()->in('o.slug', $qb->createNamedParameter($relationshipIds, [97;41m\OCP\DB\IQueryBuilder[0m::PARAM_STR_ARRAY)));


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L6990\lib/Service/[1;31mObjectService.php:6990:44[0m]8;;\ - All possible types for this argument were invalidated - This may be dead code (see https://psalm.dev/179)
                    $schemaObject->hydrate([97;41m$schema[0m);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/ObjectService.php#L7246\lib/Service/[1;31mObjectService.php:7246:34[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $retentionSettings = [97;41m$this->settingsService[0m->getRetentionSettingsOnly();


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/OrganisationService.php#L143\lib/Service/[1;31mOrganisationService.php:143:5[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/200)
    /**
     * Settings service for application configuration
     *
     * @var SettingsService|null
     */
    [97;41mprivate ?SettingsService $settingsService = null;[0m


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/OrganisationService.php#L143\lib/Service/[1;31mOrganisationService.php:143:13[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
    private [97;41m?SettingsService[0m $settingsService = null;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/OrganisationService.php#L156\lib/Service/[1;31mOrganisationService.php:156:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService|null[0m $settingsService    Settings service (optional to avoid circular dependency)


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/OrganisationService.php#L223\lib/Service/[1;31mOrganisationService.php:223:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $defaultOrgUuid = [97;41m$this->settingsService[0m->getDefaultOrganisationUuid();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/OrganisationService.php#L250\lib/Service/[1;31mOrganisationService.php:250:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                        [97;41m$this->settingsService[0m->setDefaultOrganisationUuid($defaultOrg->getUuid());


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/OrganisationService.php#L262\lib/Service/[1;31mOrganisationService.php:262:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                    [97;41m$this->settingsService[0m->setDefaultOrganisationUuid($defaultOrg->getUuid());


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SchemaService.php#L348\lib/Service/[1;31mSchemaService.php:348:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\DateTime does not exist (see https://psalm.dev/019)
            $parsed = [97;41mDateTime[0m::createFromFormat(DATE_ISO8601, $value);


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SchemaService.php#L1331\lib/Service/[1;31mSchemaService.php:1331:22[0m]8;;\ - Type never for $primaryType is never ~string(double) (see https://psalm.dev/056)
                case [97;41m'double'[0m:


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SearchTrailService.php#L229\lib/Service/[1;31mSearchTrailService.php:229:33[0m]8;;\ - Method OCA\OpenRegister\Service\SearchTrailService::calculatePages does not exist (see https://psalm.dev/022)
            'pages'   => $this->[97;41mcalculatePages[0m($total, $processedConfig['limit']),


[0;31mERROR[0m: ParseError - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SettingsService.php#L1534\lib/Service/[1;31mSettingsService.php:1534:9[0m]8;;\ - Cannot use try without catch or finally on line 1534 (see https://psalm.dev/173)
        [97;41mtry {
            // Build SOLR URL - handle Kubernetes service names properly.
            $host = $solrSettings['host'];

            // Check if it's a Kubernetes service name (contains .svc.cluster.local).
            if (strpos($host, '.svc.cluster.local') !== false) {
                // Kubernetes service - don't append port, it's handled by the service.
                $baseUrl = sprintf(
                    '%s://%s%s',
                        $solrSettings['scheme'],
                    $host,
                    $solrSettings['path']
                        );
            } else {
                // Regular hostname - append port (default to 8983 if not provided).
                $port    = !empty($solrSettings['port']) ? $solrSettings['port'] : 8983;
                $baseUrl = sprintf(
                    '%s://%s:%d%s',
                        $solrSettings['scheme'],
                    $host,
                    $port,
                    $solrSettings['path']
                        );
            }

            // Test basic SOLR connectivity with admin endpoints.
            // Try multiple common SOLR admin endpoints for maximum compatibility.
            $testEndpoints = [
                '/admin/ping?wt=json',
                '/solr/admin/ping?wt=json',
                '/admin/info/system?wt=json',
            ];

            $testUrl   = null;
            $testType  = 'admin_ping';
            $lastError = null;

            // Create HTTP context with timeout.
            $context = stream_context_create(
                    [
                        'http' => [
                            'timeout' => 10,
                            'method'  => 'GET',
                            'header'  => [
                                'Accept: application/json',
                                'Content-Type: application/json',
                            ],
                        ],
                    ]
                    );

            // Try each endpoint until one works.
            $response     = false;
            $responseTime = 0;

            foreach ($testEndpoints as $endpoint) {
                $testUrl      = $baseUrl.$endpoint;
                $startTime    = microtime(true);
                $response     = @file_get_contents($testUrl, false, $context);
                $responseTime = (microtime(true) - $startTime) * 1000;

                if ($response !== false) {
                    // Found a working endpoint.
                    break;
                } else {
                    $lastError = "Failed to connect to: ".$testUrl;
                }
            }

            if ($response === false) {
                return [
                    'success' => false,
                    'message' => 'SOLR server not responding on any admin endpoint',
                    'details' => [
                        'tested_endpoints' => array_map(
                                function ($endpoint) use ($baseUrl) {
                                    return $baseUrl.$endpoint;
                                },
                                $testEndpoints
                                ),
                        'last_error'       => $lastError,
                        'test_type'        => $testType,
                        'response_time_ms' => round($responseTime, 2),
                    ],
                ];
            }

            $data = json_decode($response, true);

            // Validate admin response - be flexible about response format.
            // Check for successful response - different endpoints have different formats.
            // Note: $testType is always 'admin_ping' in current implementation.
            $isValidResponse = false;

            if (isset($data['status']) && $data['status'] === 'OK') {
                // Standard ping response.
                $isValidResponse = true;
            } else if (isset($data['responseHeader']['status']) && $data['responseHeader']['status'] === 0) {
                // System info response.
                $isValidResponse = true;
            } else if (is_array($data) && !empty($data)) {
                // Any valid JSON response indicates SOLR is responding.
                $isValidResponse = true;
            }

                if ($isValidResponse === false) {
                    return [
                        'success' => false,
                        'message' => 'SOLR admin endpoint returned invalid response',
                        'details' => [
                            'url'              => $testUrl,
                            'test_type'        => $testType,
                            'response'         => $data,
                            'response_time_ms' => round($responseTime, 2),
                        ],
                    ];
                }

                return [
                    'success' => true,
                    'message' => 'SOLR server responding correctly',
                    'details' => [
                        'url'              => $testUrl,
                        'test_type'        => $testType,
                        'response_time_ms' => round($responseTime, 2),
                        'solr_status'      => $data['status'] ?? 'OK',
                        'use_cloud'        => $solrSettings['useCloud'] ?? false,
                        'server_info'      => $data['responseHeader'] ?? [],
                        'working_endpoint' => str_replace($baseUrl, '', $testUrl),
                    ],
                ];
            }[0m else {


[0;31mERROR[0m: ParseError - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SettingsService.php#L1665\lib/Service/[1;31mSettingsService.php:1665:15[0m]8;;\ - Syntax error, unexpected T_ELSE, expecting '}' on line 1665 (see https://psalm.dev/173)
            } [97;41melse[0m {


[0;31mERROR[0m: ParseError - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SettingsService.php#L1690\lib/Service/[1;31mSettingsService.php:1690:13[0m]8;;\ - Syntax error, unexpected '}', expecting EOF on line 1690 (see https://psalm.dev/173)
            [97;41m}[0m//end if


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L94\lib/Service/[1;31mSolrFileService.php:94:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m   $settingsService   Settings management service


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L131\lib/Service/[1;31mSolrFileService.php:131:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $solrSettings = [97;41m$this->settingsService[0m->getSolrSettingsOnly();


[0;31mERROR[0m: ForbiddenCode - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L705\lib/Service/[1;31mSolrFileService.php:705:19[0m]8;;\ - Unsafe shell_exec (see https://psalm.dev/002)
        $result = [97;41mshell_exec(sprintf('which %s 2>/dev/null', escapeshellarg($command)))[0m;


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L773\lib/Service/[1;31mSolrFileService.php:773:50[0m]8;;\ - Method OCA\OpenRegister\Service\SolrFileService::calculateAvgChunkSize does not exist (see https://psalm.dev/022)
                    'avg_chunk_size'   => $this->[97;41mcalculateAvgChunkSize[0m($chunks),


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1215\lib/Service/[1;31mSolrFileService.php:1215:25[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                $text = [97;41m$fileText[0m->getTextContent();


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1220\lib/Service/[1;31mSolrFileService.php:1220:46[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                                'file_id' => [97;41m$fileText[0m->getFileId(),


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1232\lib/Service/[1;31mSolrFileService.php:1232:44[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                            'file_type' => [97;41m$fileText[0m->getMimeType(),


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1241\lib/Service/[1;31mSolrFileService.php:1241:46[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                                'file_id' => [97;41m$fileText[0m->getFileId(),


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1249\lib/Service/[1;31mSolrFileService.php:1249:39[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                    'file_id'      => [97;41m$fileText[0m->getFileId(),


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1250\lib/Service/[1;31mSolrFileService.php:1250:39[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                    'file_path'    => [97;41m$fileText[0m->getFilePath(),


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1251\lib/Service/[1;31mSolrFileService.php:1251:39[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                    'mime_type'    => [97;41m$fileText[0m->getMimeType(),


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1252\lib/Service/[1;31mSolrFileService.php:1252:39[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                    'size'         => [97;41m$fileText[0m->getSize(),


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1253\lib/Service/[1;31mSolrFileService.php:1253:39[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                    'extracted_at' => [97;41m$fileText[0m->getCreatedAt()->format('Y-m-d\TH:i:s\Z'),


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1258\lib/Service/[1;31mSolrFileService.php:1258:30[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                    (string) [97;41m$fileText[0m->getFileId(),


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1266\lib/Service/[1;31mSolrFileService.php:1266:47[0m]8;;\ - Cannot access value on variable $result using offset value of 'chunks_indexed', expecting 'success', 'indexed' or 'collection' (see https://psalm.dev/115)
                    $stats['total_chunks'] += [97;41m$result['chunks_indexed'][0m;


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1271\lib/Service/[1;31mSolrFileService.php:1271:46[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                                'file_id' => [97;41m$fileText[0m->getFileId(),


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1278\lib/Service/[1;31mSolrFileService.php:1278:38[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                    $stats['errors'][[97;41m$fileText[0m->getFileId()] = $result['message'] ?? 'Unknown error';


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1278\lib/Service/[1;31mSolrFileService.php:1278:64[0m]8;;\ - Cannot access value on variable $result using offset value of 'message', expecting 'success', 'indexed' or 'collection' (see https://psalm.dev/115)
                    $stats['errors'][$fileText->getFileId()] = [97;41m$result['message'][0m ?? 'Unknown error';


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1282\lib/Service/[1;31mSolrFileService.php:1282:34[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                $stats['errors'][[97;41m$fileText[0m->getFileId()] = $e->getMessage();


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1287\lib/Service/[1;31mSolrFileService.php:1287:42[0m]8;;\ - Docblock-defined class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/200)
                            'file_id' => [97;41m$fileText[0m->getFileId(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1343\lib/Service/[1;31mSolrFileService.php:1343:17[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/019)
        $text = [97;41m$fileText[0m->getTextContent();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1357\lib/Service/[1;31mSolrFileService.php:1357:36[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/019)
                    'file_type' => [97;41m$fileText[0m->getMimeType(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1371\lib/Service/[1;31mSolrFileService.php:1371:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/019)
            'file_id'      => [97;41m$fileText[0m->getFileId(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1372\lib/Service/[1;31mSolrFileService.php:1372:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/019)
            'file_path'    => [97;41m$fileText[0m->getFilePath(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1373\lib/Service/[1;31mSolrFileService.php:1373:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/019)
            'mime_type'    => [97;41m$fileText[0m->getMimeType(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1374\lib/Service/[1;31mSolrFileService.php:1374:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/019)
            'size'         => [97;41m$fileText[0m->getSize(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1375\lib/Service/[1;31mSolrFileService.php:1375:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/019)
            'extracted_at' => [97;41m$fileText[0m->getCreatedAt()->format('Y-m-d\TH:i:s\Z'),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1380\lib/Service/[1;31mSolrFileService.php:1380:22[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\FileText does not exist (see https://psalm.dev/019)
            (string) [97;41m$fileText[0m->getFileId(),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrFileService.php#L1420\lib/Service/[1;31mSolrFileService.php:1420:57[0m]8;;\ - Method OCA\OpenRegister\Service\FileTextService::getExtractionStats does not exist (see https://psalm.dev/022)
        $extractionStats = $this->getFileTextService()->[97;41mgetExtractionStats[0m();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrObjectService.php#L49\lib/Service/[1;31mSolrObjectService.php:49:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m   $settingsService   Settings management service


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrObjectService.php#L72\lib/Service/[1;31mSolrObjectService.php:72:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $solrSettings = [97;41m$this->settingsService[0m->getSolrSettingsOnly();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrObjectService.php#L700\lib/Service/[1;31mSolrObjectService.php:700:47[0m]8;;\ - Method OCA\OpenRegister\Service\SolrObjectService::getProviderOrDefault does not exist (see https://psalm.dev/022)
                    'provider'      => $this->[97;41mgetProviderOrDefault[0m($provider),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L267\lib/Service/[1;31mSolrSchemaService.php:267:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m   $settingsService Settings service for tenant info


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L297\lib/Service/[1;31mSolrSchemaService.php:297:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $settings = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: RedundantCast - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L546\lib/Service/[1;31mSolrSchemaService.php:546:29[0m]8;;\ - Redundant cast to string (see https://psalm.dev/262)
            $fieldNameStr = [97;41m(string)$fieldName[0m;


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L699\lib/Service/[1;31mSolrSchemaService.php:699:35[0m]8;;\ - Argument 1 of json_decode expects string, but non-empty-array<array-key, mixed> provided (see https://psalm.dev/004)
        $properties = json_decode([97;41m$schemaProperties[0m, true);


[0;31mERROR[0m: ParadoxicalCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L816\lib/Service/[1;31mSolrSchemaService.php:816:13[0m]8;;\ - Condition ($type is string(file)) contradicts a previously-established condition ($type is not string(file)) (see https://psalm.dev/089)
            [97;41m'file' => 'text_general'[0m,       // File content (large text)


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L1070\lib/Service/[1;31mSolrSchemaService.php:1070:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $settings = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L1176\lib/Service/[1;31mSolrSchemaService.php:1176:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $settings = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L1242\lib/Service/[1;31mSolrSchemaService.php:1242:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $settings = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L1313\lib/Service/[1;31mSolrSchemaService.php:1313:27[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $solrConfig = [97;41m$this->settingsService[0m->getSettings()['solr'] ?? [];


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L1421\lib/Service/[1;31mSolrSchemaService.php:1421:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $solrConfig = [97;41m$this->settingsService[0m->getSolrSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L1523\lib/Service/[1;31mSolrSchemaService.php:1523:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $tenantId = [97;41m$this->settingsService[0m->getTenantId();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L1524\lib/Service/[1;31mSolrSchemaService.php:1524:31[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $organisationId = [97;41m$this->settingsService[0m->getOrganisationId();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L1534\lib/Service/[1;31mSolrSchemaService.php:1534:58[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getTenantCollectionName does not exist (see https://psalm.dev/022)
                'solr_collection' => $this->solrService->[97;41mgetTenantCollectionName[0m(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L1568\lib/Service/[1;31mSolrSchemaService.php:1568:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $settings = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrSchemaService.php#L1647\lib/Service/[1;31mSolrSchemaService.php:1647:21[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $settings = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: UndefinedDocblockClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L60\lib/Service/[1;31mSolrService.php:60:5[0m]8;;\ - Docblock-defined class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/200)
    /**
     * Solarium client instance
     *
     * @var Client|null
     */
    [97;41mprivate ?Client $client = null;[0m


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L60\lib/Service/[1;31mSolrService.php:60:13[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
    private [97;41m?Client[0m $client = null;


[0;31mERROR[0m: InvalidPropertyAssignmentValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L74\lib/Service/[1;31mSolrService.php:74:33[0m]8;;\ - $this->solrConfig with declared type 'array{autoCommit: bool, commitWithin: int, core: string, enableLogging: bool, enabled: bool, host: string, password: string, path: string, port: int, scheme: string, timeout: int, username: string}' cannot be assigned type 'array<never, never>' (see https://psalm.dev/145)
    private array $solrConfig = [97;41m[][0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L114\lib/Service/[1;31mSolrService.php:114:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m        $settingsService  Settings service for configuration


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L140\lib/Service/[1;31mSolrService.php:140:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $solrSettings = [97;41m$this->settingsService[0m->getSolrSettings();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L195\lib/Service/[1;31mSolrService.php:195:24[0m]8;;\ - Method OCA\OpenRegister\Service\SolrService::collectionExists does not exist (see https://psalm.dev/022)
            if ($this->[97;41mcollectionExists[0m($collectionName) === true) {


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L232\lib/Service/[1;31mSolrService.php:232:31[0m]8;;\ - Method OCA\OpenRegister\Service\SolrService::createCollection does not exist (see https://psalm.dev/022)
            $success = $this->[97;41mcreateCollection[0m($collectionName, $baseConfigSet);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L270\lib/Service/[1;31mSolrService.php:270:29[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $solrSettings = [97;41m$this->settingsService[0m->getSolrSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L313\lib/Service/[1;31mSolrService.php:313:29[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $solrSettings = [97;41m$this->settingsService[0m->getSolrSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L327\lib/Service/[1;31mSolrService.php:327:28[0m]8;;\ - Class, interface or enum named Solarium\Core\Client\Adapter\Curl does not exist (see https://psalm.dev/019)
            $adapter = new [97;41mCurl[0m();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L328\lib/Service/[1;31mSolrService.php:328:36[0m]8;;\ - Class, interface or enum named Symfony\Component\EventDispatcher\EventDispatcher does not exist (see https://psalm.dev/019)
            $eventDispatcher = new [97;41mEventDispatcher[0m();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L329\lib/Service/[1;31mSolrService.php:329:33[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $this->client = new [97;41mClient[0m($adapter, $eventDispatcher);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L336\lib/Service/[1;31mSolrService.php:336:40[0m]8;;\ - Method OCA\OpenRegister\Service\SolrService::collectionExists does not exist (see https://psalm.dev/022)
            $collectionExists = $this->[97;41mcollectionExists[0m($tenantSpecificCollection);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L340\lib/Service/[1;31mSolrService.php:340:28[0m]8;;\ - Method OCA\OpenRegister\Service\SolrService::collectionExists does not exist (see https://psalm.dev/022)
                if ($this->[97;41mcollectionExists[0m($baseCoreName) === true) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L436\lib/Service/[1;31mSolrService.php:436:21[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $ping = [97;41m$this->client[0m->createPing();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L437\lib/Service/[1;31mSolrService.php:437:23[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->client[0m->ping($ping);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L452\lib/Service/[1;31mSolrService.php:452:18[0m]8;;\ - Class, interface or enum named Solarium\Exception\HttpException does not exist (see https://psalm.dev/019)
        } catch ([97;41mHttpException[0m $e) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L456\lib/Service/[1;31mSolrService.php:456:52[0m]8;;\ - Class, interface or enum named Solarium\Exception\HttpException does not exist (see https://psalm.dev/019)
                'message' => 'SOLR HTTP error: ' . [97;41m$e[0m->getMessage(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L458\lib/Service/[1;31mSolrService.php:458:36[0m]8;;\ - Class, interface or enum named Solarium\Exception\HttpException does not exist (see https://psalm.dev/019)
                    'http_code' => [97;41m$e[0m->getCode(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L494\lib/Service/[1;31mSolrService.php:494:23[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $update = [97;41m$this->client[0m->createUpdate();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L500\lib/Service/[1;31mSolrService.php:500:13[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Update\Query\Query does not exist (see https://psalm.dev/019)
            [97;41m$update[0m->addDocument($doc);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L505\lib/Service/[1;31mSolrService.php:505:21[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Update\Query\Query does not exist (see https://psalm.dev/019)
                    [97;41m$update[0m->addCommit(false, false, false, $this->solrConfig['commitWithin']);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L507\lib/Service/[1;31mSolrService.php:507:21[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Update\Query\Query does not exist (see https://psalm.dev/019)
                    [97;41m$update[0m->addCommit();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L512\lib/Service/[1;31mSolrService.php:512:23[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->client[0m->update($update);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L565\lib/Service/[1;31mSolrService.php:565:23[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $update = [97;41m$this->client[0m->createUpdate();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L576\lib/Service/[1;31mSolrService.php:576:21[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Update\Query\Query does not exist (see https://psalm.dev/019)
                    [97;41m$update[0m->addDocument($doc);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L591\lib/Service/[1;31mSolrService.php:591:21[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Update\Query\Query does not exist (see https://psalm.dev/019)
                    [97;41m$update[0m->addCommit(false, false, false, $this->solrConfig['commitWithin']);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L593\lib/Service/[1;31mSolrService.php:593:25[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Update\Query\Query does not exist (see https://psalm.dev/019)
                        [97;41m$update[0m->addCommit();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L598\lib/Service/[1;31mSolrService.php:598:27[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
                $result = [97;41m$this->client[0m->update($update);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L662\lib/Service/[1;31mSolrService.php:662:23[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $update = [97;41m$this->client[0m->createUpdate();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L677\lib/Service/[1;31mSolrService.php:677:23[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->client[0m->update($update);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L736\lib/Service/[1;31mSolrService.php:736:22[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $query = [97;41m$this->client[0m->createSelect();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L756\lib/Service/[1;31mSolrService.php:756:26[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $resultSet = [97;41m$this->client[0m->select($query);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L771\lib/Service/[1;31mSolrService.php:771:38[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Select\Result\Result does not exist (see https://psalm.dev/019)
                    'total_found' => [97;41m$resultSet[0m->getNumFound(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L781\lib/Service/[1;31mSolrService.php:781:28[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Select\Result\Result does not exist (see https://psalm.dev/019)
                'total' => [97;41m$resultSet[0m->getNumFound(),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L813\lib/Service/[1;31mSolrService.php:813:23[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $update = [97;41m$this->client[0m->createUpdate();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L820\lib/Service/[1;31mSolrService.php:820:23[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->client[0m->update($update);


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L888\lib/Service/[1;31mSolrService.php:888:16[0m]8;;\ - The declared return type 'array{cores: array<array-key, mixed>, health: array<array-key, mixed>, operations: array<array-key, mixed>, overview: array<array-key, mixed>, performance: array<array-key, mixed>}' for OCA\OpenRegister\Service\SolrService::getDashboardStats is incorrect, got 'array{cores: array{active_core: string, core_status: 'active'|'inactive', endpoint_url: string, tenant_id: string}, generated_at: string, health: array{disk_usage: array<array-key, mixed>, last_optimization: string, memory_usage: array<array-key, mixed>, status: string, uptime: string, warnings: array<array-key, mixed>}, operations: array{commit_frequency: array<array-key, mixed>, optimization_needed: bool, queue_status: array<array-key, mixed>, recent_activity: array<array-key, mixed>}, overview: array{available: bool, connection_status: 'error'|'healthy', index_size: string, last_commit: string, response_time_ms: 0|mixed, total_documents: int}, performance: array{avg_index_time_ms: float, avg_search_time_ms: float, error_rate: float, operations_per_sec: float, total_deletes: mixed, total_index_time: float, total_indexes: mixed, total_search_time: float, total_searches: mixed}}' which is different due to additional array shape fields (generated_at) (see https://psalm.dev/011)
     * @return [97;41marray{overview: array, cores: array, performance: array, health: array, operations: array}[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L956\lib/Service/[1;31mSolrService.php:956:16[0m]8;;\ - The inferred type 'array{cores: array{active_core: string, core_status: 'active'|'inactive', endpoint_url: string, tenant_id: string}, generated_at: string, health: array{disk_usage: array<array-key, mixed>, last_optimization: string, memory_usage: array<array-key, mixed>, status: string, uptime: string, warnings: array<array-key, mixed>}, operations: array{commit_frequency: array<array-key, mixed>, optimization_needed: bool, queue_status: array<array-key, mixed>, recent_activity: array<array-key, mixed>}, overview: array{available: bool, connection_status: 'error'|'healthy', index_size: string, last_commit: string, response_time_ms: 0|mixed, total_documents: int}, performance: array{avg_index_time_ms: float, avg_search_time_ms: float, error_rate: float, operations_per_sec: float, total_deletes: mixed, total_index_time: float, total_indexes: mixed, total_search_time: float, total_searches: mixed}}' does not match the declared return type 'array{cores: array<array-key, mixed>, health: array<array-key, mixed>, operations: array<array-key, mixed>, overview: array<array-key, mixed>, performance: array<array-key, mixed>}' for OCA\OpenRegister\Service\SolrService::getDashboardStats due to additional array shape fields (generated_at) (see https://psalm.dev/128)
        return [97;41m[
            'overview' => $overview,
            'cores' => $cores,
            'performance' => $performance,
            'health' => $health,
            'operations' => $operations,
            'generated_at' => date('c'),
        ][0m;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L978\lib/Service/[1;31mSolrService.php:978:22[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $query = [97;41m$this->client[0m->createSelect();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L984\lib/Service/[1;31mSolrService.php:984:26[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $resultSet = [97;41m$this->client[0m->select($query);


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L1250\lib/Service/[1;31mSolrService.php:1250:41[0m]8;;\ - Cannot access value on variable $units using a int<0, max> offset, expecting int<0, 4> (see https://psalm.dev/115)
        return round($bytes, 2) . ' ' . [97;41m$units[$i][0m;


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L1259\lib/Service/[1;31mSolrService.php:1259:16[0m]8;;\ - The declared return type 'array{execution_time_ms: float, operations: array<array-key, mixed>, success: bool}' for OCA\OpenRegister\Service\SolrService::warmupIndex is incorrect, got 'array{error?: string, execution_time_ms: float, operations: array{batches_processed?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, commit?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, objects_indexed?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, objects_processed?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, optimize?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, schemas_processed?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, total_objects_found?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, ...<non-empty-literal-string, 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string>}, stats?: array{batchesProcessed: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, duration: non-empty-lowercase-string, schemasProcessed: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, totalIndexed: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, totalObjectsFound: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, totalProcessed: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string}, success: bool, timing?: array{cache_warming: non-empty-lowercase-string, commit_optimize: non-empty-lowercase-string, connection_test: non-empty-lowercase-string, object_indexing: non-empty-lowercase-string, schema_mirroring: non-empty-lowercase-string, total: non-empty-lowercase-string}}' which is different due to additional array shape fields (error, timing, stats) (see https://psalm.dev/011)
     * @return [97;41marray{success: bool, operations: array, execution_time_ms: float}[0m Warmup results


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L1265\lib/Service/[1;31mSolrService.php:1265:20[0m]8;;\ - The inferred type 'array{error: 'SOLR is not available', execution_time_ms: float(0), operations: array<never, never>, success: false}' does not match the declared return type 'array{execution_time_ms: float, operations: array<array-key, mixed>, success: bool}' for OCA\OpenRegister\Service\SolrService::warmupIndex due to additional array shape fields (error) (see https://psalm.dev/128)
            return [97;41m[
                'success' => false,
                'operations' => [],
                'execution_time_ms' => 0.0,
                'error' => 'SOLR is not available'
            ][0m;


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L1331\lib/Service/[1;31mSolrService.php:1331:40[0m]8;;\ - Instance property OCA\OpenRegister\Service\SolrService::$guzzleSolrService is not defined (see https://psalm.dev/041)
                        $indexResult = [97;41m$this->guzzleSolrService[0m->bulkIndexFromDatabaseParallel(1000, $maxObjects, 5);


[0;31mERROR[0m: UndefinedThisPropertyFetch - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L1334\lib/Service/[1;31mSolrService.php:1334:40[0m]8;;\ - Instance property OCA\OpenRegister\Service\SolrService::$guzzleSolrService is not defined (see https://psalm.dev/041)
                        $indexResult = [97;41m$this->guzzleSolrService[0m->bulkIndexFromDatabase(1000, $maxObjects);


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L1356\lib/Service/[1;31mSolrService.php:1356:35[0m]8;;\ - Cannot access value on variable $operations using offset value of 'collected_errors', expecting 'connection_test', 'schema_mirroring', 'schemas_processed', 'fields_created', 'mirror_errors', 'object_indexing', 'objects_indexed', 'total_objects_found', 'batches_processed', 'execution_mode', 'indexing_errors' or 'indexing_error' (see https://psalm.dev/115)
                        if (isset([97;41m$operations['collected_errors'][0m) === false) {


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L1377\lib/Service/[1;31mSolrService.php:1377:44[0m]8;;\ - Cannot access value on variable $operations using offset value of 'objects_processed', expecting 'connection_test', 'schema_mirroring', 'schemas_processed', 'fields_created', 'mirror_errors', 'object_indexing', 'objects_indexed', 'total_objects_found', 'batches_processed', 'execution_mode', 'indexing_errors', 'indexing_error' or 'collected_errors' (see https://psalm.dev/115)
                    'objects_processed' => [97;41m$operations['objects_processed'][0m ?? 0,


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L1446\lib/Service/[1;31mSolrService.php:1446:20[0m]8;;\ - The inferred type 'array{execution_time_ms: float, operations: array{commit: bool, objects_indexed?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, optimize?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, ...<non-empty-literal-string, 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string>}, stats: array{batchesProcessed: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, duration: non-empty-lowercase-string, schemasProcessed: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, totalIndexed: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, totalObjectsFound: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, totalProcessed: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string}, success: true, timing: array{cache_warming: non-empty-lowercase-string, commit_optimize: non-empty-lowercase-string, connection_test: non-empty-lowercase-string, object_indexing: non-empty-lowercase-string, schema_mirroring: non-empty-lowercase-string, total: non-empty-lowercase-string}}' does not match the declared return type 'array{execution_time_ms: float, operations: array<array-key, mixed>, success: bool}' for OCA\OpenRegister\Service\SolrService::warmupIndex due to additional array shape fields (timing, stats) (see https://psalm.dev/128)
            return [97;41m[
                'success' => true,
                'operations' => $operations,
                'timing' => $timing,
                'execution_time_ms' => $overallDuration,
                'stats' => [
                    'totalProcessed' => $operations['objects_processed'] ?? 0,
                    'totalIndexed' => $operations['objects_indexed'] ?? 0,
                    'totalObjectsFound' => $operations['total_objects_found'] ?? 0,
                    'batchesProcessed' => $operations['batches_processed'] ?? 0,
                    'schemasProcessed' => $operations['schemas_processed'] ?? 0,
                    'duration' => $overallDuration . 'ms'
                ]
            ][0m;


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L1468\lib/Service/[1;31mSolrService.php:1468:20[0m]8;;\ - The inferred type 'array{error: string, execution_time_ms: float, operations: array{batches_processed?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, commit?: bool, objects_indexed?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, objects_processed?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, optimize?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, schemas_processed?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, total_objects_found?: 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string, ...<non-empty-literal-string, 0|bool|mixed|non-empty-list<array{class: class-string<Exception>, file: string, line: int, message: string, timestamp: string, type: 'bulk_indexing_error'}>|string>}, success: false}' does not match the declared return type 'array{execution_time_ms: float, operations: array<array-key, mixed>, success: bool}' for OCA\OpenRegister\Service\SolrService::warmupIndex due to additional array shape fields (error) (see https://psalm.dev/128)
            return [97;41m[
                'success' => false,
                'operations' => $operations,
                'execution_time_ms' => round((microtime(true) - $startTime) * 1000, 2),
                'error' => $e->getMessage()
            ][0m;


[0;31mERROR[0m: UndefinedVariable - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L1471\lib/Service/[1;31mSolrService.php:1471:65[0m]8;;\ - Cannot find referenced variable $startTime (see https://psalm.dev/024)
                'execution_time_ms' => round((microtime(true) - [97;41m$startTime[0m) * 1000, 2),


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L1846\lib/Service/[1;31mSolrService.php:1846:22[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $query = [97;41m$this->client[0m->createSelect();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L1863\lib/Service/[1;31mSolrService.php:1863:13[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Select\Query\Query does not exist (see https://psalm.dev/019)
            [97;41m$query[0m->addSort('score', 'desc');


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L1866\lib/Service/[1;31mSolrService.php:1866:26[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $resultSet = [97;41m$this->client[0m->select($query);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L2016\lib/Service/[1;31mSolrService.php:2016:23[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $update = [97;41m$this->client[0m->createUpdate();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L2018\lib/Service/[1;31mSolrService.php:2018:23[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->client[0m->update($update);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L2039\lib/Service/[1;31mSolrService.php:2039:23[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $update = [97;41m$this->client[0m->createUpdate();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L2041\lib/Service/[1;31mSolrService.php:2041:23[0m]8;;\ - Class, interface or enum named Solarium\Client does not exist (see https://psalm.dev/019)
            $result = [97;41m$this->client[0m->update($update);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L2056\lib/Service/[1;31mSolrService.php:2056:15[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Update\Query\Query does not exist (see https://psalm.dev/019)
     * @param [97;41mUpdateQuery[0m  $update Update query instance


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L2062\lib/Service/[1;31mSolrService.php:2062:130[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Update\Query\Document does not exist (see https://psalm.dev/019)
    private function createSolrDocument(UpdateQuery $update, ObjectEntity $object, ?\OCA\OpenRegister\Db\Schema $schema = null): [97;41m\Solarium\QueryType\Update\Query\Document[0m


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L2182\lib/Service/[1;31mSolrService.php:2182:15[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Update\Query\Document does not exist (see https://psalm.dev/019)
     * @param [97;41m\Solarium\QueryType\Update\Query\Document[0m $doc        SOLR document


[0;31mERROR[0m: InvalidArgument - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L2478\lib/Service/[1;31mSolrService.php:2478:21[0m]8;;\ - Argument 1 of array_map expects callable|null, but string provided (see https://psalm.dev/004)
                    [97;41m$this->getItemTypeMapper($itemType)[0m,


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L2635\lib/Service/[1;31mSolrService.php:2635:15[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Select\Query\Query does not exist (see https://psalm.dev/019)
     * @param [97;41mSelectQuery[0m $query        SOLR query


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L2667\lib/Service/[1;31mSolrService.php:2667:15[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Select\Query\Query does not exist (see https://psalm.dev/019)
     * @param [97;41mSelectQuery[0m $query        SOLR query


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L2693\lib/Service/[1;31mSolrService.php:2693:15[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Select\Query\Query does not exist (see https://psalm.dev/019)
     * @param [97;41mSelectQuery[0m $query        SOLR query


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L2714\lib/Service/[1;31mSolrService.php:2714:15[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Select\Result\Result does not exist (see https://psalm.dev/019)
     * @param [97;41m\Solarium\QueryType\Select\Result\Result[0m $resultSet SOLR result set


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L2751\lib/Service/[1;31mSolrService.php:2751:15[0m]8;;\ - Class, interface or enum named Solarium\QueryType\Select\Result\Result does not exist (see https://psalm.dev/019)
     * @param [97;41m\Solarium\QueryType\Select\Result\Result[0m $resultSet SOLR result set


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L3021\lib/Service/[1;31mSolrService.php:3021:13[0m]8;;\ - Type array<array-key, mixed> for $order is always array<array-key, mixed> (see https://psalm.dev/122)
        if ([97;41mis_array($order)[0m === true) {


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L3117\lib/Service/[1;31mSolrService.php:3117:48[0m]8;;\ - Method OCA\OpenRegister\Db\ObjectEntityMapper::getTotalCount does not exist (see https://psalm.dev/022)
            $totalCount = $this->objectMapper->[97;41mgetTotalCount[0m();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L3134\lib/Service/[1;31mSolrService.php:3134:49[0m]8;;\ - Method OCA\OpenRegister\Db\ObjectEntityMapper::findAllInRange does not exist (see https://psalm.dev/022)
                $objects = $this->objectMapper->[97;41mfindAllInRange[0m($offset, $currentBatchSize);


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L3190\lib/Service/[1;31mSolrService.php:3190:46[0m]8;;\ - Method OCA\OpenRegister\Service\SolrService::calculateSuccessRate does not exist (see https://psalm.dev/022)
                    'success_rate' => $this->[97;41mcalculateSuccessRate[0m($totalProcessed, $totalErrors),


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/SolrService.php#L3192\lib/Service/[1;31mSolrService.php:3192:52[0m]8;;\ - Method OCA\OpenRegister\Service\SolrService::calculateObjectsPerSecond does not exist (see https://psalm.dev/022)
                    'objects_per_second' => $this->[97;41mcalculateObjectsPerSecond[0m($totalProcessed, $duration),


[0;31mERROR[0m: MissingDependency - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/TextExtraction/FileHandler.php#L40\lib/Service/TextExtraction/[1;31mFileHandler.php:40:15[0m]8;;\ - OCP\Files\IRootFolder depends on class or interface oc\hooks\emitter that does not exist (see https://psalm.dev/157)
     * @param [97;41mIRootFolder[0m     $rootFolder  Nextcloud root folder.


[0;31mERROR[0m: MissingDependency - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/TextExtraction/FileHandler.php#L95\lib/Service/TextExtraction/[1;31mFileHandler.php:95:18[0m]8;;\ - OCP\Files\IRootFolder depends on class or interface oc\hooks\emitter that does not exist (see https://psalm.dev/157)
        $files = [97;41m$this->rootFolder[0m->getById($sourceId);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/TextExtraction/ObjectHandler.php#L39\lib/Service/TextExtraction/[1;31mObjectHandler.php:39:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\ObjectMapper does not exist (see https://psalm.dev/019)
     * @param [97;41mObjectMapper[0m    $objectMapper   Object mapper.


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/TextExtraction/ObjectHandler.php#L98\lib/Service/TextExtraction/[1;31mObjectHandler.php:98:19[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\ObjectMapper does not exist (see https://psalm.dev/019)
        $object = [97;41m$this->objectMapper[0m->find($sourceId);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/TextExtraction/ObjectHandler.php#L233\lib/Service/TextExtraction/[1;31mObjectHandler.php:233:19[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\ObjectMapper does not exist (see https://psalm.dev/019)
        $object = [97;41m$this->objectMapper[0m->find($sourceId);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/TextExtraction/ObjectHandler.php#L259\lib/Service/TextExtraction/[1;31mObjectHandler.php:259:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Db\ObjectMapper does not exist (see https://psalm.dev/019)
            $object = [97;41m$this->objectMapper[0m->find($sourceId);


[0;31mERROR[0m: MissingDependency - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/TextExtractionService.php#L109\lib/Service/[1;31mTextExtractionService.php:109:15[0m]8;;\ - OCP\Files\IRootFolder depends on class or interface oc\hooks\emitter that does not exist (see https://psalm.dev/157)
     * @param [97;41mIRootFolder[0m          $rootFolder           Nextcloud root folder


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/TextExtractionService.php#L326\lib/Service/[1;31mTextExtractionService.php:326:45[0m]8;;\ - Method OCA\OpenRegister\Service\TextExtractionService::getDetectionMethod does not exist (see https://psalm.dev/022)
            'detection_method'    => $this->[97;41mgetDetectionMethod[0m($language),


[0;31mERROR[0m: InvalidReturnType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/TextExtractionService.php#L340\lib/Service/[1;31mTextExtractionService.php:340:22[0m]8;;\ - The declared return type 'list<array{chunk_index: int<0, max>, detection_method: mixed|null, end_offset: int<0, max>|mixed, language: mixed|null, language_confidence: mixed|null, language_level: mixed|null, overlap_size: int, position_reference: array<string, mixed>, start_offset: 0|mixed, text_content: mixed}>' for OCA\OpenRegister\Service\TextExtractionService::textToChunks is incorrect, got 'list<array{checksum: mixed|null, chunk_index: int<0, max>, detection_method: mixed|null, end_offset: int<0, max>|mixed, language: mixed|null, language_confidence: mixed|null, language_level: mixed|null, overlap_size: int, position_reference: array{end?: 0|mixed, path?: mixed|null, start?: 0|mixed, type: 'property-path'|'text-range'}, start_offset: 0|mixed, text_content: mixed}>' which is different due to additional array shape fields (checksum) (see https://psalm.dev/011)
     * @psalm-return [97;41mlist<array{
     *     chunk_index: int<0, max>,
     *     detection_method: mixed|null,
     *     end_offset: int<0, max>|mixed,
     *     language: mixed|null,
     *     language_confidence: mixed|null,
     *     language_level: mixed|null,
     *     overlap_size: int,
     *     position_reference: array<string, mixed>,
     *     start_offset: 0|mixed,
     *     text_content: mixed
     * }>[0m


[0;31mERROR[0m: InvalidReturnStatement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/TextExtractionService.php#L388\lib/Service/[1;31mTextExtractionService.php:388:16[0m]8;;\ - The inferred type 'list<array{checksum: mixed|null, chunk_index: int<0, max>, detection_method: mixed|null, end_offset: int<0, max>|mixed, language: mixed|null, language_confidence: mixed|null, language_level: mixed|null, overlap_size: int, position_reference: array{end?: 0|mixed, path?: mixed|null, start?: 0|mixed, type: 'property-path'|'text-range'}, start_offset: 0|mixed, text_content: mixed}>' does not match the declared return type 'list<array{chunk_index: int<0, max>, detection_method: mixed|null, end_offset: int<0, max>|mixed, language: mixed|null, language_confidence: mixed|null, language_level: mixed|null, overlap_size: int, position_reference: array<string, mixed>, start_offset: 0|mixed, text_content: mixed}>' for OCA\OpenRegister\Service\TextExtractionService::textToChunks due to additional array shape fields (checksum) (see https://psalm.dev/128)
        return [97;41m$mappedChunks[0m;


[0;31mERROR[0m: MissingDependency - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/TextExtractionService.php#L662\lib/Service/[1;31mTextExtractionService.php:662:22[0m]8;;\ - OCP\Files\IRootFolder depends on class or interface oc\hooks\emitter that does not exist (see https://psalm.dev/157)
            $nodes = [97;41m$this->rootFolder[0m->getById($fileId);


[0;31mERROR[0m: StringIncrement - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/TextExtractionService.php#L1270\lib/Service/[1;31mTextExtractionService.php:1270:63[0m]8;;\ - Possibly unintended string increment (see https://psalm.dev/211)
                    for ($col = 'A'; $col !== $highestColumn; [97;41m$col[0m++) {


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/TextExtractionService.php#L1386\lib/Service/[1;31mTextExtractionService.php:1386:50[0m]8;;\ - Method OCA\OpenRegister\Service\TextExtractionService::calculateAvgChunkSize does not exist (see https://psalm.dev/022)
                    'avg_chunk_size'   => $this->[97;41mcalculateAvgChunkSize[0m($chunks),


[0;31mERROR[0m: NoValue - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/UploadService.php#L103\lib/Service/[1;31mUploadService.php:103:13[0m]8;;\ - All possible types for this return were invalidated - This may be dead code (see https://psalm.dev/179)
            [97;41mreturn $this->getJSONfromFile();[0m


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/UploadService.php#L108\lib/Service/[1;31mUploadService.php:108:13[0m]8;;\ - Method OCP\AppFramework\Http\JSONResponse::offsetSet does not exist (see https://psalm.dev/022)
            [97;41m$phpArray[0m['source'] = $data['url'];


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/UploadService.php#L108\lib/Service/[1;31mUploadService.php:108:13[0m]8;;\ - Method OCP\AppFramework\Http\JSONResponse::offsetGet does not exist (see https://psalm.dev/022)
            [97;41m$phpArray[0m['source'] = $data['url'];


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/UploadService.php#L139\lib/Service/[1;31mUploadService.php:139:18[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\GuzzleHttp\Exception\BadResponseException does not exist (see https://psalm.dev/019)
        } catch ([97;41mGuzzleHttp\Exception\BadResponseException[0m $e) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/UploadService.php#L140\lib/Service/[1;31mUploadService.php:140:103[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\GuzzleHttp\Exception\BadResponseException does not exist (see https://psalm.dev/019)
            return new JSONResponse(data: ['error' => 'Failed to do a GET api-call on url: '.$url.' '.[97;41m$e[0m->getMessage()], statusCode: 400);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/UploadService.php#L183\lib/Service/[1;31mUploadService.php:183:19[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\Exception does not exist (see https://psalm.dev/019)
        throw new [97;41mException[0m('File upload handling is not yet implemented');


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/UploadService.php#L217\lib/Service/[1;31mUploadService.php:217:26[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\DoesNotExistException does not exist (see https://psalm.dev/019)
                } catch ([97;41mDoesNotExistException[0m $e) {


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L91\lib/Service/[1;31mVectorEmbeddingService.php:91:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m   $settingsService Settings management service


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L116\lib/Service/[1;31mVectorEmbeddingService.php:116:28[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $llmSettings = [97;41m$this->settingsService[0m->getLLMSettingsOnly();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L143\lib/Service/[1;31mVectorEmbeddingService.php:143:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $settings = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L188\lib/Service/[1;31mVectorEmbeddingService.php:188:25[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $settings = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: InvalidDocblock - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L680\lib/Service/[1;31mVectorEmbeddingService.php:680:5[0m]8;;\ - Parenthesis must be preceded by “Closure”, “callable”, "pure-callable" or a valid @method name in docblock for OCA\OpenRegister\Service\VectorEmbeddingService::searchVectorsInSolr (see https://psalm.dev/008)
    /**
     * Search vectors in Solr using dense vector KNN
     *
     * Performs K-Nearest Neighbors search using Solr's dense vector capabilities.
     * Uses the {!knn f=FIELD topK=N} query syntax for efficient vector similarity search.
     *
     * @param array $queryEmbedding Query vector embedding
     * @param int   $limit          Maximum number of results
     * @param array $filters        Additional filters (entity_type, etc.)
     *
     * @return array<int, array<int|float|string|array|null>> Search results
     *
     * @throws \Exception If search fails or Solr is not configured
     *
     * @psalm-return list<array{
     *     chunk_index: 0|mixed,
     *     chunk_text: mixed|null,
     *     dimensions: 0|mixed,
     *     entity_id: string,
     *     entity_type: string,
     *     metadata: array,
     *     model: ''|mixed,
     *     similarity: float(0)|mixed,
     *     total_chunks: 1|mixed,
     *     vector_id: mixed
     * }>
     */
    [97;41mprivate function searchVectorsInSolr([0m


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L722\lib/Service/[1;31mVectorEmbeddingService.php:722:37[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
                $settings         = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L1766\lib/Service/[1;31mVectorEmbeddingService.php:1766:33[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $settings         = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L1863\lib/Service/[1;31mVectorEmbeddingService.php:1863:23[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $settings   = [97;41m$this->settingsService[0m->getSettings();


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L1926\lib/Service/[1;31mVectorEmbeddingService.php:1926:24[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $llmSettings = [97;41m$this->settingsService[0m->getLLMSettingsOnly();


[0;31mERROR[0m: RedundantCondition - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L2148\lib/Service/[1;31mVectorEmbeddingService.php:2148:21[0m]8;;\ - string can never contain null (see https://psalm.dev/122)
                if ([97;41m$error !== null[0m && $error !== '') {


[0;31mERROR[0m: MoreSpecificImplementedParamType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L2212\lib/Service/[1;31mVectorEmbeddingService.php:2212:50[0m]8;;\ - Argument 1 of OCA\OpenRegister\Service\_home_rubenlinde_nextcloud_docker_dev_workspace_server_apps_extra_openregister_lib_Service_VectorEmbeddingService_php_2059_80280::embedDocuments has the more specific type 'array<int, LLPhant\Embeddings\Document>', expecting 'array<array-key, LLPhant\Embeddings\Document>' as defined by LLPhant\Embeddings\EmbeddingGenerator\EmbeddingGeneratorInterface::embedDocuments (see https://psalm.dev/140)
            public function embedDocuments(array [97;41m$documents[0m): array


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L2411\lib/Service/[1;31mVectorEmbeddingService.php:2411:27[0m]8;;\ - Method OCA\OpenRegister\Service\VectorEmbeddingService::searchSimilarVectors does not exist (see https://psalm.dev/022)
        $results = $this->[97;41msearchSimilarVectors[0m(


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L2524\lib/Service/[1;31mVectorEmbeddingService.php:2524:32[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
            $settings        = [97;41m$this->settingsService[0m->getLLMSettingsOnly();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorEmbeddingService.php#L2610\lib/Service/[1;31mVectorEmbeddingService.php:2610:47[0m]8;;\ - Method OCA\OpenRegister\Service\VectorEmbeddingService::getModelMismatchMessage does not exist (see https://psalm.dev/022)
                'message'           => $this->[97;41mgetModelMismatchMessage[0m($hasMismatch, $nullModelCount),


[0;31mERROR[0m: InaccessibleMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/Vectorization/FileVectorizationStrategy.php#L117\lib/Service/Vectorization/[1;31mFileVectorizationStrategy.php:117:42[0m]8;;\ - Cannot access protected method OCA\OpenRegister\Db\ChunkMapper::findEntities from context OCA\OpenRegister\Service\Vectorization\FileVectorizationStrategy (see https://psalm.dev/003)
        $allChunks = $this->chunkMapper->[97;41mfindEntities[0m($qb);


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/Vectorization/ObjectVectorizationStrategy.php#L52\lib/Service/Vectorization/[1;31mObjectVectorizationStrategy.php:52:13[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
    private [97;41mSettingsService[0m $settingsService;


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/Vectorization/ObjectVectorizationStrategy.php#L66\lib/Service/Vectorization/[1;31mObjectVectorizationStrategy.php:66:15[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
     * @param [97;41mSettingsService[0m $settingsService Settings service


[0;31mERROR[0m: UndefinedClass - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/Vectorization/ObjectVectorizationStrategy.php#L153\lib/Service/Vectorization/[1;31mObjectVectorizationStrategy.php:153:19[0m]8;;\ - Class, interface or enum named OCA\OpenRegister\Service\SettingsService does not exist (see https://psalm.dev/019)
        $config = [97;41m$this->settingsService[0m->getObjectSettingsOnly();


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/Vectorization/ObjectVectorizationStrategy.php#L219\lib/Service/Vectorization/[1;31mObjectVectorizationStrategy.php:219:49[0m]8;;\ - Method OCA\OpenRegister\Service\Vectorization\ObjectVectorizationStrategy::getSelfKeys does not exist (see https://psalm.dev/022)
                    '@self_keys'      => $this->[97;41mgetSelfKeys[0m($objectData),


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Service/VectorizationService.php#L306\lib/Service/[1;31mVectorizationService.php:306:49[0m]8;;\ - Cannot access value on variable $embeddingData using offset value of 'error', expecting 'embedding', 'model' or 'dimensions' (see https://psalm.dev/115)
                                'error'      => [97;41m$embeddingData['error'][0m ?? 'Embedding generation failed',


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Setup/SolrSetup.php#L266\lib/Setup/[1;31mSolrSetup.php:266:31[0m]8;;\ - Cannot access value on variable $this->solrConfig using offset value of 'core', expecting 'host', 'port', 'scheme', 'path', 'username' or 'password' (see https://psalm.dev/115)
        $baseCollectionName = [97;41m$this->solrConfig['core'][0m ?? 'openregister';


[0;31mERROR[0m: UndefinedMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Setup/SolrSetup.php#L279\lib/Setup/[1;31mSolrSetup.php:279:36[0m]8;;\ - Method OCA\OpenRegister\Service\GuzzleSolrService::getTenantId does not exist (see https://psalm.dev/022)
        return $this->solrService->[97;41mgetTenantId[0m();


[0;31mERROR[0m: InvalidArrayOffset - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Setup/SolrSetup.php#L292\lib/Setup/[1;31mSolrSetup.php:292:26[0m]8;;\ - Cannot access value on variable $this->solrConfig using offset value of 'configSet', expecting 'host', 'port', 'scheme', 'path', 'username' or 'password' (see https://psalm.dev/115)
        $configSetName = [97;41m$this->solrConfig['configSet'][0m ?? '_default';


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Setup/SolrSetup.php#L1431\lib/Setup/[1;31mSolrSetup.php:1431:44[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::getRequest does not exist (see https://psalm.dev/181)
                'url_attempted'     => $e->[97;41mgetRequest[0m() ? $e->getRequest()->getUri() : 'unknown',


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Setup/SolrSetup.php#L1431\lib/Setup/[1;31mSolrSetup.php:1431:63[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::getRequest does not exist (see https://psalm.dev/181)
                'url_attempted'     => $e->getRequest() ? $e->[97;41mgetRequest[0m()->getUri() : 'unknown',


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Setup/SolrSetup.php#L1436\lib/Setup/[1;31mSolrSetup.php:1436:45[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::getRequest does not exist (see https://psalm.dev/181)
                    'request_method' => $e->[97;41mgetRequest[0m() ? $e->getRequest()->getMethod() : 'unknown',


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Setup/SolrSetup.php#L1436\lib/Setup/[1;31mSolrSetup.php:1436:64[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::getRequest does not exist (see https://psalm.dev/181)
                    'request_method' => $e->getRequest() ? $e->[97;41mgetRequest[0m()->getMethod() : 'unknown',


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Setup/SolrSetup.php#L1437\lib/Setup/[1;31mSolrSetup.php:1437:45[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::hasResponse does not exist (see https://psalm.dev/181)
                    'response_code'  => $e->[97;41mhasResponse[0m() ? $e->getResponse()->getStatusCode() : null,


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Setup/SolrSetup.php#L1437\lib/Setup/[1;31mSolrSetup.php:1437:65[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::getResponse does not exist (see https://psalm.dev/181)
                    'response_code'  => $e->hasResponse() ? $e->[97;41mgetResponse[0m()->getStatusCode() : null,


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Setup/SolrSetup.php#L1438\lib/Setup/[1;31mSolrSetup.php:1438:45[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::hasResponse does not exist (see https://psalm.dev/181)
                    'response_body'  => $e->[97;41mhasResponse[0m() ? (string) $e->getResponse()->getBody() : null,


[0;31mERROR[0m: UndefinedInterfaceMethod - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Setup/SolrSetup.php#L1438\lib/Setup/[1;31mSolrSetup.php:1438:74[0m]8;;\ - Method GuzzleHttp\Exception\GuzzleException::getResponse does not exist (see https://psalm.dev/181)
                    'response_body'  => $e->hasResponse() ? (string) $e->[97;41mgetResponse[0m()->getBody() : null,


[0;31mERROR[0m: TypeDoesNotContainType - ]8;;file:///home/rubenlinde/nextcloud-docker-dev/workspace/server/apps-extra/openregister/lib/Setup/SolrSetup.php#L1555\lib/Setup/[1;31mSolrSetup.php:1555:21[0m]8;;\ - array<array-key, mixed> does not contain true (see https://psalm.dev/056)
                if ([97;41m$success === true[0m) {


------------------------------
[0;31m1046 errors[0m found
------------------------------
1260 other issues found.
You can display them with [30;48;5;195m--show-info=true[0m
------------------------------
Psalm can automatically fix 49 of these issues.
Run Psalm again with 
[30;48;5;195m--alter --issues=MismatchingDocblockParamType,InvalidReturnType,LessSpecificReturnType,InvalidNullableReturnType,MismatchingDocblockReturnType --dry-run[0m
to see what it can fix.
------------------------------

Checks took 39.95 seconds and used 344.748MB of memory
Psalm was able to infer types for 87.8871% of the codebase
Psalm not installed, skipping...
