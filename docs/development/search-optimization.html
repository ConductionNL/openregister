<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-development/search-optimization" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Search and Faceting Optimization | Open Register</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://openregisters.app/docs/development/search-optimization"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Search and Faceting Optimization | Open Register"><meta data-rh="true" name="description" content="This document summarizes the comprehensive search and faceting optimizations implemented for the OpenRegister application. These optimizations significantly improve search performance by leveraging database indexes, implementing intelligent caching strategies, and optimizing query execution paths."><meta data-rh="true" property="og:description" content="This document summarizes the comprehensive search and faceting optimizations implemented for the OpenRegister application. These optimizations significantly improve search performance by leveraging database indexes, implementing intelligent caching strategies, and optimizing query execution paths."><link data-rh="true" rel="canonical" href="https://openregisters.app/docs/development/search-optimization"><link data-rh="true" rel="alternate" href="https://openregisters.app/docs/development/search-optimization" hreflang="en"><link data-rh="true" rel="alternate" href="https://openregisters.app/docs/development/search-optimization" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a810a68e.css">
<script src="/assets/js/runtime~main.c69c4962.js" defer="defer"></script>
<script src="/assets/js/main.b5b54dea.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Open Register Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Open Register Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Open Register</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Integrations">Documentation</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/api">API Documentation</a><a href="https://github.com/conductionnl/openregister" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Integrations">Integrations Overview</a><button aria-label="Expand sidebar category &#x27;Integrations Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Features">Core Features</a><button aria-label="Expand sidebar category &#x27;Core Features&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Technical/vectorization-architecture">Technical</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/UseCases/clientRegisters">UseCases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/api/bulk-operations">api</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/development/Services">development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/Services">Development</a><button aria-label="Expand sidebar category &#x27;Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/deeplinking-spot">Deep Linking and SPOT Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/git-submodules">Git Submodules Development Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/services-architecture">Service Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/docker-setup">Docker Development Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/performance-optimization">Performance Optimization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/ollama">Ollama Setup and Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/external-app-optimization">External App Cache Optimization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/tool-registration">Tool Registration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/tool-registration-testing">Tool Testing Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/rbac">RBAC and Multi-Tenancy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/testing">Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/frontend">Frontend Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/commands">CLI Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/presidio-setup">Presidio Setup for Dutch Language</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/huggingface-tgi-setup">Hugging Face TGI/vLLM Setup - OpenAI-Compatible API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/llphant-setup">LLPhant Installation Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/fulltextsearch-setup">Nextcloud Full Text Search Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/solr-development">Solr Development Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/magic-mapper">MagicMapper - Dynamic Schema-Based Table Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/file-uploads-implementation">Integrated File Uploads Implementation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/security-architecture">Security Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/virus-scanning">Virus Scanning Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/epic-milestones">Development Milestones</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/monitoring-testing">Monitoring &amp; Testing Implementation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/api-validation">OpenAPI Specification Validation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/development/search-optimization">Search and Faceting Optimization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/rag-fix">RAG Semantic Search Fix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/llphant-refactor">LLPhant Refactoring Plan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/text-extraction-refactoring">Text Extraction Refactoring Summary</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/development/api/files">api</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/bulk-import-deduplication">Bulk Import Deduplication System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/import-flow">Import Flow and Metadata Mapping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/object-handlers">Object Handlers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/object-handling">Object Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/object-service-refactoring">ObjectService Refactoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/response-classes">Response Classes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/self-metadata-handling">@self Metadata Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/tool-metadata-architecture">Tool Metadata Architecture - Documentation Update</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/features/organisation-roles">features</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/technical/text-extraction">technical</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user/ai-conversations">user</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user-guide/configuration/api-tokens">user-guide</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">development</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Search and Faceting Optimization</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Search and Faceting Optimization Summary</h1></header>
<p>This document summarizes the comprehensive search and faceting optimizations implemented for the OpenRegister application. These optimizations significantly improve search performance by leveraging database indexes, implementing intelligent caching strategies, and optimizing query execution paths.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-optimizations-implemented">Key Optimizations Implemented<a href="#key-optimizations-implemented" class="hash-link" aria-label="Direct link to Key Optimizations Implemented" title="Direct link to Key Optimizations Implemented">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-database-index-optimization">1. Database Index Optimization<a href="#1-database-index-optimization" class="hash-link" aria-label="Direct link to 1. Database Index Optimization" title="Direct link to 1. Database Index Optimization">​</a></h3>
<p><strong>Migration</strong>: <code>lib/Migration/Version1Date20250102120000.php</code></p>
<p>Added critical indexes for search performance:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="single-column-search-indexes">Single-Column Search Indexes<a href="#single-column-search-indexes" class="hash-link" aria-label="Direct link to Single-Column Search Indexes" title="Direct link to Single-Column Search Indexes">​</a></h4>
<ul>
<li><code>objects_name_search_idx</code> - Index on <code>name</code> column</li>
<li><code>objects_summary_search_idx</code> - Index on <code>summary</code> column</li>
<li><code>objects_description_search_idx</code> - Index on <code>description</code> column</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="composite-search-indexes">Composite Search Indexes<a href="#composite-search-indexes" class="hash-link" aria-label="Direct link to Composite Search Indexes" title="Direct link to Composite Search Indexes">​</a></h4>
<ul>
<li><code>objects_name_deleted_published_idx</code> - Combined search + lifecycle filtering</li>
<li><code>objects_summary_deleted_published_idx</code> - Summary search + lifecycle filtering</li>
<li><code>objects_description_deleted_published_idx</code> - Description search + lifecycle filtering</li>
<li><code>objects_name_register_schema_idx</code> - Name search + register/schema filtering</li>
<li><code>objects_summary_register_schema_idx</code> - Summary search + register/schema filtering</li>
<li><code>objects_name_organisation_deleted_idx</code> - Name search + multi-tenancy filtering</li>
<li><code>objects_summary_organisation_deleted_idx</code> - Summary search + multi-tenancy filtering</li>
</ul>
<p><strong>Performance Impact</strong>: These indexes enable fast lookup on frequently searched metadata columns, reducing query times from seconds to milliseconds.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-schema-caching-system">2. Schema Caching System<a href="#2-schema-caching-system" class="hash-link" aria-label="Direct link to 2. Schema Caching System" title="Direct link to 2. Schema Caching System">​</a></h3>
<p><strong>Service</strong>: <code>lib/Service/SchemaCacheService.php</code></p>
<p>Implemented comprehensive schema caching with:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h4>
<ul>
<li><strong>In-memory caching</strong> for frequently accessed schemas</li>
<li><strong>Database-backed cache</strong> with configurable TTL</li>
<li><strong>Batch schema loading</strong> for multiple schemas</li>
<li><strong>Automatic cache invalidation</strong> when schemas are updated</li>
<li><strong>Cache statistics and monitoring</strong></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="performance-benefits">Performance Benefits<a href="#performance-benefits" class="hash-link" aria-label="Direct link to Performance Benefits" title="Direct link to Performance Benefits">​</a></h4>
<ul>
<li>Eliminates repeated database queries for schema loading</li>
<li>Reduces schema processing overhead</li>
<li>Enables predictable performance for schema-dependent operations</li>
<li>Supports high-concurrency scenarios</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-schema-based-facet-caching">3. Schema-Based Facet Caching<a href="#3-schema-based-facet-caching" class="hash-link" aria-label="Direct link to 3. Schema-Based Facet Caching" title="Direct link to 3. Schema-Based Facet Caching">​</a></h3>
<p><strong>Service</strong>: <code>lib/Service/SchemaFacetCacheService.php</code></p>
<p>Implemented predictable facet caching based on schema definitions:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="key-concepts">Key Concepts<a href="#key-concepts" class="hash-link" aria-label="Direct link to Key Concepts" title="Direct link to Key Concepts">​</a></h4>
<ul>
<li><strong>Predictable facets</strong>: Facets are determined by schema properties</li>
<li><strong>Schema-based invalidation</strong>: Cache invalidated when schemas change</li>
<li><strong>Multiple facet types</strong>: Support for terms, date_histogram, and range facets</li>
<li><strong>Facetable field discovery</strong>: Automatic detection of facetable properties</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="caching-strategy">Caching Strategy<a href="#caching-strategy" class="hash-link" aria-label="Direct link to Caching Strategy" title="Direct link to Caching Strategy">​</a></h4>
<ul>
<li>Facet configurations cached per schema</li>
<li>Facet results cached with configurable TTL</li>
<li>Automatic cleanup of expired cache entries</li>
<li>Memory + database dual-layer caching</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-optimized-search-query-execution">4. Optimized Search Query Execution<a href="#4-optimized-search-query-execution" class="hash-link" aria-label="Direct link to 4. Optimized Search Query Execution" title="Direct link to 4. Optimized Search Query Execution">​</a></h3>
<p><strong>Handler</strong>: <code>lib/Db/ObjectHandlers/MariaDbSearchHandler.php</code></p>
<p>Enhanced search performance with prioritized search strategy:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="search-priority-order">Search Priority Order<a href="#search-priority-order" class="hash-link" aria-label="Direct link to Search Priority Order" title="Direct link to Search Priority Order">​</a></h4>
<ol>
<li>
<p><strong>PRIORITY 1</strong>: Indexed metadata columns (name, summary, description)</p>
<ul>
<li>Fastest performance using database indexes</li>
<li>Direct column access with LOWER() function</li>
</ul>
</li>
<li>
<p><strong>PRIORITY 2</strong>: Other metadata fields (image, etc.)</p>
<ul>
<li>Moderate performance with direct column access</li>
<li>No indexes but faster than JSON search</li>
</ul>
</li>
<li>
<p><strong>PRIORITY 3</strong>: JSON object search</p>
<ul>
<li>Comprehensive fallback using JSON_SEARCH()</li>
<li>Slowest but ensures complete search coverage</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="performance-impact">Performance Impact<a href="#performance-impact" class="hash-link" aria-label="Direct link to Performance Impact" title="Direct link to Performance Impact">​</a></h4>
<ul>
<li>Dramatic improvement in search response times</li>
<li>Leverages database indexes for common searches</li>
<li>Maintains comprehensive search coverage</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-cache-table-structure">5. Cache Table Structure<a href="#5-cache-table-structure" class="hash-link" aria-label="Direct link to 5. Cache Table Structure" title="Direct link to 5. Cache Table Structure">​</a></h3>
<p>Added two new cache tables:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="openregister_schema_cache"><code>openregister_schema_cache</code><a href="#openregister_schema_cache" class="hash-link" aria-label="Direct link to openregister_schema_cache" title="Direct link to openregister_schema_cache">​</a></h4>
<ul>
<li>Stores cached schema objects and computed properties</li>
<li>Supports TTL-based expiration</li>
<li>Indexed for fast schema lookup</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="openregister_schema_facet_cache"><code>openregister_schema_facet_cache</code><a href="#openregister_schema_facet_cache" class="hash-link" aria-label="Direct link to openregister_schema_facet_cache" title="Direct link to openregister_schema_facet_cache">​</a></h4>
<ul>
<li>Stores cached facet configurations and results</li>
<li>Supports different facet types</li>
<li>Indexed by schema and facet configuration</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="integration-points">Integration Points<a href="#integration-points" class="hash-link" aria-label="Direct link to Integration Points" title="Direct link to Integration Points">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-registration">Service Registration<a href="#service-registration" class="hash-link" aria-label="Direct link to Service Registration" title="Direct link to Service Registration">​</a></h3>
<p>Updated <code>lib/AppInfo/Application.php</code> to register new cache services:</p>
<ul>
<li><code>SchemaCacheService</code> - Schema caching and management</li>
<li><code>SchemaFacetCacheService</code> - Facet caching and discovery</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-driven-cache-invalidation">Event-Driven Cache Invalidation<a href="#event-driven-cache-invalidation" class="hash-link" aria-label="Direct link to Event-Driven Cache Invalidation" title="Direct link to Event-Driven Cache Invalidation">​</a></h3>
<p>The cache services are designed to integrate with existing event systems:</p>
<ul>
<li>Schema update events trigger cache invalidation</li>
<li>Automatic cleanup of expired cache entries</li>
<li>Statistics and monitoring support</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-expected-improvements">Performance Expected Improvements<a href="#performance-expected-improvements" class="hash-link" aria-label="Direct link to Performance Expected Improvements" title="Direct link to Performance Expected Improvements">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="search-performance">Search Performance<a href="#search-performance" class="hash-link" aria-label="Direct link to Search Performance" title="Direct link to Search Performance">​</a></h3>
<ul>
<li><strong>Metadata searches</strong>: 10-50x improvement using indexes</li>
<li><strong>Full-text searches</strong>: 3-10x improvement with prioritized strategy</li>
<li><strong>Complex searches</strong>: 5-15x improvement with composite indexes</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="faceting-performance">Faceting Performance<a href="#faceting-performance" class="hash-link" aria-label="Direct link to Faceting Performance" title="Direct link to Faceting Performance">​</a></h3>
<ul>
<li><strong>Schema-based facets</strong>: Near-instant response for cached facets</li>
<li><strong>Facetable field discovery</strong>: Predictable performance based on schema</li>
<li><strong>Facet result caching</strong>: Significant reduction in computation time</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema-loading-performance">Schema Loading Performance<a href="#schema-loading-performance" class="hash-link" aria-label="Direct link to Schema Loading Performance" title="Direct link to Schema Loading Performance">​</a></h3>
<ul>
<li><strong>Individual schemas</strong>: 5-10x improvement with caching</li>
<li><strong>Batch schema loading</strong>: 10-20x improvement with bulk operations</li>
<li><strong>Schema-dependent operations</strong>: Consistent sub-millisecond performance</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring-and-maintenance">Monitoring and Maintenance<a href="#monitoring-and-maintenance" class="hash-link" aria-label="Direct link to Monitoring and Maintenance" title="Direct link to Monitoring and Maintenance">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cache-statistics">Cache Statistics<a href="#cache-statistics" class="hash-link" aria-label="Direct link to Cache Statistics" title="Direct link to Cache Statistics">​</a></h3>
<p>Both cache services provide statistics methods:</p>
<ul>
<li>Total cache entries</li>
<li>Cache hit/miss ratios</li>
<li>Memory usage metrics</li>
<li>Expired entry counts</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cache-management">Cache Management<a href="#cache-management" class="hash-link" aria-label="Direct link to Cache Management" title="Direct link to Cache Management">​</a></h3>
<ul>
<li>Manual cache clearing capabilities</li>
<li>Automatic expired entry cleanup</li>
<li>Cache invalidation on schema updates</li>
<li>Performance monitoring and logging</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="maintenance-tasks">Maintenance Tasks<a href="#maintenance-tasks" class="hash-link" aria-label="Direct link to Maintenance Tasks" title="Direct link to Maintenance Tasks">​</a></h3>
<ul>
<li>Regular cleanup of expired cache entries</li>
<li>Monitoring of cache performance metrics</li>
<li>Index maintenance and optimization</li>
<li>Cache size monitoring and tuning</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage-recommendations">Usage Recommendations<a href="#usage-recommendations" class="hash-link" aria-label="Direct link to Usage Recommendations" title="Direct link to Usage Recommendations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="for-developers">For Developers<a href="#for-developers" class="hash-link" aria-label="Direct link to For Developers" title="Direct link to For Developers">​</a></h3>
<ol>
<li>Use the cache services when working with schemas frequently</li>
<li>Leverage facetable field discovery for dynamic UI generation</li>
<li>Monitor cache statistics for performance optimization</li>
<li>Consider cache warming for critical schemas</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="for-administrators">For Administrators<a href="#for-administrators" class="hash-link" aria-label="Direct link to For Administrators" title="Direct link to For Administrators">​</a></h3>
<ol>
<li>Monitor cache table sizes and performance</li>
<li>Set up regular cache cleanup cron jobs</li>
<li>Monitor search performance metrics</li>
<li>Consider index maintenance during low-traffic periods</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="for-api-consumers">For API Consumers<a href="#for-api-consumers" class="hash-link" aria-label="Direct link to For API Consumers" title="Direct link to For API Consumers">​</a></h3>
<ol>
<li>Expect significantly improved search response times</li>
<li>Faceting operations will be much faster</li>
<li>Schema-dependent operations will have consistent performance</li>
<li>Large result sets will be processed more efficiently</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-enhancements">Future Enhancements<a href="#future-enhancements" class="hash-link" aria-label="Direct link to Future Enhancements" title="Direct link to Future Enhancements">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="potential-improvements">Potential Improvements<a href="#potential-improvements" class="hash-link" aria-label="Direct link to Potential Improvements" title="Direct link to Potential Improvements">​</a></h3>
<ol>
<li><strong>Full-text search indexes</strong>: Consider MySQL FULLTEXT indexes for even better text search</li>
<li><strong>Distributed caching</strong>: Redis/Memcached integration for multi-server setups</li>
<li><strong>Query result caching</strong>: Cache complete search results for popular queries</li>
<li><strong>Adaptive caching</strong>: Machine learning-based cache optimization</li>
<li><strong>Search analytics</strong>: Comprehensive search performance monitoring</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring-opportunities">Monitoring Opportunities<a href="#monitoring-opportunities" class="hash-link" aria-label="Direct link to Monitoring Opportunities" title="Direct link to Monitoring Opportunities">​</a></h3>
<ol>
<li>Search query performance tracking</li>
<li>Cache effectiveness metrics</li>
<li>Index usage statistics</li>
<li>User search pattern analysis</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>These optimizations provide a solid foundation for high-performance search and faceting in OpenRegister. The combination of database indexes, intelligent caching, and optimized query execution creates a scalable and maintainable search system that can handle large datasets efficiently.</p>
<p>The predictable nature of schema-based faceting, combined with comprehensive caching strategies, ensures consistent performance even as data volumes grow. The modular design allows for future enhancements and easy maintenance.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-documentation">Related Documentation<a href="#related-documentation" class="hash-link" aria-label="Direct link to Related Documentation" title="Direct link to Related Documentation">​</a></h2>
<ul>
<li><a href="/docs/development/performance-optimization">Performance Optimization</a> - General performance guide</li>
<li><a href="/docs/technical/faceting-performance">Faceting Performance</a> - Hyper-performant faceting system</li>
<li><a href="/docs/Features/schemas">Schemas</a> - Schema documentation</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/conductionnl/openregister/tree/main/website/docs/development/search-optimization.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/development/api-validation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">OpenAPI Specification Validation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/development/rag-fix"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">RAG Semantic Search Fix</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#key-optimizations-implemented" class="table-of-contents__link toc-highlight">Key Optimizations Implemented</a><ul><li><a href="#1-database-index-optimization" class="table-of-contents__link toc-highlight">1. Database Index Optimization</a></li><li><a href="#2-schema-caching-system" class="table-of-contents__link toc-highlight">2. Schema Caching System</a></li><li><a href="#3-schema-based-facet-caching" class="table-of-contents__link toc-highlight">3. Schema-Based Facet Caching</a></li><li><a href="#4-optimized-search-query-execution" class="table-of-contents__link toc-highlight">4. Optimized Search Query Execution</a></li><li><a href="#5-cache-table-structure" class="table-of-contents__link toc-highlight">5. Cache Table Structure</a></li></ul></li><li><a href="#integration-points" class="table-of-contents__link toc-highlight">Integration Points</a><ul><li><a href="#service-registration" class="table-of-contents__link toc-highlight">Service Registration</a></li><li><a href="#event-driven-cache-invalidation" class="table-of-contents__link toc-highlight">Event-Driven Cache Invalidation</a></li></ul></li><li><a href="#performance-expected-improvements" class="table-of-contents__link toc-highlight">Performance Expected Improvements</a><ul><li><a href="#search-performance" class="table-of-contents__link toc-highlight">Search Performance</a></li><li><a href="#faceting-performance" class="table-of-contents__link toc-highlight">Faceting Performance</a></li><li><a href="#schema-loading-performance" class="table-of-contents__link toc-highlight">Schema Loading Performance</a></li></ul></li><li><a href="#monitoring-and-maintenance" class="table-of-contents__link toc-highlight">Monitoring and Maintenance</a><ul><li><a href="#cache-statistics" class="table-of-contents__link toc-highlight">Cache Statistics</a></li><li><a href="#cache-management" class="table-of-contents__link toc-highlight">Cache Management</a></li><li><a href="#maintenance-tasks" class="table-of-contents__link toc-highlight">Maintenance Tasks</a></li></ul></li><li><a href="#usage-recommendations" class="table-of-contents__link toc-highlight">Usage Recommendations</a><ul><li><a href="#for-developers" class="table-of-contents__link toc-highlight">For Developers</a></li><li><a href="#for-administrators" class="table-of-contents__link toc-highlight">For Administrators</a></li><li><a href="#for-api-consumers" class="table-of-contents__link toc-highlight">For API Consumers</a></li></ul></li><li><a href="#future-enhancements" class="table-of-contents__link toc-highlight">Future Enhancements</a><ul><li><a href="#potential-improvements" class="table-of-contents__link toc-highlight">Potential Improvements</a></li><li><a href="#monitoring-opportunities" class="table-of-contents__link toc-highlight">Monitoring Opportunities</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#related-documentation" class="table-of-contents__link toc-highlight">Related Documentation</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/conductionnl/openregister" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 for <a href="https://openwebconcept.nl">Open Webconcept</a> by <a href="https://conduction.nl">Conduction B.V.</a></div></div></div></footer></div>
</body>
</html>