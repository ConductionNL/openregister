<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-features/ner-nlp-concepts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">NER &amp; NLP Concepts | Open Register</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://openregisters.app/docs/features/ner-nlp-concepts"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="NER &amp; NLP Concepts | Open Register"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="canonical" href="https://openregisters.app/docs/features/ner-nlp-concepts"><link data-rh="true" rel="alternate" href="https://openregisters.app/docs/features/ner-nlp-concepts" hreflang="en"><link data-rh="true" rel="alternate" href="https://openregisters.app/docs/features/ner-nlp-concepts" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.3a202f4d.css">
<script src="/assets/js/runtime~main.7c9b7be8.js" defer="defer"></script>
<script src="/assets/js/main.8e6b3835.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Open Register Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Open Register Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Open Register</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Integrations">Documentation</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/api">API Documentation</a><a href="https://github.com/conductionnl/openregister" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Integrations">Integrations Overview</a><button aria-label="Expand sidebar category &#x27;Integrations Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Development/Services">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Features">Core Features</a><button aria-label="Expand sidebar category &#x27;Core Features&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Technical/vectorization-architecture">Technical</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/UseCases/clientRegisters">UseCases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/api/bulk-operations">api</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/developers/external-app-optimization">developers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/development/deeplinking-spot">development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/features/ai">features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/features/ai">AI Chat Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/features/organisation-roles">Organisation Roles (RBAC)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/features/organisation-default-configuration">Default Organisation Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/features/text-extraction-sources">Text Extraction Sources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/features/text-extraction-enhanced">Enhanced Text Extraction &amp; GDPR Entity Tracking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/features/archiving-and-metadata">Archiving and Metadata Classification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/features/ner-nlp-concepts">NER &amp; NLP Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/features/agents">Agents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/features/chat-rag-deepdive">Chat RAG (Retrieval Augmented Generation) - Deep Dive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/features/function-calling">Function Calling (Tools)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/features/rag-implementation">RAG (Retrieval Augmented Generation) Implementation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/features/views">Views: Reusable Query Filters</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/technical/vector-search-backends">technical</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user/ai-conversations">user</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user-guide/configuration/api-tokens">user-guide</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">features</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">NER &amp; NLP Concepts</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Named Entity Recognition (NER) &amp; Natural Language Processing (NLP)</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>OpenRegister uses Named Entity Recognition (NER) and Natural Language Processing (NLP) techniques to automatically identify and extract sensitive information from documents for GDPR compliance, data classification, and intelligent search capabilities.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-nlp">What is NLP?<a href="#what-is-nlp" class="hash-link" aria-label="Direct link to What is NLP?" title="Direct link to What is NLP?">​</a></h2>
<p><strong>Natural Language Processing (NLP)</strong> is a field of artificial intelligence that enables computers to understand, interpret, and process human language in a meaningful way.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core-nlp-capabilities-in-openregister">Core NLP Capabilities in OpenRegister<a href="#core-nlp-capabilities-in-openregister" class="hash-link" aria-label="Direct link to Core NLP Capabilities in OpenRegister" title="Direct link to Core NLP Capabilities in OpenRegister">​</a></h3>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">graph TB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A[Document Text] --&gt; B{NLP Processing}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    B --&gt; C[Text Extraction]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    B --&gt; D[Language Detection]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    B --&gt; E[Entity Recognition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    B --&gt; F[Text Classification]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    B --&gt; G[Sentiment Analysis]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    C --&gt; C1[PDF, DOCX, Images]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    D --&gt; D1[Identify Language: EN, NL, DE]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    E --&gt; E1[Persons, Organizations, Locations]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    F --&gt; F1[Document Type, Category]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    G --&gt; G1[Positive, Negative, Neutral]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style A fill:#e3f2fd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style B fill:#fff3e0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style C fill:#c8e6c9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style D fill:#b2dfdb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style E fill:#ffccbc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style F fill:#e1bee7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style G fill:#f8bbd0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nlp-tasks-in-openregister">NLP Tasks in OpenRegister<a href="#nlp-tasks-in-openregister" class="hash-link" aria-label="Direct link to NLP Tasks in OpenRegister" title="Direct link to NLP Tasks in OpenRegister">​</a></h3>
<ol>
<li><strong>Text Extraction</strong>: Convert files (PDF, DOCX, images) into machine-readable text</li>
<li><strong>Language Detection</strong>: Identify the language of content (English, Dutch, German, etc.)</li>
<li><strong>Language Level Assessment</strong>: Determine reading difficulty (A1-C2 CEFR levels, Flesch-Kincaid scores)</li>
<li><strong>Named Entity Recognition (NER)</strong>: Identify persons, organizations, locations, dates, etc.</li>
<li><strong>Text Chunking</strong>: Split documents into semantic units for better processing</li>
<li><strong>Text Classification</strong>: Categorize documents by type, topic, or sensitivity</li>
<li><strong>Sentiment Analysis</strong>: Understand emotional tone (future feature)</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-ner">What is NER?<a href="#what-is-ner" class="hash-link" aria-label="Direct link to What is NER?" title="Direct link to What is NER?">​</a></h2>
<p><strong>Named Entity Recognition (NER)</strong> is a specific NLP task that locates and classifies named entities (proper nouns and important terms) in text into predefined categories.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entity-categories">Entity Categories<a href="#entity-categories" class="hash-link" aria-label="Direct link to Entity Categories" title="Direct link to Entity Categories">​</a></h3>
<p>OpenRegister recognizes these entity types for GDPR compliance:</p>
<table><thead><tr><th>Entity Type</th><th>Description</th><th>Examples</th><th>GDPR Category</th></tr></thead><tbody><tr><td><strong>PERSON</strong></td><td>Individual names</td><td>John Doe, Jane Smith</td><td>Personal Data</td></tr><tr><td><strong>EMAIL</strong></td><td>Email addresses</td><td><a href="mailto:john@example.com" target="_blank" rel="noopener noreferrer">john@example.com</a></td><td>Personal Data</td></tr><tr><td><strong>PHONE</strong></td><td>Phone numbers</td><td>+31 6 12345678</td><td>Personal Data</td></tr><tr><td><strong>ADDRESS</strong></td><td>Physical addresses</td><td>123 Main St, Amsterdam</td><td>Personal Data</td></tr><tr><td><strong>ORGANIZATION</strong></td><td>Company/org names</td><td>Acme Corporation</td><td>Business Data</td></tr><tr><td><strong>LOCATION</strong></td><td>Geographic locations</td><td>Amsterdam, Netherlands</td><td>Contextual Data</td></tr><tr><td><strong>DATE</strong></td><td>Dates and times</td><td>2025-01-15, January 15th</td><td>Temporal Data</td></tr><tr><td><strong>IBAN</strong></td><td>Bank account numbers</td><td>NL91 ABNA 0417 1643 00</td><td>Sensitive PII</td></tr><tr><td><strong>SSN</strong></td><td>Social security numbers</td><td>123-45-6789</td><td>Sensitive PII</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ner-process-flow">NER Process Flow<a href="#ner-process-flow" class="hash-link" aria-label="Direct link to NER Process Flow" title="Direct link to NER Process Flow">​</a></h3>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sequenceDiagram</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    participant Doc as Document</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    participant Extract as Text Extractor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    participant Chunk as Chunking Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    participant NER as NER Engine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    participant DB as GDPR Register</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Doc-&gt;&gt;Extract: Upload PDF/DOCX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Extract-&gt;&gt;Extract: Convert to plain text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Extract-&gt;&gt;Chunk: Send complete text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Chunk-&gt;&gt;Chunk: Split into chunks (1000 chars)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Chunk-&gt;&gt;NER: Process each chunk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NER-&gt;&gt;NER: Detect entities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Note over NER: Method: MITIE/Presidio/LLM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NER-&gt;&gt;NER: Classify entity types</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NER-&gt;&gt;NER: Calculate confidence</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NER-&gt;&gt;DB: Store Entity (person, email, etc.)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NER-&gt;&gt;DB: Store EntityRelation (position, chunk)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DB--&gt;&gt;NER: Entity ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NER--&gt;&gt;Chunk: Entities detected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Chunk--&gt;&gt;Doc: Processing complete</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ner-implementation-options">NER Implementation Options<a href="#ner-implementation-options" class="hash-link" aria-label="Direct link to NER Implementation Options" title="Direct link to NER Implementation Options">​</a></h2>
<p>OpenRegister supports multiple NER engines to balance accuracy, privacy, and infrastructure requirements:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-mitie-php-library-local---basic-setup">1. MITIE PHP Library (Local - Basic Setup)<a href="#1-mitie-php-library-local---basic-setup" class="hash-link" aria-label="Direct link to 1. MITIE PHP Library (Local - Basic Setup)" title="Direct link to 1. MITIE PHP Library (Local - Basic Setup)">​</a></h3>
<p><strong>MITIE</strong> (MIT Information Extraction) is an open-source NER library from MIT that runs entirely locally.</p>
<p><strong>Recommended for:</strong></p>
<ul>
<li>Development environments</li>
<li>Privacy-sensitive deployments with no external API calls</li>
<li>Basic entity recognition needs</li>
<li>Low-resource environments</li>
</ul>
<p><strong>Advantages:</strong></p>
<ul>
<li>✅ No external dependencies</li>
<li>✅ Complete privacy (all processing local)</li>
<li>✅ No API costs</li>
<li>✅ Fast processing</li>
<li>✅ Works offline</li>
</ul>
<p><strong>Limitations:</strong></p>
<ul>
<li>⚠️ Lower accuracy than cloud services</li>
<li>⚠️ Requires PHP extension compilation</li>
<li>⚠️ Limited language support</li>
<li>⚠️ Pattern-based detection (regex + ML models)</li>
</ul>
<p><strong>Installation:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Install MITIE PHP extension</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/mit-nlp/MITIE.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd MITIE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir build &amp;&amp; cd build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cmake ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cmake --build . --config Release --target install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Enable PHP extension</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;extension=mitie.so&quot; &gt; /etc/php/8.1/mods-available/mitie.ini</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">phpenmod mitie</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Usage Example:</strong></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">use OCA\OpenRegister\Service\NerService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// MITIE will detect entities using local models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$nerService = $this-&gt;container-&gt;get(NerService::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$entities = $nerService-&gt;extractEntities($text, &#x27;mitie&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach ($entities as $entity) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Found {$entity[&#x27;type&#x27;]}: {$entity[&#x27;value&#x27;]} (confidence: {$entity[&#x27;confidence&#x27;]})\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Detection Methods:</strong></p>
<ul>
<li>Pattern matching (regex) for emails, phones, IBANs</li>
<li>Statistical ML models for persons and organizations</li>
<li>Dictionary-based location detection</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-microsoft-presidio-production---recommended">2. Microsoft Presidio (Production - Recommended)<a href="#2-microsoft-presidio-production---recommended" class="hash-link" aria-label="Direct link to 2. Microsoft Presidio (Production - Recommended)" title="Direct link to 2. Microsoft Presidio (Production - Recommended)">​</a></h3>
<p><strong>Presidio</strong> is Microsoft&#x27;s open-source PII detection and anonymization framework with state-of-the-art accuracy.</p>
<p><strong>Recommended for:</strong></p>
<ul>
<li>✅ Production deployments</li>
<li>✅ GDPR compliance requirements</li>
<li>✅ Multi-language support needed</li>
<li>✅ High accuracy requirements</li>
</ul>
<p><strong>Advantages:</strong></p>
<ul>
<li>✅ High accuracy (90-98% precision)</li>
<li>✅ Multi-language support (50+ languages)</li>
<li>✅ PII-specific focus (built for GDPR/CCPA)</li>
<li>✅ Anonymization built-in</li>
<li>✅ Regular updates and improvements</li>
<li>✅ Self-hosted option (Docker)</li>
<li>✅ Extensible with custom recognizers</li>
</ul>
<p><strong>Deployment:</strong></p>
<p>Presidio Analyzer can be deployed as a Docker container (included in OpenRegister&#x27;s docker-compose.yml):</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">presidio-analyzer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mcr.microsoft.com/presidio</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">analyzer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> openregister</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">presidio</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">analyzer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">restart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;5001:5001&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> GRPC_PORT=5001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> LOG_LEVEL=INFO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Multi-language support including Dutch</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> PRESIDIO_ANALYZER_LANGUAGES=en</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">nl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">de</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">fr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">es</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">limits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 2G</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">reservations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 512M</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">healthcheck</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">test</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;CMD-SHELL&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;curl -f http://localhost:5001/health || exit 1&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 30s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 10s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">retries</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">start_period</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 30s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Note</strong>: Presidio also offers a separate Anonymizer service, but OpenRegister handles anonymization internally using the detected entity positions from the Analyzer.</p>
<p><strong>Usage Example:</strong></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">use OCA\OpenRegister\Service\NerService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Presidio provides higher accuracy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$nerService = $this-&gt;container-&gt;get(NerService::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$entities = $nerService-&gt;extractEntities($text, &#x27;presidio&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;language&#x27; =&gt; &#x27;nl&#x27;  // Specify Dutch language</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach ($entities as $entity) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Found {$entity[&#x27;type&#x27;]}: {$entity[&#x27;value&#x27;]}\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Confidence: {$entity[&#x27;confidence&#x27;]}\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Position: {$entity[&#x27;start&#x27;]}-{$entity[&#x27;end&#x27;]}\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Supported Entity Types:</strong></p>
<ul>
<li>PERSON, EMAIL_ADDRESS, PHONE_NUMBER</li>
<li>LOCATION, ORGANIZATION</li>
<li>CREDIT_CARD, IBAN_CODE, SSN</li>
<li>IP_ADDRESS, URL, DATE_TIME</li>
<li>MEDICAL_LICENSE, US_PASSPORT</li>
<li>Custom types via plugins</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-llm-based-ner-gpt-4-claude-ollama">3. LLM-Based NER (GPT-4, Claude, Ollama)<a href="#3-llm-based-ner-gpt-4-claude-ollama" class="hash-link" aria-label="Direct link to 3. LLM-Based NER (GPT-4, Claude, Ollama)" title="Direct link to 3. LLM-Based NER (GPT-4, Claude, Ollama)">​</a></h3>
<p><strong>LLM-based NER</strong> uses large language models to detect entities with contextual understanding.</p>
<p><strong>Recommended for:</strong></p>
<ul>
<li>Complex entity relationships</li>
<li>Domain-specific entities</li>
<li>Ambiguous cases requiring context</li>
<li>Multi-task processing (NER + classification + sentiment)</li>
</ul>
<p><strong>Advantages:</strong></p>
<ul>
<li>✅ Best accuracy for complex cases</li>
<li>✅ Context-aware detection</li>
<li>✅ Handles ambiguity</li>
<li>✅ No training required</li>
<li>✅ Can detect custom entity types via prompts</li>
</ul>
<p><strong>Limitations:</strong></p>
<ul>
<li>⚠️ Slower than dedicated NER systems</li>
<li>⚠️ Higher cost (API calls)</li>
<li>⚠️ Requires careful prompt engineering</li>
<li>⚠️ Privacy considerations for cloud LLMs</li>
</ul>
<p><strong>Usage Example:</strong></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">use OCA\OpenRegister\Service\NerService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use OCA\OpenRegister\Service\LLMService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Use Ollama (local) or OpenAI (cloud) for NER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$nerService = $this-&gt;container-&gt;get(NerService::class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$entities = $nerService-&gt;extractEntities($text, &#x27;llm&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;provider&#x27; =&gt; &#x27;ollama&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;model&#x27; =&gt; &#x27;llama3.2&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;temperature&#x27; =&gt; 0.1  // Low temperature for consistent extraction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach ($entities as $entity) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Found {$entity[&#x27;type&#x27;]}: {$entity[&#x27;value&#x27;]}\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Context: {$entity[&#x27;context&#x27;]}\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Reasoning: {$entity[&#x27;reasoning&#x27;]}\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Supported Providers:</strong></p>
<ul>
<li><strong>Ollama</strong> (local, privacy-first)</li>
<li><strong>OpenAI</strong> (GPT-4, GPT-4-turbo)</li>
<li><strong>Anthropic</strong> (Claude 3)</li>
<li><strong>Azure OpenAI</strong></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-hybrid-approach-best-accuracy">4. Hybrid Approach (Best Accuracy)<a href="#4-hybrid-approach-best-accuracy" class="hash-link" aria-label="Direct link to 4. Hybrid Approach (Best Accuracy)" title="Direct link to 4. Hybrid Approach (Best Accuracy)">​</a></h3>
<p>Combine multiple methods for optimal accuracy and coverage:</p>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">graph LR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A[Text Chunk] --&gt; B{NER Method 1: MITIE}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A --&gt; C{NER Method 2: Presidio}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A --&gt; D{NER Method 3: LLM}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    B --&gt; E[Entities + Confidence]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    C --&gt; E</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    D --&gt; E</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    E --&gt; F{Confidence Aggregation}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    F --&gt;|Consensus| G[High Confidence]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    F --&gt;|Conflict| H[Review Required]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    G --&gt; I[Store in GDPR Register]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    H --&gt; J[Flag for Manual Review]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style A fill:#e3f2fd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style F fill:#fff3e0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style G fill:#c8e6c9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style H fill:#ffccbc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style I fill:#b2dfdb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Hybrid Strategy:</strong></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$entities = $nerService-&gt;extractEntities($text, &#x27;hybrid&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;methods&#x27; =&gt; [&#x27;mitie&#x27;, &#x27;presidio&#x27;, &#x27;llm&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;consensus_threshold&#x27; =&gt; 0.75,  // Require 2/3 agreement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;min_confidence&#x27; =&gt; 0.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Example result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;entity&#x27; =&gt; &#x27;john.doe@example.com&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;type&#x27; =&gt; &#x27;email&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;detections&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;mitie&#x27; =&gt; [&#x27;confidence&#x27; =&gt; 0.95],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;presidio&#x27; =&gt; [&#x27;confidence&#x27; =&gt; 0.98],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;llm&#x27; =&gt; [&#x27;confidence&#x27; =&gt; 0.92]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;final_confidence&#x27; =&gt; 0.95,  // Average of all methods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;consensus&#x27; =&gt; true  // All 3 methods agreed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="entity-extraction-accuracy">Entity Extraction Accuracy<a href="#entity-extraction-accuracy" class="hash-link" aria-label="Direct link to Entity Extraction Accuracy" title="Direct link to Entity Extraction Accuracy">​</a></h2>
<p>Typical accuracy ranges by method:</p>
<table><thead><tr><th>Method</th><th>Precision</th><th>Recall</th><th>F1 Score</th><th>Speed</th></tr></thead><tbody><tr><td><strong>MITIE</strong> (Local)</td><td>75-85%</td><td>70-80%</td><td>72-82%</td><td>⚡⚡⚡ Fast</td></tr><tr><td><strong>Presidio</strong> (Production)</td><td>90-95%</td><td>85-92%</td><td>87-93%</td><td>⚡⚡ Medium</td></tr><tr><td><strong>LLM</strong> (GPT-4)</td><td>92-98%</td><td>90-95%</td><td>91-96%</td><td>⚡ Slow</td></tr><tr><td><strong>Hybrid</strong></td><td>95-99%</td><td>92-96%</td><td>93-97%</td><td>⚡ Slow</td></tr></tbody></table>
<p><strong>Definitions:</strong></p>
<ul>
<li><strong>Precision</strong>: Percentage of detected entities that are correct (low false positives)</li>
<li><strong>Recall</strong>: Percentage of actual entities that were detected (low false negatives)</li>
<li><strong>F1 Score</strong>: Harmonic mean of precision and recall (overall accuracy)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h2>
<p>Entity extraction is configured in OpenRegister settings:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// config/ner_config.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;ner_enabled&#x27; =&gt; true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;ner_method&#x27; =&gt; &#x27;presidio&#x27;,  // or &#x27;mitie&#x27;, &#x27;llm&#x27;, &#x27;hybrid&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // MITIE configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;mitie&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;model_path&#x27; =&gt; &#x27;/var/www/html/custom_apps/openregister/models/mitie&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;languages&#x27; =&gt; [&#x27;en&#x27;, &#x27;nl&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Presidio configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;presidio&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;analyzer_url&#x27; =&gt; &#x27;http://presidio-analyzer:5001&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;anonymizer_url&#x27; =&gt; &#x27;http://presidio-anonymizer:5002&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;languages&#x27; =&gt; [&#x27;en&#x27;, &#x27;nl&#x27;, &#x27;de&#x27;, &#x27;fr&#x27;, &#x27;es&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;score_threshold&#x27; =&gt; 0.6  // Minimum confidence</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // LLM configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;llm&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;provider&#x27; =&gt; &#x27;ollama&#x27;,  // or &#x27;openai&#x27;, &#x27;anthropic&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;model&#x27; =&gt; &#x27;llama3.2&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;temperature&#x27; =&gt; 0.1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;max_tokens&#x27; =&gt; 4000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Hybrid configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;hybrid&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;methods&#x27; =&gt; [&#x27;mitie&#x27;, &#x27;presidio&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;consensus_threshold&#x27; =&gt; 0.67,  // Require 2/3 agreement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;fallback_to_llm&#x27; =&gt; true  // Use LLM for conflicts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gdpr-compliance">GDPR Compliance<a href="#gdpr-compliance" class="hash-link" aria-label="Direct link to GDPR Compliance" title="Direct link to GDPR Compliance">​</a></h2>
<p>The NER system supports GDPR compliance through:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-complete-data-subject-profiles">1. Complete Data Subject Profiles<a href="#1-complete-data-subject-profiles" class="hash-link" aria-label="Direct link to 1. Complete Data Subject Profiles" title="Direct link to 1. Complete Data Subject Profiles">​</a></h3>
<p>Track all occurrences of a person across all documents:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Find all documents containing John Doe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$person = $entityMapper-&gt;findByValue(&#x27;John Doe&#x27;, GdprEntity::TYPE_PERSON);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$relations = $entityRelationMapper-&gt;findByEntityId($person-&gt;getId());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach ($relations as $relation) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $chunk = $chunkMapper-&gt;find($relation-&gt;getChunkId());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Found in: {$chunk-&gt;getSourceType()} #{$chunk-&gt;getSourceId()}\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Position: {$relation-&gt;getPositionStart()}-{$relation-&gt;getPositionEnd()}\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Confidence: {$relation-&gt;getConfidence()}\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-role-based-anonymization">2. Role-Based Anonymization<a href="#2-role-based-anonymization" class="hash-link" aria-label="Direct link to 2. Role-Based Anonymization" title="Direct link to 2. Role-Based Anonymization">​</a></h3>
<p>Different handling based on entity context:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Role types</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EntityRelation::ROLE_PUBLIC_FIGURE      // CEO in press release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EntityRelation::ROLE_EMPLOYEE           // Staff in official docs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EntityRelation::ROLE_PRIVATE_INDIVIDUAL // Customer in support ticket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EntityRelation::ROLE_MENTIONED          // Third party reference</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Anonymization decision</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if ($relation-&gt;getRole() === EntityRelation::ROLE_PRIVATE_INDIVIDUAL) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $anonymized = $anonymizationService-&gt;anonymize($entity);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $relation-&gt;setAnonymized(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $relation-&gt;setAnonymizedValue($anonymized);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-source-document-tracking">3. Source Document Tracking<a href="#3-source-document-tracking" class="hash-link" aria-label="Direct link to 3. Source Document Tracking" title="Direct link to 3. Source Document Tracking">​</a></h3>
<p>Always know which files contain which entities:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Get all files containing this person</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$relations = $entityRelationMapper-&gt;findByEntityId($personId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$fileIds = array_unique(array_column($relations, &#x27;file_id&#x27;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Prepare for GDPR request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$documents = $fileMapper-&gt;findByIds($fileIds);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-choose-the-right-method-for-your-use-case">1. Choose the Right Method for Your Use Case<a href="#1-choose-the-right-method-for-your-use-case" class="hash-link" aria-label="Direct link to 1. Choose the Right Method for Your Use Case" title="Direct link to 1. Choose the Right Method for Your Use Case">​</a></h3>
<ul>
<li><strong>Development/Testing</strong>: Use MITIE for quick setup</li>
<li><strong>Production/GDPR</strong>: Use Presidio for best accuracy and compliance</li>
<li><strong>Privacy-Critical</strong>: Use Ollama (local LLM) to avoid cloud APIs</li>
<li><strong>Complex Cases</strong>: Use Hybrid approach with multiple methods</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-confidence-thresholds">2. Confidence Thresholds<a href="#2-confidence-thresholds" class="hash-link" aria-label="Direct link to 2. Confidence Thresholds" title="Direct link to 2. Confidence Thresholds">​</a></h3>
<p>Set appropriate confidence thresholds based on use case:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Conservative (fewer false positives)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;min_confidence&#x27; =&gt; 0.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Balanced (good trade-off)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;min_confidence&#x27; =&gt; 0.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Aggressive (catch more entities, more false positives)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;min_confidence&#x27; =&gt; 0.4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-manual-review-queue">3. Manual Review Queue<a href="#3-manual-review-queue" class="hash-link" aria-label="Direct link to 3. Manual Review Queue" title="Direct link to 3. Manual Review Queue">​</a></h3>
<p>Flag low-confidence detections for human review:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if ($entity[&#x27;confidence&#x27;] &lt; 0.75) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $reviewQueue-&gt;add($entity, $chunk);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-regular-model-updates">4. Regular Model Updates<a href="#4-regular-model-updates" class="hash-link" aria-label="Direct link to 4. Regular Model Updates" title="Direct link to 4. Regular Model Updates">​</a></h3>
<ul>
<li>Update MITIE models quarterly</li>
<li>Keep Presidio containers updated</li>
<li>Fine-tune LLM prompts based on false positives</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-considerations">Performance Considerations<a href="#performance-considerations" class="hash-link" aria-label="Direct link to Performance Considerations" title="Direct link to Performance Considerations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="processing-speed">Processing Speed<a href="#processing-speed" class="hash-link" aria-label="Direct link to Processing Speed" title="Direct link to Processing Speed">​</a></h3>
<p>Average processing time per 1000-character chunk:</p>
<ul>
<li><strong>MITIE</strong>: 10-50ms (local, fast)</li>
<li><strong>Presidio</strong>: 100-300ms (API call, medium)</li>
<li><strong>LLM</strong> (Ollama local): 500-2000ms (slow, depends on model)</li>
<li><strong>LLM</strong> (OpenAI API): 200-1000ms (API latency)</li>
<li><strong>Hybrid</strong>: 500-3000ms (slowest, but most accurate)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scalability">Scalability<a href="#scalability" class="hash-link" aria-label="Direct link to Scalability" title="Direct link to Scalability">​</a></h3>
<p>For large document collections:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Process in background jobs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$job = new EntityExtractionJob($fileId, &#x27;presidio&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$jobList-&gt;add($job);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Batch processing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$chunks = $chunkMapper-&gt;findPending(100);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$entities = $nerService-&gt;extractBatch($chunks, &#x27;presidio&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resource-requirements">Resource Requirements<a href="#resource-requirements" class="hash-link" aria-label="Direct link to Resource Requirements" title="Direct link to Resource Requirements">​</a></h3>
<table><thead><tr><th>Method</th><th>CPU</th><th>Memory</th><th>Network</th><th>Storage</th></tr></thead><tbody><tr><td>MITIE</td><td>Low</td><td>100MB</td><td>None</td><td>Minimal</td></tr><tr><td>Presidio</td><td>Medium</td><td>500MB</td><td>Yes</td><td>Minimal</td></tr><tr><td>LLM (Local)</td><td>High</td><td>8-16GB</td><td>None</td><td>High</td></tr><tr><td>LLM (API)</td><td>Low</td><td>100MB</td><td>Yes</td><td>Minimal</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mitie-not-detecting-entities">MITIE Not Detecting Entities<a href="#mitie-not-detecting-entities" class="hash-link" aria-label="Direct link to MITIE Not Detecting Entities" title="Direct link to MITIE Not Detecting Entities">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check if extension is loaded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php -m | grep mitie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Verify model files exist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ls -la /path/to/mitie/models/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Test detection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php occ openregister:ner:test --method=mitie --text=&quot;John Doe works at Acme Corp&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="presidio-connection-errors">Presidio Connection Errors<a href="#presidio-connection-errors" class="hash-link" aria-label="Direct link to Presidio Connection Errors" title="Direct link to Presidio Connection Errors">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check if Presidio is running</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl http://presidio-analyzer:5001/health</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># View logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs openregister-presidio-analyzer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Restart Presidio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose restart presidio-analyzer presidio-anonymizer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="low-accuracy">Low Accuracy<a href="#low-accuracy" class="hash-link" aria-label="Direct link to Low Accuracy" title="Direct link to Low Accuracy">​</a></h3>
<ul>
<li>Increase confidence threshold to reduce false positives</li>
<li>Switch to Presidio or Hybrid method</li>
<li>Fine-tune entity types in configuration</li>
<li>Add custom recognizers for domain-specific entities</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-enhancements">Future Enhancements<a href="#future-enhancements" class="hash-link" aria-label="Direct link to Future Enhancements" title="Direct link to Future Enhancements">​</a></h2>
<p>Planned improvements to NER/NLP:</p>
<ul>
<li>🔮 Custom entity types (product names, project codes)</li>
<li>🔮 Relationship extraction (person works at company)</li>
<li>🔮 Sentiment analysis per entity mention</li>
<li>🔮 Multi-document entity resolution (same person across files)</li>
<li>🔮 Temporal entity tracking (entity value changes over time)</li>
<li>🔮 Entity disambiguation (John Smith #1 vs John Smith #2)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-documentation">Related Documentation<a href="#related-documentation" class="hash-link" aria-label="Direct link to Related Documentation" title="Direct link to Related Documentation">​</a></h2>
<ul>
<li><a href="/docs/features/text-extraction-enhanced">Text Extraction Enhanced</a> - Complete text extraction pipeline</li>
<li><a href="/docs/technical/text-extraction-entities">Text Extraction Database Entities</a> - Database schema</li>
<li><a href="/docs/technical/entity-relationships-addition">Entity Relationships</a> - Entity data model</li>
<li><a href="/docs/Features/files">GDPR Features</a> - GDPR compliance features</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-examples">API Examples<a href="#api-examples" class="hash-link" aria-label="Direct link to API Examples" title="Direct link to API Examples">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extract-entities-from-text">Extract Entities from Text<a href="#extract-entities-from-text" class="hash-link" aria-label="Direct link to Extract Entities from Text" title="Direct link to Extract Entities from Text">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Using MITIE (local)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST http://nextcloud.local/index.php/apps/openregister/api/ner/extract \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -u admin:admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;text&quot;: &quot;Contact John Doe at john.doe@example.com or +31 6 12345678&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;method&quot;: &quot;mitie&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Using Presidio (production)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST http://nextcloud.local/index.php/apps/openregister/api/ner/extract \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -u admin:admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;text&quot;: &quot;Contact John Doe at john.doe@example.com or +31 6 12345678&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;method&quot;: &quot;presidio&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;anonymize&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-gdpr-profile">Get GDPR Profile<a href="#get-gdpr-profile" class="hash-link" aria-label="Direct link to Get GDPR Profile" title="Direct link to Get GDPR Profile">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Get all data for a person</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET http://nextcloud.local/index.php/apps/openregister/api/gdpr/profile/john.doe@example.com \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -u admin:admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Response includes all files, chunks, and occurrences</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<p><strong>Note</strong>: For production GDPR compliance, we strongly recommend using <strong>Presidio</strong> or <strong>Hybrid</strong> methods for optimal accuracy. MITIE is suitable for development and testing purposes.</p>
<p>For detailed setup instructions including Dutch language support, see <a href="/docs/development/presidio-setup">Presidio Setup for Dutch Language</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/conductionnl/openregister/tree/main/website/docs/features/ner-nlp-concepts.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/features/archiving-and-metadata"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Archiving and Metadata Classification</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/features/agents"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Agents</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#what-is-nlp" class="table-of-contents__link toc-highlight">What is NLP?</a><ul><li><a href="#core-nlp-capabilities-in-openregister" class="table-of-contents__link toc-highlight">Core NLP Capabilities in OpenRegister</a></li><li><a href="#nlp-tasks-in-openregister" class="table-of-contents__link toc-highlight">NLP Tasks in OpenRegister</a></li></ul></li><li><a href="#what-is-ner" class="table-of-contents__link toc-highlight">What is NER?</a><ul><li><a href="#entity-categories" class="table-of-contents__link toc-highlight">Entity Categories</a></li><li><a href="#ner-process-flow" class="table-of-contents__link toc-highlight">NER Process Flow</a></li></ul></li><li><a href="#ner-implementation-options" class="table-of-contents__link toc-highlight">NER Implementation Options</a><ul><li><a href="#1-mitie-php-library-local---basic-setup" class="table-of-contents__link toc-highlight">1. MITIE PHP Library (Local - Basic Setup)</a></li><li><a href="#2-microsoft-presidio-production---recommended" class="table-of-contents__link toc-highlight">2. Microsoft Presidio (Production - Recommended)</a></li><li><a href="#3-llm-based-ner-gpt-4-claude-ollama" class="table-of-contents__link toc-highlight">3. LLM-Based NER (GPT-4, Claude, Ollama)</a></li><li><a href="#4-hybrid-approach-best-accuracy" class="table-of-contents__link toc-highlight">4. Hybrid Approach (Best Accuracy)</a></li></ul></li><li><a href="#entity-extraction-accuracy" class="table-of-contents__link toc-highlight">Entity Extraction Accuracy</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li><li><a href="#gdpr-compliance" class="table-of-contents__link toc-highlight">GDPR Compliance</a><ul><li><a href="#1-complete-data-subject-profiles" class="table-of-contents__link toc-highlight">1. Complete Data Subject Profiles</a></li><li><a href="#2-role-based-anonymization" class="table-of-contents__link toc-highlight">2. Role-Based Anonymization</a></li><li><a href="#3-source-document-tracking" class="table-of-contents__link toc-highlight">3. Source Document Tracking</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a><ul><li><a href="#1-choose-the-right-method-for-your-use-case" class="table-of-contents__link toc-highlight">1. Choose the Right Method for Your Use Case</a></li><li><a href="#2-confidence-thresholds" class="table-of-contents__link toc-highlight">2. Confidence Thresholds</a></li><li><a href="#3-manual-review-queue" class="table-of-contents__link toc-highlight">3. Manual Review Queue</a></li><li><a href="#4-regular-model-updates" class="table-of-contents__link toc-highlight">4. Regular Model Updates</a></li></ul></li><li><a href="#performance-considerations" class="table-of-contents__link toc-highlight">Performance Considerations</a><ul><li><a href="#processing-speed" class="table-of-contents__link toc-highlight">Processing Speed</a></li><li><a href="#scalability" class="table-of-contents__link toc-highlight">Scalability</a></li><li><a href="#resource-requirements" class="table-of-contents__link toc-highlight">Resource Requirements</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#mitie-not-detecting-entities" class="table-of-contents__link toc-highlight">MITIE Not Detecting Entities</a></li><li><a href="#presidio-connection-errors" class="table-of-contents__link toc-highlight">Presidio Connection Errors</a></li><li><a href="#low-accuracy" class="table-of-contents__link toc-highlight">Low Accuracy</a></li></ul></li><li><a href="#future-enhancements" class="table-of-contents__link toc-highlight">Future Enhancements</a></li><li><a href="#related-documentation" class="table-of-contents__link toc-highlight">Related Documentation</a></li><li><a href="#api-examples" class="table-of-contents__link toc-highlight">API Examples</a><ul><li><a href="#extract-entities-from-text" class="table-of-contents__link toc-highlight">Extract Entities from Text</a></li><li><a href="#get-gdpr-profile" class="table-of-contents__link toc-highlight">Get GDPR Profile</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/conductionnl/openregister" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 for <a href="https://openwebconcept.nl">Open Webconcept</a> by <a href="https://conduction.nl">Conduction B.V.</a></div></div></div></footer></div>
</body>
</html>