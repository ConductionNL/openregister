<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="STATE" height="533px" preserveAspectRatio="none" style="width:358px;height:533px;background:#FFFFFF;" version="1.1" viewBox="0 0 358 533" width="358px" zoomAndPan="magnify"><title>Object Lifecycle State Machine</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="243.4688" x="50.2974" y="22.9951">Object Lifecycle State Machine</text><ellipse cx="65.52" cy="53.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><g id="Active"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="63.5518" x="33.74" y="124.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="33.74" x2="97.2918" y1="150.5938" y2="150.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.5518" x="43.74" y="142.292">Active</text></g><g id="SoftDeleted"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="102.7559" x="14.14" y="251.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="14.14" x2="116.8959" y1="277.5938" y2="277.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.7559" x="24.14" y="269.292">SoftDeleted</text></g><g id="PendingPurge"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="117.0361" x="7" y="378.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="7" x2="124.0361" y1="404.5938" y2="404.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.0361" x="17" y="396.292">PendingPurge</text></g><ellipse cx="65.52" cy="516.2969" fill="#FFFFFF" fill-opacity="0.00000" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="65.52" cy="516.2969" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><g id="elem_GMN2"><path d="M131.95,129.1669 L131.95,145.2969 L97.72,149.2969 L131.95,153.2969 L131.95,169.4325 A0,0 0 0 0 131.95,169.4325 L313.0823,169.4325 A0,0 0 0 0 313.0823,169.4325 L313.0823,139.1669 L303.0823,129.1669 L131.95,129.1669 A0,0 0 0 0 131.95,129.1669 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M303.0823,129.1669 L303.0823,139.1669 L313.0823,139.1669 L303.0823,129.1669 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.1323" x="137.95" y="146.2338">Object is fully accessible</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.0664" x="171.983" y="161.3666">deleted = null</text></g><g id="elem_GMN5"><path d="M151.98,256.1669 L151.98,272.2969 L117.1,276.2969 L151.98,280.2969 L151.98,296.4325 A0,0 0 0 0 151.98,296.4325 L351.0635,296.4325 A0,0 0 0 0 351.0635,296.4325 L351.0635,266.1669 L341.0635,256.1669 L151.98,256.1669 A0,0 0 0 0 151.98,256.1669 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M341.0635,256.1669 L341.0635,266.1669 L351.0635,266.1669 L341.0635,256.1669 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.0835" x="157.98" y="273.2338">Object hidden from queries</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.4868" x="177.7783" y="288.3666">deleted = timestamp</text></g><g id="elem_GMN8"><path d="M159.43,383.1669 L159.43,399.2969 L124.21,403.2969 L159.43,407.2969 L159.43,423.4325 A0,0 0 0 0 159.43,423.4325 L349.6014,423.4325 A0,0 0 0 0 349.6014,423.4325 L349.6014,393.1669 L339.6014,383.1669 L159.43,383.1669 A0,0 0 0 0 159.43,383.1669 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M339.6014,383.1669 L339.6014,393.1669 L349.6014,393.1669 L339.6014,383.1669 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.0967" x="168.4674" y="400.2338">Object ready for removal</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.1714" x="165.43" y="415.3666">current date &gt; purgeDate</text></g><!--link *start* to Active--><g id="link_*start*_Active"><path d="M65.52,63.6569 C65.52,77.5869 65.52,98.2469 65.52,117.9469 " fill="#FFFFFF" fill-opacity="0.00000" id="*start*-to-Active" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="65.52,123.9469,69.52,114.9469,65.52,118.9469,61.52,114.9469,65.52,123.9469" style="stroke:#181818;stroke-width:1;"/></g><!--link Active to SoftDeleted--><g id="link_Active_SoftDeleted"><path d="M36.38,174.7369 C28.38,183.1869 20.76,193.3169 16.52,204.2969 C9.99,221.2069 16.339,233.7426 29.329,246.7426 " fill="#FFFFFF" fill-opacity="0.00000" id="Active-to-SoftDeleted" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="33.57,250.9869,30.038,241.7931,30.0358,247.45,24.379,247.4478,33.57,250.9869" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.0986" x="17.52" y="217.3638">delete()</text></g><!--link SoftDeleted to Active--><g id="link_SoftDeleted_Active"><path d="M70.5,251.0269 C72.75,237.3269 74.67,219.8869 73.52,204.2969 C72.8,194.5569 72.3064,189.8433 70.8464,180.6033 " fill="#FFFFFF" fill-opacity="0.00000" id="SoftDeleted-to-Active" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="69.91,174.6769,67.3637,184.1909,70.6904,179.6156,75.2656,182.9423,69.91,174.6769" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.6528" x="74.52" y="217.3638">restore()</text></g><!--link SoftDeleted to PendingPurge--><g id="link_SoftDeleted_PendingPurge"><path d="M65.52,301.6969 C65.52,323.7169 65.52,349.9569 65.52,371.9569 " fill="#FFFFFF" fill-opacity="0.00000" id="SoftDeleted-to-PendingPurge" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="65.52,377.9569,69.52,368.9569,65.52,372.9569,61.52,368.9569,65.52,377.9569" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.4058" x="66.52" y="344.3638">retention period expired</text></g><!--link PendingPurge to *end*--><g id="link_PendingPurge_*end*"><path d="M65.52,428.6569 C65.52,452.5269 65.52,481.7569 65.52,499.0069 " fill="#FFFFFF" fill-opacity="0.00000" id="PendingPurge-to-*end*" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="65.52,505.0069,69.52,496.0069,65.52,500.0069,61.52,496.0069,65.52,505.0069" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.2295" x="66.52" y="471.3638">purge()</text></g><!--SRC=[RL7BJWCn3BpdAtm4fFv09IfLwX54fNAZ7DB4sJKapkBrLktVusLNwaDS4Z_6Ou-jf1dXxV25GU654ePpiC1ElIAy-j0Ie-k_YJilla2fN4ChjI2e3DUPYCaFMT_nfEjC3HTaXM0FYdCVJv-mMAnW7PIEwARlBxAhIJUOKJ72qaX6w-7HNOSlXOOGxBNAVv0jSYHkjeCq4r2jELM63eLg13nr91ZT3Mui78TRGZVwHkkucdAXfbMewT9uNX7ra8QSp-13mBwdGyOzntcCPs3BtJ7SAfnfMeeH6P9j4du66n3xQngbOZfzwUwuxZJEP88-dY5LCQlKeyzx3eF8U80udd4rYTkO_Gi0]--></g></svg>